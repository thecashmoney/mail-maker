var EO=Object.defineProperty;var CO=(t,e,n)=>e in t?EO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var al=(t,e,n)=>CO(t,typeof e!="symbol"?e+"":e,n);function bO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Db={exports:{}},wf={},Mb={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),TO=Symbol.for("react.portal"),IO=Symbol.for("react.fragment"),kO=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),AO=Symbol.for("react.forward_ref"),PO=Symbol.for("react.suspense"),OO=Symbol.for("react.memo"),$O=Symbol.for("react.lazy"),n1=Symbol.iterator;function DO(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var Lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fb=Object.assign,Bb={};function Wa(t,e,n){this.props=t,this.context=e,this.refs=Bb,this.updater=n||Lb}Wa.prototype.isReactComponent={};Wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ub(){}Ub.prototype=Wa.prototype;function xv(t,e,n){this.props=t,this.context=e,this.refs=Bb,this.updater=n||Lb}var Rv=xv.prototype=new Ub;Rv.constructor=xv;Fb(Rv,Wa.prototype);Rv.isPureReactComponent=!0;var r1=Array.isArray,zb=Object.prototype.hasOwnProperty,Nv={current:null},jb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zb.call(e,r)&&!jb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ic,type:t,key:s,ref:o,props:i,_owner:Nv.current}}function MO(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Av(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function LO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i1=/\/+/g;function tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LO(""+t.key):e.toString(36)}function Id(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case TO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tm(o,0):r,r1(i)?(n="",t!=null&&(n=t.replace(i1,"$&/")+"/"),Id(i,e,n,"",function(u){return u})):i!=null&&(Av(i)&&(i=MO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tm(s,a);o+=Id(s,e,n,l,i)}else if(l=DO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tm(s,a++),o+=Id(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vc(t,e,n){if(t==null)return t;var r=[],i=0;return Id(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},kd={transition:null},BO={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:kd,ReactCurrentOwner:Nv};function Wb(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!Av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Wa;de.Fragment=IO;de.Profiler=xO;de.PureComponent=xv;de.StrictMode=kO;de.Suspense=PO;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BO;de.act=Wb;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Nv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zb.call(e,l)&&!jb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ic,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:NO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RO,_context:t},t.Consumer=t};de.createElement=Vb;de.createFactory=function(t){var e=Vb.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:AO,render:t}};de.isValidElement=Av;de.lazy=function(t){return{$$typeof:$O,_payload:{_status:-1,_result:t},_init:FO}};de.memo=function(t,e){return{$$typeof:OO,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=kd.transition;kd.transition={};try{t()}finally{kd.transition=e}};de.unstable_act=Wb;de.useCallback=function(t,e){return pn.current.useCallback(t,e)};de.useContext=function(t){return pn.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};de.useEffect=function(t,e){return pn.current.useEffect(t,e)};de.useId=function(){return pn.current.useId()};de.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return pn.current.useMemo(t,e)};de.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};de.useRef=function(t){return pn.current.useRef(t)};de.useState=function(t){return pn.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return pn.current.useTransition()};de.version="18.3.1";Mb.exports=de;var E=Mb.exports;const Qn=$b(E),_g=bO({__proto__:null,default:Qn},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO=E,zO=Symbol.for("react.element"),jO=Symbol.for("react.fragment"),VO=Object.prototype.hasOwnProperty,WO=UO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HO={key:!0,ref:!0,__self:!0,__source:!0};function Hb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VO.call(e,r)&&!HO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zO,type:t,key:s,ref:o,props:i,_owner:WO.current}}wf.Fragment=jO;wf.jsx=Hb;wf.jsxs=Hb;Db.exports=wf;var I=Db.exports,qb={exports:{}},Bn={},Kb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var W=P.length;P.push(A);e:for(;0<W;){var ee=W-1>>>1,pe=P[ee];if(0<i(pe,A))P[ee]=A,P[W]=pe,W=ee;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],W=P.pop();if(W!==A){P[0]=W;e:for(var ee=0,pe=P.length,Se=pe>>>1;ee<Se;){var me=2*(ee+1)-1,Ee=P[me],Je=me+1,nt=P[Je];if(0>i(Ee,W))Je<pe&&0>i(nt,Ee)?(P[ee]=nt,P[Je]=W,ee=Je):(P[ee]=Ee,P[me]=W,ee=me);else if(Je<pe&&0>i(nt,W))P[ee]=nt,P[Je]=W,ee=Je;else break e}}return A}function i(P,A){var W=P.sortIndex-A.sortIndex;return W!==0?W:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=P)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function w(P){if(v=!1,m(P),!p)if(n(l)!==null)p=!0,z(b);else{var A=n(u);A!==null&&q(w,A.startTime-P)}}function b(P,A){p=!1,v&&(v=!1,g(k),k=-1),f=!0;var W=h;try{for(m(A),d=n(l);d!==null&&(!(d.expirationTime>A)||P&&!x());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var pe=ee(d.expirationTime<=A);A=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),m(A)}else r(l);d=n(l)}if(d!==null)var Se=!0;else{var me=n(u);me!==null&&q(w,me.startTime-A),Se=!1}return Se}finally{d=null,h=W,f=!1}}var C=!1,T=null,k=-1,N=5,_=-1;function x(){return!(t.unstable_now()-_<N)}function L(){if(T!==null){var P=t.unstable_now();_=P;var A=!0;try{A=T(!0,P)}finally{A?F():(C=!1,T=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=L,F=function(){O.postMessage(null)}}else F=function(){S(L,0)};function z(P){T=P,C||(C=!0,F())}function q(P,A){k=S(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,z(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var W=h;h=A;try{return P()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return A()}finally{h=W}},t.unstable_scheduleCallback=function(P,A,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,P){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=W+pe,P={id:c++,callback:A,priorityLevel:P,startTime:W,expirationTime:pe,sortIndex:-1},W>ee?(P.sortIndex=W,e(u,P),n(l)===null&&P===n(u)&&(v?(g(k),k=-1):v=!0,q(w,W-ee))):(P.sortIndex=pe,e(l,P),p||f||(p=!0,z(b))),P},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(P){var A=h;return function(){var W=h;h=A;try{return P.apply(this,arguments)}finally{h=W}}}})(Gb);Kb.exports=Gb;var qO=Kb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO=E,Mn=qO;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qb=new Set,uu={};function so(t,e){ya(t,e),ya(t+"Capture",e)}function ya(t,e){for(uu[t]=e,t=0;t<e.length;t++)Qb.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,GO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s1={},o1={};function QO(t){return wg.call(o1,t)?!0:wg.call(s1,t)?!1:GO.test(t)?o1[t]=!0:(s1[t]=!0,!1)}function YO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XO(t,e,n,r){if(e===null||typeof e>"u"||YO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function Ov(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pv,Ov);Vt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pv,Ov);Vt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pv,Ov);Vt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $v(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XO(e,n,i,r)&&(n=null),r||i===null?QO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vi=KO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Xb=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),Cg=Symbol.for("react.suspense_list"),Lv=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Jb=Symbol.for("react.offscreen"),a1=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,nm;function kl(t){if(nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nm=e&&e[1]||""}return`
`+nm+t}var rm=!1;function im(t,e){if(!t||rm)return"";rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function JO(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function bg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lo:return"Fragment";case Mo:return"Portal";case Sg:return"Profiler";case Dv:return"StrictMode";case Eg:return"Suspense";case Cg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xb:return(t.displayName||"Context")+".Consumer";case Yb:return(t._context.displayName||"Context")+".Provider";case Mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lv:return e=t.displayName||null,e!==null?e:bg(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return bg(t(e))}catch{}}return null}function ZO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bg(e);case 8:return e===Dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e$(t){var e=Zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=e$(t))}function eT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tg(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tT(t,e){e=e.checked,e!=null&&$v(t,"checked",e,!1)}function Ig(t,e){tT(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kg(t,e.type,n):e.hasOwnProperty("defaultValue")&&kg(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kg(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xl=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(xl(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function nT(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,iT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t$=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){t$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function sT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function oT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n$=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,e){if(e){if(n$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pg=null;function Fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Og=null,Jo=null,Zo=null;function h1(t){if(t=ac(t)){if(typeof Og!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Tf(e),Og(t.stateNode,t.type,e))}}function aT(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function lT(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,h1(t),e)for(t=0;t<e.length;t++)h1(e[t])}}function uT(t,e){return t(e)}function cT(){}var sm=!1;function dT(t,e,n){if(sm)return t(e,n);sm=!0;try{return uT(t,e,n)}finally{sm=!1,(Jo!==null||Zo!==null)&&(cT(),lT())}}function du(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var $g=!1;if(si)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){$g=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{$g=!1}function r$(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var zl=!1,rh=null,ih=!1,Dg=null,i$={onError:function(t){zl=!0,rh=t}};function s$(t,e,n,r,i,s,o,a,l){zl=!1,rh=null,r$.apply(i$,arguments)}function o$(t,e,n,r,i,s,o,a,l){if(s$.apply(this,arguments),zl){if(zl){var u=rh;zl=!1,rh=null}else throw Error(D(198));ih||(ih=!0,Dg=u)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f1(t){if(oo(t)!==t)throw Error(D(188))}function a$(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f1(i),t;if(s===r)return f1(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function fT(t){return t=a$(t),t!==null?pT(t):null}function pT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pT(t);if(e!==null)return e;t=t.sibling}return null}var mT=Mn.unstable_scheduleCallback,p1=Mn.unstable_cancelCallback,l$=Mn.unstable_shouldYield,u$=Mn.unstable_requestPaint,ut=Mn.unstable_now,c$=Mn.unstable_getCurrentPriorityLevel,Bv=Mn.unstable_ImmediatePriority,gT=Mn.unstable_UserBlockingPriority,sh=Mn.unstable_NormalPriority,d$=Mn.unstable_LowPriority,yT=Mn.unstable_IdlePriority,Sf=null,$r=null;function h$(t){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Sf,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:m$,f$=Math.log,p$=Math.LN2;function m$(t){return t>>>=0,t===0?32:31-(f$(t)/p$|0)|0}var Kc=64,Gc=4194304;function Rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Rl(a):(s&=o,s!==0&&(r=Rl(s)))}else o=n&~i,o!==0?r=Rl(o):s!==0&&(r=Rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),i=1<<n,r|=t[n],e&=~i;return r}function g$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=g$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vT(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function v$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Uv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function _T(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wT,zv,ST,ET,CT,Lg=!1,Qc=[],Li=null,Fi=null,Bi=null,hu=new Map,fu=new Map,Ri=[],_$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m1(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function cl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ac(e),e!==null&&zv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w$(t,e,n,r,i){switch(e){case"focusin":return Li=cl(Li,t,e,n,r,i),!0;case"dragenter":return Fi=cl(Fi,t,e,n,r,i),!0;case"mouseover":return Bi=cl(Bi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hu.set(s,cl(hu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fu.set(s,cl(fu.get(s)||null,t,e,n,r,i)),!0}return!1}function bT(t){var e=Cs(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=hT(n),e!==null){t.blockedOn=e,CT(t.priority,function(){ST(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pg=r,n.target.dispatchEvent(r),Pg=null}else return e=ac(n),e!==null&&zv(e),t.blockedOn=n,!1;e.shift()}return!0}function g1(t,e,n){xd(t)&&n.delete(e)}function S$(){Lg=!1,Li!==null&&xd(Li)&&(Li=null),Fi!==null&&xd(Fi)&&(Fi=null),Bi!==null&&xd(Bi)&&(Bi=null),hu.forEach(g1),fu.forEach(g1)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lg||(Lg=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,S$)))}function pu(t){function e(i){return dl(i,t)}if(0<Qc.length){dl(Qc[0],t);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&dl(Li,t),Fi!==null&&dl(Fi,t),Bi!==null&&dl(Bi,t),hu.forEach(e),fu.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)bT(n),n.blockedOn===null&&Ri.shift()}var ea=vi.ReactCurrentBatchConfig,ah=!0;function E$(t,e,n,r){var i=xe,s=ea.transition;ea.transition=null;try{xe=1,jv(t,e,n,r)}finally{xe=i,ea.transition=s}}function C$(t,e,n,r){var i=xe,s=ea.transition;ea.transition=null;try{xe=4,jv(t,e,n,r)}finally{xe=i,ea.transition=s}}function jv(t,e,n,r){if(ah){var i=Fg(t,e,n,r);if(i===null)gm(t,e,r,lh,n),m1(t,r);else if(w$(i,t,e,n,r))r.stopPropagation();else if(m1(t,r),e&4&&-1<_$.indexOf(t)){for(;i!==null;){var s=ac(i);if(s!==null&&wT(s),s=Fg(t,e,n,r),s===null&&gm(t,e,r,lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gm(t,e,r,null,n)}}var lh=null;function Fg(t,e,n,r){if(lh=null,t=Fv(r),t=Cs(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function TT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c$()){case Bv:return 1;case gT:return 4;case sh:case d$:return 16;case yT:return 536870912;default:return 16}default:return 16}}var $i=null,Vv=null,Rd=null;function IT(){if(Rd)return Rd;var t,e=Vv,n=e.length,r,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function y1(){return!1}function Un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:y1,this.isPropagationStopped=y1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=Un(Ha),oc=tt({},Ha,{view:0,detail:0}),b$=Un(oc),am,lm,hl,Ef=tt({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(am=t.screenX-hl.screenX,lm=t.screenY-hl.screenY):lm=am=0,hl=t),am)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),v1=Un(Ef),T$=tt({},Ef,{dataTransfer:0}),I$=Un(T$),k$=tt({},oc,{relatedTarget:0}),um=Un(k$),x$=tt({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),R$=Un(x$),N$=tt({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A$=Un(N$),P$=tt({},Ha,{data:0}),_1=Un(P$),O$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D$[t])?!!e[t]:!1}function Hv(){return M$}var L$=tt({},oc,{key:function(t){if(t.key){var e=O$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F$=Un(L$),B$=tt({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=Un(B$),U$=tt({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),z$=Un(U$),j$=tt({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),V$=Un(j$),W$=tt({},Ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H$=Un(W$),q$=[9,13,27,32],qv=si&&"CompositionEvent"in window,jl=null;si&&"documentMode"in document&&(jl=document.documentMode);var K$=si&&"TextEvent"in window&&!jl,kT=si&&(!qv||jl&&8<jl&&11>=jl),S1=" ",E1=!1;function xT(t,e){switch(t){case"keyup":return q$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function G$(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(E1=!0,S1);case"textInput":return t=e.data,t===S1&&E1?null:t;default:return null}}function Q$(t,e){if(Fo)return t==="compositionend"||!qv&&xT(t,e)?(t=IT(),Rd=Vv=$i=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kT&&e.locale!=="ko"?null:e.data;default:return null}}var Y$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y$[t.type]:e==="textarea"}function NT(t,e,n,r){aT(r),e=uh(e,"onChange"),0<e.length&&(n=new Wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vl=null,mu=null;function X$(t){zT(t,0)}function Cf(t){var e=zo(t);if(eT(e))return t}function J$(t,e){if(t==="change")return e}var AT=!1;if(si){var cm;if(si){var dm="oninput"in document;if(!dm){var b1=document.createElement("div");b1.setAttribute("oninput","return;"),dm=typeof b1.oninput=="function"}cm=dm}else cm=!1;AT=cm&&(!document.documentMode||9<document.documentMode)}function T1(){Vl&&(Vl.detachEvent("onpropertychange",PT),mu=Vl=null)}function PT(t){if(t.propertyName==="value"&&Cf(mu)){var e=[];NT(e,mu,t,Fv(t)),dT(X$,e)}}function Z$(t,e,n){t==="focusin"?(T1(),Vl=e,mu=n,Vl.attachEvent("onpropertychange",PT)):t==="focusout"&&T1()}function eD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cf(mu)}function tD(t,e){if(t==="click")return Cf(e)}function nD(t,e){if(t==="input"||t==="change")return Cf(e)}function rD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:rD;function gu(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wg.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function I1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k1(t,e){var n=I1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I1(n)}}function OT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $T(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function Kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iD(t){var e=$T(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OT(n.ownerDocument.documentElement,n)){if(r!==null&&Kv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k1(n,s);var o=k1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sD=si&&"documentMode"in document&&11>=document.documentMode,Bo=null,Bg=null,Wl=null,Ug=!1;function x1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||Bo==null||Bo!==nh(r)||(r=Bo,"selectionStart"in r&&Kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&gu(Wl,r)||(Wl=r,r=uh(Bg,"onSelect"),0<r.length&&(e=new Wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},hm={},DT={};si&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function bf(t){if(hm[t])return hm[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DT)return hm[t]=e[n];return t}var MT=bf("animationend"),LT=bf("animationiteration"),FT=bf("animationstart"),BT=bf("transitionend"),UT=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){UT.set(t,e),so(e,[t])}for(var fm=0;fm<R1.length;fm++){var pm=R1[fm],oD=pm.toLowerCase(),aD=pm[0].toUpperCase()+pm.slice(1);is(oD,"on"+aD)}is(MT,"onAnimationEnd");is(LT,"onAnimationIteration");is(FT,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(BT,"onTransitionEnd");ya("onMouseEnter",["mouseout","mouseover"]);ya("onMouseLeave",["mouseout","mouseover"]);ya("onPointerEnter",["pointerout","pointerover"]);ya("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function N1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o$(r,e,void 0,t),t.currentTarget=null}function zT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;N1(i,a,u),s=l}}}if(ih)throw t=Dg,ih=!1,Dg=null,t}function je(t,e){var n=e[Hg];n===void 0&&(n=e[Hg]=new Set);var r=t+"__bubble";n.has(r)||(jT(e,t,2,!1),n.add(r))}function mm(t,e,n){var r=0;e&&(r|=4),jT(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[Jc]){t[Jc]=!0,Qb.forEach(function(n){n!=="selectionchange"&&(lD.has(n)||mm(n,!1,t),mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,mm("selectionchange",!1,e))}}function jT(t,e,n,r){switch(TT(e)){case 1:var i=E$;break;case 4:i=C$;break;default:i=jv}n=i.bind(null,e,n,t),i=void 0,!$g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dT(function(){var u=s,c=Fv(n),d=[];e:{var h=UT.get(t);if(h!==void 0){var f=Wv,p=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":f=F$;break;case"focusin":p="focus",f=um;break;case"focusout":p="blur",f=um;break;case"beforeblur":case"afterblur":f=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=v1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=I$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=z$;break;case MT:case LT:case FT:f=R$;break;case BT:f=V$;break;case"scroll":f=b$;break;case"wheel":f=H$;break;case"copy":case"cut":case"paste":f=A$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w1}var v=(e&4)!==0,S=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,m;y!==null;){m=y;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=du(y,g),w!=null&&v.push(vu(y,w,m)))),S)break;y=y.return}0<v.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Pg&&(p=n.relatedTarget||n.fromElement)&&(Cs(p)||p[oi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Cs(p):null,p!==null&&(S=oo(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(v=v1,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=w1,w="onPointerLeave",g="onPointerEnter",y="pointer"),S=f==null?h:zo(f),m=p==null?h:zo(p),h=new v(w,y+"leave",f,n,c),h.target=S,h.relatedTarget=m,w=null,Cs(c)===u&&(v=new v(g,y+"enter",p,n,c),v.target=m,v.relatedTarget=S,w=v),S=w,f&&p)t:{for(v=f,g=p,y=0,m=v;m;m=Eo(m))y++;for(m=0,w=g;w;w=Eo(w))m++;for(;0<y-m;)v=Eo(v),y--;for(;0<m-y;)g=Eo(g),m--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Eo(v),g=Eo(g)}v=null}else v=null;f!==null&&A1(d,h,f,v,!1),p!==null&&S!==null&&A1(d,S,p,v,!0)}}e:{if(h=u?zo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=J$;else if(C1(h))if(AT)b=nD;else{b=eD;var C=Z$}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=tD);if(b&&(b=b(t,u))){NT(d,b,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&kg(h,"number",h.value)}switch(C=u?zo(u):window,t){case"focusin":(C1(C)||C.contentEditable==="true")&&(Bo=C,Bg=u,Wl=null);break;case"focusout":Wl=Bg=Bo=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,x1(d,n,c);break;case"selectionchange":if(sD)break;case"keydown":case"keyup":x1(d,n,c)}var T;if(qv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Fo?xT(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(kT&&n.locale!=="ko"&&(Fo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Fo&&(T=IT()):($i=c,Vv="value"in $i?$i.value:$i.textContent,Fo=!0)),C=uh(u,k),0<C.length&&(k=new _1(k,t,null,n,c),d.push({event:k,listeners:C}),T?k.data=T:(T=RT(n),T!==null&&(k.data=T)))),(T=K$?G$(t,n):Q$(t,n))&&(u=uh(u,"onBeforeInput"),0<u.length&&(c=new _1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}zT(d,e)})}function vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=du(t,n),s!=null&&r.unshift(vu(t,s,i)),s=du(t,e),s!=null&&r.push(vu(t,s,i))),t=t.return}return r}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=du(n,s),l!=null&&o.unshift(vu(n,l,a))):i||(l=du(n,s),l!=null&&o.push(vu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(uD,`
`).replace(cD,"")}function Zc(t,e,n){if(e=P1(e),P1(t)!==e&&n)throw Error(D(425))}function ch(){}var zg=null,jg=null;function Vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,O1=typeof Promise=="function"?Promise:void 0,hD=typeof queueMicrotask=="function"?queueMicrotask:typeof O1<"u"?function(t){return O1.resolve(null).then(t).catch(fD)}:Wg;function fD(t){setTimeout(function(){throw t})}function ym(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pu(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qa=Math.random().toString(36).slice(2),kr="__reactFiber$"+qa,_u="__reactProps$"+qa,oi="__reactContainer$"+qa,Hg="__reactEvents$"+qa,pD="__reactListeners$"+qa,mD="__reactHandles$"+qa;function Cs(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$1(t);t!==null;){if(n=t[kr])return n;t=$1(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[kr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Tf(t){return t[_u]||null}var qg=[],jo=-1;function ss(t){return{current:t}}function He(t){0>jo||(t.current=qg[jo],qg[jo]=null,jo--)}function Be(t,e){jo++,qg[jo]=t.current,t.current=e}var Yi={},rn=ss(Yi),Cn=ss(!1),Us=Yi;function va(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function dh(){He(Cn),He(rn)}function D1(t,e,n){if(rn.current!==Yi)throw Error(D(168));Be(rn,e),Be(Cn,n)}function VT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,ZO(t)||"Unknown",i));return tt({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Us=rn.current,Be(rn,t),Be(Cn,Cn.current),!0}function M1(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=VT(t,e,Us),r.__reactInternalMemoizedMergedChildContext=t,He(Cn),He(rn),Be(rn,t)):He(Cn),Be(Cn,n)}var Qr=null,If=!1,vm=!1;function WT(t){Qr===null?Qr=[t]:Qr.push(t)}function gD(t){If=!0,WT(t)}function os(){if(!vm&&Qr!==null){vm=!0;var t=0,e=xe;try{var n=Qr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,If=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),mT(Bv,os),i}finally{xe=e,vm=!1}}return null}var Vo=[],Wo=0,fh=null,ph=0,Wn=[],Hn=0,zs=null,Yr=1,Xr="";function ps(t,e){Vo[Wo++]=ph,Vo[Wo++]=fh,fh=t,ph=e}function HT(t,e,n){Wn[Hn++]=Yr,Wn[Hn++]=Xr,Wn[Hn++]=zs,zs=t;var r=Yr;t=Xr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var s=32-fr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-fr(e)+i|n<<i|r,Xr=s+t}else Yr=1<<s|n<<i|r,Xr=t}function Gv(t){t.return!==null&&(ps(t,1),HT(t,1,0))}function Qv(t){for(;t===fh;)fh=Vo[--Wo],Vo[Wo]=null,ph=Vo[--Wo],Vo[Wo]=null;for(;t===zs;)zs=Wn[--Hn],Wn[Hn]=null,Xr=Wn[--Hn],Wn[Hn]=null,Yr=Wn[--Hn],Wn[Hn]=null}var On=null,Pn=null,Ye=!1,ar=null;function qT(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Pn=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zs!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Pn=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(Ye){var e=Pn;if(e){var n=e;if(!L1(t,e)){if(Kg(t))throw Error(D(418));e=Ui(n.nextSibling);var r=On;e&&L1(t,e)?qT(r,n):(t.flags=t.flags&-4097|2,Ye=!1,On=t)}}else{if(Kg(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ye=!1,On=t}}}function F1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function ed(t){if(t!==On)return!1;if(!Ye)return F1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vg(t.type,t.memoizedProps)),e&&(e=Pn)){if(Kg(t))throw KT(),Error(D(418));for(;e;)qT(t,e),e=Ui(e.nextSibling)}if(F1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=On?Ui(t.stateNode.nextSibling):null;return!0}function KT(){for(var t=Pn;t;)t=Ui(t.nextSibling)}function _a(){Pn=On=null,Ye=!1}function Yv(t){ar===null?ar=[t]:ar.push(t)}var yD=vi.ReactCurrentBatchConfig;function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B1(t){var e=t._init;return e(t._payload)}function GT(t){function e(g,y){if(t){var m=g.deletions;m===null?(g.deletions=[y],g.flags|=16):m.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Wi(g,y),g.index=0,g.sibling=null,g}function s(g,y,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<y?(g.flags|=2,y):m):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,m,w){return y===null||y.tag!==6?(y=Tm(m,g.mode,w),y.return=g,y):(y=i(y,m),y.return=g,y)}function l(g,y,m,w){var b=m.type;return b===Lo?c(g,y,m.props.children,w,m.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ki&&B1(b)===y.type)?(w=i(y,m.props),w.ref=fl(g,y,m),w.return=g,w):(w=Ld(m.type,m.key,m.props,null,g.mode,w),w.ref=fl(g,y,m),w.return=g,w)}function u(g,y,m,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Im(m,g.mode,w),y.return=g,y):(y=i(y,m.children||[]),y.return=g,y)}function c(g,y,m,w,b){return y===null||y.tag!==7?(y=Ds(m,g.mode,w,b),y.return=g,y):(y=i(y,m),y.return=g,y)}function d(g,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tm(""+y,g.mode,m),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wc:return m=Ld(y.type,y.key,y.props,null,g.mode,m),m.ref=fl(g,null,y),m.return=g,m;case Mo:return y=Im(y,g.mode,m),y.return=g,y;case ki:var w=y._init;return d(g,w(y._payload),m)}if(xl(y)||ll(y))return y=Ds(y,g.mode,m,null),y.return=g,y;td(g,y)}return null}function h(g,y,m,w){var b=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(g,y,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wc:return m.key===b?l(g,y,m,w):null;case Mo:return m.key===b?u(g,y,m,w):null;case ki:return b=m._init,h(g,y,b(m._payload),w)}if(xl(m)||ll(m))return b!==null?null:c(g,y,m,w,null);td(g,m)}return null}function f(g,y,m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:return g=g.get(w.key===null?m:w.key)||null,l(y,g,w,b);case Mo:return g=g.get(w.key===null?m:w.key)||null,u(y,g,w,b);case ki:var C=w._init;return f(g,y,m,C(w._payload),b)}if(xl(w)||ll(w))return g=g.get(m)||null,c(y,g,w,b,null);td(y,w)}return null}function p(g,y,m,w){for(var b=null,C=null,T=y,k=y=0,N=null;T!==null&&k<m.length;k++){T.index>k?(N=T,T=null):N=T.sibling;var _=h(g,T,m[k],w);if(_===null){T===null&&(T=N);break}t&&T&&_.alternate===null&&e(g,T),y=s(_,y,k),C===null?b=_:C.sibling=_,C=_,T=N}if(k===m.length)return n(g,T),Ye&&ps(g,k),b;if(T===null){for(;k<m.length;k++)T=d(g,m[k],w),T!==null&&(y=s(T,y,k),C===null?b=T:C.sibling=T,C=T);return Ye&&ps(g,k),b}for(T=r(g,T);k<m.length;k++)N=f(T,g,k,m[k],w),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?k:N.key),y=s(N,y,k),C===null?b=N:C.sibling=N,C=N);return t&&T.forEach(function(x){return e(g,x)}),Ye&&ps(g,k),b}function v(g,y,m,w){var b=ll(m);if(typeof b!="function")throw Error(D(150));if(m=b.call(m),m==null)throw Error(D(151));for(var C=b=null,T=y,k=y=0,N=null,_=m.next();T!==null&&!_.done;k++,_=m.next()){T.index>k?(N=T,T=null):N=T.sibling;var x=h(g,T,_.value,w);if(x===null){T===null&&(T=N);break}t&&T&&x.alternate===null&&e(g,T),y=s(x,y,k),C===null?b=x:C.sibling=x,C=x,T=N}if(_.done)return n(g,T),Ye&&ps(g,k),b;if(T===null){for(;!_.done;k++,_=m.next())_=d(g,_.value,w),_!==null&&(y=s(_,y,k),C===null?b=_:C.sibling=_,C=_);return Ye&&ps(g,k),b}for(T=r(g,T);!_.done;k++,_=m.next())_=f(T,g,k,_.value,w),_!==null&&(t&&_.alternate!==null&&T.delete(_.key===null?k:_.key),y=s(_,y,k),C===null?b=_:C.sibling=_,C=_);return t&&T.forEach(function(L){return e(g,L)}),Ye&&ps(g,k),b}function S(g,y,m,w){if(typeof m=="object"&&m!==null&&m.type===Lo&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Wc:e:{for(var b=m.key,C=y;C!==null;){if(C.key===b){if(b=m.type,b===Lo){if(C.tag===7){n(g,C.sibling),y=i(C,m.props.children),y.return=g,g=y;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ki&&B1(b)===C.type){n(g,C.sibling),y=i(C,m.props),y.ref=fl(g,C,m),y.return=g,g=y;break e}n(g,C);break}else e(g,C);C=C.sibling}m.type===Lo?(y=Ds(m.props.children,g.mode,w,m.key),y.return=g,g=y):(w=Ld(m.type,m.key,m.props,null,g.mode,w),w.ref=fl(g,y,m),w.return=g,g=w)}return o(g);case Mo:e:{for(C=m.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(g,y.sibling),y=i(y,m.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Im(m,g.mode,w),y.return=g,g=y}return o(g);case ki:return C=m._init,S(g,y,C(m._payload),w)}if(xl(m))return p(g,y,m,w);if(ll(m))return v(g,y,m,w);td(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,m),y.return=g,g=y):(n(g,y),y=Tm(m,g.mode,w),y.return=g,g=y),o(g)):n(g,y)}return S}var wa=GT(!0),QT=GT(!1),mh=ss(null),gh=null,Ho=null,Xv=null;function Jv(){Xv=Ho=gh=null}function Zv(t){var e=mh.current;He(mh),t._currentValue=e}function Qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){gh=t,Xv=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(Xv!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(gh===null)throw Error(D(308));Ho=t,gh.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var bs=null;function e0(t){bs===null?bs=[t]:bs.push(t)}function YT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,e0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xi=!1;function t0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,e0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uv(t,n)}}function U1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yh(t,e,n,r){var i=t.updateQueue;xi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(h=e,f=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=tt({},d,h);break e;case 2:xi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=d}}function z1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var lc={},Dr=ss(lc),wu=ss(lc),Su=ss(lc);function Ts(t){if(t===lc)throw Error(D(174));return t}function n0(t,e){switch(Be(Su,e),Be(wu,t),Be(Dr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rg(e,t)}He(Dr),Be(Dr,e)}function Sa(){He(Dr),He(wu),He(Su)}function JT(t){Ts(Su.current);var e=Ts(Dr.current),n=Rg(e,t.type);e!==n&&(Be(wu,t),Be(Dr,n))}function r0(t){wu.current===t&&(He(Dr),He(wu))}var Ze=ss(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function i0(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var Pd=vi.ReactCurrentDispatcher,wm=vi.ReactCurrentBatchConfig,js=0,et=null,_t=null,It=null,_h=!1,Hl=!1,Eu=0,vD=0;function Ht(){throw Error(D(321))}function s0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function o0(t,e,n,r,i,s){if(js=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pd.current=t===null||t.memoizedState===null?ED:CD,t=n(r,i),Hl){s=0;do{if(Hl=!1,Eu=0,25<=s)throw Error(D(301));s+=1,It=_t=null,e.updateQueue=null,Pd.current=bD,t=n(r,i)}while(Hl)}if(Pd.current=wh,e=_t!==null&&_t.next!==null,js=0,It=_t=et=null,_h=!1,e)throw Error(D(300));return t}function a0(){var t=Eu!==0;return Eu=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?et.memoizedState=It=t:It=It.next=t,It}function er(){if(_t===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=It===null?et.memoizedState:It.next;if(e!==null)It=e,_t=t;else{if(t===null)throw Error(D(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?et.memoizedState=It=t:It=It.next=t}return It}function Cu(t,e){return typeof e=="function"?e(t):e}function Sm(t){var e=er(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((js&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,et.lanes|=c,Vs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Em(t){var e=er(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ZT(){}function eI(t,e){var n=et,r=er(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,l0(rI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,bu(9,nI.bind(null,n,r,i,e),void 0,null),At===null)throw Error(D(349));js&30||tI(n,e,i)}return i}function tI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nI(t,e,n,r){e.value=n,e.getSnapshot=r,iI(e)&&sI(t)}function rI(t,e,n){return n(function(){iI(e)&&sI(t)})}function iI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function sI(t){var e=ai(t,1);e!==null&&pr(e,t,1,-1)}function j1(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:t},e.queue=t,t=t.dispatch=SD.bind(null,et,t),[e.memoizedState,t]}function bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oI(){return er().memoizedState}function Od(t,e,n,r){var i=br();et.flags|=t,i.memoizedState=bu(1|e,n,void 0,r===void 0?null:r)}function kf(t,e,n,r){var i=er();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&s0(r,o.deps)){i.memoizedState=bu(e,n,s,r);return}}et.flags|=t,i.memoizedState=bu(1|e,n,s,r)}function V1(t,e){return Od(8390656,8,t,e)}function l0(t,e){return kf(2048,8,t,e)}function aI(t,e){return kf(4,2,t,e)}function lI(t,e){return kf(4,4,t,e)}function uI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cI(t,e,n){return n=n!=null?n.concat([t]):null,kf(4,4,uI.bind(null,e,t),n)}function u0(){}function dI(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hI(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&s0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fI(t,e,n){return js&21?(gr(n,e)||(n=vT(),et.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function _D(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=wm.transition;wm.transition={};try{t(!1),e()}finally{xe=n,wm.transition=r}}function pI(){return er().memoizedState}function wD(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mI(t))gI(e,n);else if(n=YT(t,e,n,r),n!==null){var i=dn();pr(n,t,r,i),yI(n,e,r)}}function SD(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mI(t))gI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,e0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YT(t,e,i,r),n!==null&&(i=dn(),pr(n,t,r,i),yI(n,e,r))}}function mI(t){var e=t.alternate;return t===et||e!==null&&e===et}function gI(t,e){Hl=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uv(t,n)}}var wh={readContext:Zn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},ED={readContext:Zn,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:V1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,uI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wD.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:j1,useDebugValue:u0,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=j1(!1),e=t[0];return t=_D.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=br();if(Ye){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),At===null)throw Error(D(349));js&30||tI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,V1(rI.bind(null,r,s,t),[t]),r.flags|=2048,bu(9,nI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=At.identifierPrefix;if(Ye){var n=Xr,r=Yr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CD={readContext:Zn,useCallback:dI,useContext:Zn,useEffect:l0,useImperativeHandle:cI,useInsertionEffect:aI,useLayoutEffect:lI,useMemo:hI,useReducer:Sm,useRef:oI,useState:function(){return Sm(Cu)},useDebugValue:u0,useDeferredValue:function(t){var e=er();return fI(e,_t.memoizedState,t)},useTransition:function(){var t=Sm(Cu)[0],e=er().memoizedState;return[t,e]},useMutableSource:ZT,useSyncExternalStore:eI,useId:pI,unstable_isNewReconciler:!1},bD={readContext:Zn,useCallback:dI,useContext:Zn,useEffect:l0,useImperativeHandle:cI,useInsertionEffect:aI,useLayoutEffect:lI,useMemo:hI,useReducer:Em,useRef:oI,useState:function(){return Em(Cu)},useDebugValue:u0,useDeferredValue:function(t){var e=er();return _t===null?e.memoizedState=t:fI(e,_t.memoizedState,t)},useTransition:function(){var t=Em(Cu)[0],e=er().memoizedState;return[t,e]},useMutableSource:ZT,useSyncExternalStore:eI,useId:pI,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xf={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Vi(t),s=ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,i),e!==null&&(pr(e,t,i,r),Ad(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Vi(t),s=ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,i),e!==null&&(pr(e,t,i,r),Ad(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Vi(t),i=ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,r),e!==null&&(pr(e,t,r,n),Ad(e,t,r))}};function W1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gu(n,r)||!gu(i,s):!0}function vI(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=Zn(s):(i=bn(e)?Us:rn.current,r=e.contextTypes,s=(r=r!=null)?va(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xf.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},t0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zn(s):(s=bn(e)?Us:rn.current,i.context=va(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xf.enqueueReplaceState(i,i.state,null),yh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e){try{var n="",r=e;do n+=JO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TD=typeof WeakMap=="function"?WeakMap:Map;function _I(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,ly=r),Jg(t,e)},n}function wI(t,e,n){n=ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BD.bind(null,t,e,n),e.then(t,t))}function K1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,zi(n,e,1))),n.lanes|=1),t)}var ID=vi.ReactCurrentOwner,wn=!1;function un(t,e,n,r){e.child=t===null?QT(e,null,n,r):wa(e,t.child,n,r)}function Q1(t,e,n,r,i){n=n.render;var s=e.ref;return ta(e,i),r=o0(t,e,n,r,s,i),n=a0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(Ye&&n&&Gv(e),e.flags|=1,un(t,e,r,i),e.child)}function Y1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!y0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SI(t,e,s,r,i)):(t=Ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gu,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=Wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function SI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gu(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,li(t,e,i)}return Zg(t,e,n,r,i)}function EI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ko,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ko,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(Ko,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(Ko,Nn),Nn|=r;return un(t,e,i,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zg(t,e,n,r,i){var s=bn(n)?Us:rn.current;return s=va(e,s),ta(e,i),n=o0(t,e,n,r,s,i),r=a0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(Ye&&r&&Gv(e),e.flags|=1,un(t,e,n,i),e.child)}function X1(t,e,n,r,i){if(bn(n)){var s=!0;hh(e)}else s=!1;if(ta(e,i),e.stateNode===null)$d(t,e),vI(e,n,r),Xg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zn(u):(u=bn(n)?Us:rn.current,u=va(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&H1(e,o,r,u),xi=!1;var h=e.memoizedState;o.state=h,yh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Cn.current||xi?(typeof c=="function"&&(Yg(e,n,c,r),l=e.memoizedState),(a=xi||W1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=bn(n)?Us:rn.current,l=va(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&H1(e,o,r,l),xi=!1,h=e.memoizedState,o.state=h,yh(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||Cn.current||xi?(typeof f=="function"&&(Yg(e,n,f,r),p=e.memoizedState),(u=xi||W1(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ey(t,e,n,r,s,i)}function ey(t,e,n,r,i,s){CI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M1(e,n,!1),li(t,e,s);r=e.stateNode,ID.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wa(e,t.child,null,s),e.child=wa(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&M1(e,n,!0),e.child}function bI(t){var e=t.stateNode;e.pendingContext?D1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D1(t,e.context,!1),n0(t,e.containerInfo)}function J1(t,e,n,r,i){return _a(),Yv(i),e.flags|=256,un(t,e,n,r),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function TI(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ze,i&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Af(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ny(n),e.memoizedState=ty,t):c0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wi(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ty,r}return s=t.child,t=s.sibling,r=Wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function c0(t,e){return e=Af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&Yv(r),wa(e,t.child,null,n),t=c0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cm(Error(D(422))),nd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Af({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wa(e,t.child,null,o),e.child.memoizedState=ny(o),e.memoizedState=ty,s);if(!(e.mode&1))return nd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Cm(s,r,void 0),nd(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=At,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ai(t,i),pr(r,t,i,-1))}return g0(),r=Cm(Error(D(421))),nd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pn=Ui(i.nextSibling),On=e,Ye=!0,ar=null,t!==null&&(Wn[Hn++]=Yr,Wn[Hn++]=Xr,Wn[Hn++]=zs,Yr=t.id,Xr=t.overflow,zs=e),e=c0(e,r.children),e.flags|=4096,e)}function Z1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qg(t.return,e,n)}function bm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function II(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z1(t,n,e);else if(t.tag===19)Z1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bm(e,!0,n,null,s);break;case"together":bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xD(t,e,n){switch(e.tag){case 3:bI(e),_a();break;case 5:JT(e);break;case 1:bn(e.type)&&hh(e);break;case 4:n0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?TI(t,e,n):(Be(Ze,Ze.current&1),t=li(t,e,n),t!==null?t.sibling:null);Be(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return II(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,EI(t,e,n)}return li(t,e,n)}var kI,ry,xI,RI;kI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ry=function(){};xI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ts(Dr.current);var s=null;switch(n){case"input":i=Tg(t,i),r=Tg(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=xg(t,i),r=xg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ch)}Ng(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RI=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RD(t,e,n){var r=e.pendingProps;switch(Qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return bn(e.type)&&dh(),qt(e),null;case 3:return r=e.stateNode,Sa(),He(Cn),He(rn),i0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(dy(ar),ar=null))),ry(t,e),qt(e),null;case 5:r0(e);var i=Ts(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)xI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return qt(e),null}if(t=Ts(Dr.current),ed(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[_u]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Nl.length;i++)je(Nl[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":l1(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":c1(r,s),je("invalid",r)}Ng(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":Hc(r),u1(r,s,!0);break;case"textarea":Hc(r),d1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ch)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[_u]=r,kI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ag(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nl.length;i++)je(Nl[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":l1(t,r),i=Tg(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),je("invalid",t);break;case"textarea":c1(t,r),i=xg(t,r),je("invalid",t);break;default:i=r}Ng(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cu(t,l):typeof l=="number"&&cu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&je("scroll",t):l!=null&&$v(t,s,l,o))}switch(n){case"input":Hc(t),u1(t,r,!1);break;case"textarea":Hc(t),d1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)RI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Ts(Su.current),Ts(Dr.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return qt(e),null;case 13:if(He(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Pn!==null&&e.mode&1&&!(e.flags&128))KT(),_a(),e.flags|=98560,s=!1;else if(s=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[kr]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else ar!==null&&(dy(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?St===0&&(St=3):g0())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Sa(),ry(t,e),t===null&&yu(e.stateNode.containerInfo),qt(e),null;case 10:return Zv(e.type._context),qt(e),null;case 17:return bn(e.type)&&dh(),qt(e),null;case 19:if(He(Ze),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pl(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vh(t),o!==null){for(e.flags|=128,pl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>Ca&&(e.flags|=128,r=!0,pl(s,!1),e.lanes=4194304)}else{if(!r)if(t=vh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return qt(e),null}else 2*ut()-s.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,pl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=Ze.current,Be(Ze,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return m0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function ND(t,e){switch(Qv(e),e.tag){case 1:return bn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),He(Cn),He(rn),i0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r0(e),null;case 13:if(He(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ze),null;case 4:return Sa(),null;case 10:return Zv(e.type._context),null;case 22:case 23:return m0(),null;case 24:return null;default:return null}}var rd=!1,Yt=!1,AD=typeof WeakSet=="function"?WeakSet:Set,V=null;function qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){ot(t,e,r)}}var eS=!1;function PD(t,e){if(zg=ah,t=$T(),Kv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jg={focusedElem:t,selectionRange:n},ah=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,S=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){ot(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return p=eS,eS=!1,p}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iy(e,n,s)}i=i.next}while(i!==r)}}function Rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NI(t){var e=t.alternate;e!==null&&(t.alternate=null,NI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[_u],delete e[Hg],delete e[pD],delete e[mD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AI(t){return t.tag===5||t.tag===3||t.tag===4}function tS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ch));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}var Mt=null,or=!1;function bi(t,e,n){for(n=n.child;n!==null;)PI(t,e,n),n=n.sibling}function PI(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Sf,n)}catch{}switch(n.tag){case 5:Yt||qo(n,e);case 6:var r=Mt,i=or;Mt=null,bi(t,e,n),Mt=r,or=i,Mt!==null&&(or?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(or?(t=Mt,n=n.stateNode,t.nodeType===8?ym(t.parentNode,n):t.nodeType===1&&ym(t,n),pu(t)):ym(Mt,n.stateNode));break;case 4:r=Mt,i=or,Mt=n.stateNode.containerInfo,or=!0,bi(t,e,n),Mt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iy(n,e,o),i=i.next}while(i!==r)}bi(t,e,n);break;case 1:if(!Yt&&(qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}bi(t,e,n);break;case 21:bi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,bi(t,e,n),Yt=r):bi(t,e,n);break;default:bi(t,e,n)}}function nS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AD),e.forEach(function(r){var i=zD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,or=!1;break e;case 3:Mt=a.stateNode.containerInfo,or=!0;break e;case 4:Mt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Mt===null)throw Error(D(160));PI(s,o,i),Mt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OI(e,t),e=e.sibling}function OI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),Sr(t),r&4){try{ql(3,t,t.return),Rf(3,t)}catch(v){ot(t,t.return,v)}try{ql(5,t,t.return)}catch(v){ot(t,t.return,v)}}break;case 1:ir(e,t),Sr(t),r&512&&n!==null&&qo(n,n.return);break;case 5:if(ir(e,t),Sr(t),r&512&&n!==null&&qo(n,n.return),t.flags&32){var i=t.stateNode;try{cu(i,"")}catch(v){ot(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tT(i,s),Ag(a,o);var u=Ag(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?oT(i,d):c==="dangerouslySetInnerHTML"?iT(i,d):c==="children"?cu(i,d):$v(i,c,d,u)}switch(a){case"input":Ig(i,s);break;case"textarea":nT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Xo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[_u]=s}catch(v){ot(t,t.return,v)}}break;case 6:if(ir(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ot(t,t.return,v)}}break;case 3:if(ir(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(v){ot(t,t.return,v)}break;case 4:ir(e,t),Sr(t);break;case 13:ir(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(f0=ut())),r&4&&nS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||c,ir(e,t),Yt=u):ir(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(d=V=c;V!==null;){switch(h=V,f=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:qo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){ot(r,n,v)}}break;case 5:qo(h,h.return);break;case 22:if(h.memoizedState!==null){iS(d);continue}}f!==null?(f.return=h,V=f):iS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sT("display",o))}catch(v){ot(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ot(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ir(e,t),Sr(t),r&4&&nS(t);break;case 21:break;default:ir(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AI(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cu(i,""),r.flags&=-33);var s=tS(t);ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tS(t);oy(t,a,o);break;default:throw Error(D(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OD(t,e,n){V=t,$I(t)}function $I(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=rd;var u=Yt;if(rd=o,(Yt=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?sS(i):l!==null?(l.return=o,V=l):sS(i);for(;s!==null;)V=s,$I(s),s=s.sibling;V=i,rd=a,Yt=u}rS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):rS(t)}}function rS(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&z1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}z1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&pu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Yt||e.flags&512&&sy(e)}catch(h){ot(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function iS(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function sS(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rf(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var s=e.return;try{sy(e)}catch(l){ot(e,s,l)}break;case 5:var o=e.return;try{sy(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var $D=Math.ceil,Sh=vi.ReactCurrentDispatcher,d0=vi.ReactCurrentOwner,Xn=vi.ReactCurrentBatchConfig,we=0,At=null,mt=null,zt=0,Nn=0,Ko=ss(0),St=0,Tu=null,Vs=0,Nf=0,h0=0,Kl=null,vn=null,f0=0,Ca=1/0,Gr=null,Eh=!1,ly=null,ji=null,id=!1,Di=null,Ch=0,Gl=0,uy=null,Dd=-1,Md=0;function dn(){return we&6?ut():Dd!==-1?Dd:Dd=ut()}function Vi(t){return t.mode&1?we&2&&zt!==0?zt&-zt:yD.transition!==null?(Md===0&&(Md=vT()),Md):(t=xe,t!==0||(t=window.event,t=t===void 0?16:TT(t.type)),t):1}function pr(t,e,n,r){if(50<Gl)throw Gl=0,uy=null,Error(D(185));sc(t,n,r),(!(we&2)||t!==At)&&(t===At&&(!(we&2)&&(Nf|=n),St===4&&Ni(t,zt)),Tn(t,r),n===1&&we===0&&!(e.mode&1)&&(Ca=ut()+500,If&&os()))}function Tn(t,e){var n=t.callbackNode;y$(t,e);var r=oh(t,t===At?zt:0);if(r===0)n!==null&&p1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p1(n),e===1)t.tag===0?gD(oS.bind(null,t)):WT(oS.bind(null,t)),hD(function(){!(we&6)&&os()}),n=null;else{switch(_T(r)){case 1:n=Bv;break;case 4:n=gT;break;case 16:n=sh;break;case 536870912:n=yT;break;default:n=sh}n=jI(n,DI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DI(t,e){if(Dd=-1,Md=0,we&6)throw Error(D(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=oh(t,t===At?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bh(t,r);else{e=r;var i=we;we|=2;var s=LI();(At!==t||zt!==e)&&(Gr=null,Ca=ut()+500,$s(t,e));do try{LD();break}catch(a){MI(t,a)}while(!0);Jv(),Sh.current=s,we=i,mt!==null?e=0:(At=null,zt=0,e=St)}if(e!==0){if(e===2&&(i=Mg(t),i!==0&&(r=i,e=cy(t,i))),e===1)throw n=Tu,$s(t,0),Ni(t,r),Tn(t,ut()),n;if(e===6)Ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!DD(i)&&(e=bh(t,r),e===2&&(s=Mg(t),s!==0&&(r=s,e=cy(t,s))),e===1))throw n=Tu,$s(t,0),Ni(t,r),Tn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ms(t,vn,Gr);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=f0+500-ut(),10<e)){if(oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wg(ms.bind(null,t,vn,Gr),e);break}ms(t,vn,Gr);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$D(r/1960))-r,10<r){t.timeoutHandle=Wg(ms.bind(null,t,vn,Gr),r);break}ms(t,vn,Gr);break;case 5:ms(t,vn,Gr);break;default:throw Error(D(329))}}}return Tn(t,ut()),t.callbackNode===n?DI.bind(null,t):null}function cy(t,e){var n=Kl;return t.current.memoizedState.isDehydrated&&($s(t,e).flags|=256),t=bh(t,e),t!==2&&(e=vn,vn=n,e!==null&&dy(e)),t}function dy(t){vn===null?vn=t:vn.push.apply(vn,t)}function DD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~h0,e&=~Nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function oS(t){if(we&6)throw Error(D(327));na();var e=oh(t,0);if(!(e&1))return Tn(t,ut()),null;var n=bh(t,e);if(t.tag!==0&&n===2){var r=Mg(t);r!==0&&(e=r,n=cy(t,r))}if(n===1)throw n=Tu,$s(t,0),Ni(t,e),Tn(t,ut()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,vn,Gr),Tn(t,ut()),null}function p0(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Ca=ut()+500,If&&os())}}function Ws(t){Di!==null&&Di.tag===0&&!(we&6)&&na();var e=we;we|=1;var n=Xn.transition,r=xe;try{if(Xn.transition=null,xe=1,t)return t()}finally{xe=r,Xn.transition=n,we=e,!(we&6)&&os()}}function m0(){Nn=Ko.current,He(Ko)}function $s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dD(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:Sa(),He(Cn),He(rn),i0();break;case 5:r0(r);break;case 4:Sa();break;case 13:He(Ze);break;case 19:He(Ze);break;case 10:Zv(r.type._context);break;case 22:case 23:m0()}n=n.return}if(At=t,mt=t=Wi(t.current,null),zt=Nn=e,St=0,Tu=null,h0=Nf=Vs=0,vn=Kl=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bs=null}return t}function MI(t,e){do{var n=mt;try{if(Jv(),Pd.current=wh,_h){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_h=!1}if(js=0,It=_t=et=null,Hl=!1,Eu=0,d0.current=null,n===null||n.return===null){St=1,Tu=e,mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=K1(o);if(f!==null){f.flags&=-257,G1(f,o,a,s,e),f.mode&1&&q1(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){q1(s,u,e),g0();break e}l=Error(D(426))}}else if(Ye&&a.mode&1){var S=K1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),G1(S,o,a,s,e),Yv(Ea(l,a));break e}}s=l=Ea(l,a),St!==4&&(St=2),Kl===null?Kl=[s]:Kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_I(s,l,e);U1(s,g);break e;case 1:a=l;var y=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ji===null||!ji.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=wI(s,a,e);U1(s,w);break e}}s=s.return}while(s!==null)}BI(n)}catch(b){e=b,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function LI(){var t=Sh.current;return Sh.current=wh,t===null?wh:t}function g0(){(St===0||St===3||St===2)&&(St=4),At===null||!(Vs&268435455)&&!(Nf&268435455)||Ni(At,zt)}function bh(t,e){var n=we;we|=2;var r=LI();(At!==t||zt!==e)&&(Gr=null,$s(t,e));do try{MD();break}catch(i){MI(t,i)}while(!0);if(Jv(),we=n,Sh.current=r,mt!==null)throw Error(D(261));return At=null,zt=0,St}function MD(){for(;mt!==null;)FI(mt)}function LD(){for(;mt!==null&&!l$();)FI(mt)}function FI(t){var e=zI(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?BI(t):mt=e,d0.current=null}function BI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ND(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,mt=null;return}}else if(n=RD(n,e,Nn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);St===0&&(St=5)}function ms(t,e,n){var r=xe,i=Xn.transition;try{Xn.transition=null,xe=1,FD(t,e,n,r)}finally{Xn.transition=i,xe=r}return null}function FD(t,e,n,r){do na();while(Di!==null);if(we&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(v$(t,s),t===At&&(mt=At=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,jI(sh,function(){return na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=xe;xe=1;var a=we;we|=4,d0.current=null,PD(t,n),OI(n,t),iD(jg),ah=!!zg,jg=zg=null,t.current=n,OD(n),u$(),we=a,xe=o,Xn.transition=s}else t.current=n;if(id&&(id=!1,Di=t,Ch=i),s=t.pendingLanes,s===0&&(ji=null),h$(n.stateNode),Tn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,t=ly,ly=null,t;return Ch&1&&t.tag!==0&&na(),s=t.pendingLanes,s&1?t===uy?Gl++:(Gl=0,uy=t):Gl=0,os(),null}function na(){if(Di!==null){var t=_T(Ch),e=Xn.transition,n=xe;try{if(Xn.transition=null,xe=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,Ch=0,we&6)throw Error(D(331));var i=we;for(we|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:ql(8,c,s)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var h=c.sibling,f=c.return;if(NI(c),c===u){V=null;break}if(h!==null){h.return=f,V=h;break}V=f}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ql(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var y=t.current;for(V=y;V!==null;){o=V;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,V=m;else e:for(o=y;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rf(9,a)}}catch(b){ot(a,a.return,b)}if(a===o){V=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,V=w;break e}V=a.return}}if(we=i,os(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Sf,t)}catch{}r=!0}return r}finally{xe=n,Xn.transition=e}}return!1}function aS(t,e,n){e=Ea(n,e),e=_I(t,e,1),t=zi(t,e,1),e=dn(),t!==null&&(sc(t,1,e),Tn(t,e))}function ot(t,e,n){if(t.tag===3)aS(t,t,n);else for(;e!==null;){if(e.tag===3){aS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=Ea(n,t),t=wI(e,t,1),e=zi(e,t,1),t=dn(),e!==null&&(sc(e,1,t),Tn(e,t));break}}e=e.return}}function BD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(zt&n)===n&&(St===4||St===3&&(zt&130023424)===zt&&500>ut()-f0?$s(t,0):h0|=n),Tn(t,e)}function UI(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=dn();t=ai(t,e),t!==null&&(sc(t,e,n),Tn(t,n))}function UD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UI(t,n)}function zD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),UI(t,n)}var zI;zI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,xD(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ye&&e.flags&1048576&&HT(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$d(t,e),t=e.pendingProps;var i=va(e,rn.current);ta(e,n),i=o0(null,e,r,t,i,n);var s=a0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,hh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t0(e),i.updater=xf,e.stateNode=i,i._reactInternals=e,Xg(e,r,t,n),e=ey(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Gv(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VD(r),t=sr(r,t),i){case 0:e=Zg(null,e,r,t,n);break e;case 1:e=X1(null,e,r,t,n);break e;case 11:e=Q1(null,e,r,t,n);break e;case 14:e=Y1(null,e,r,sr(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),X1(t,e,r,i,n);case 3:e:{if(bI(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XT(t,e),yh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ea(Error(D(423)),e),e=J1(t,e,r,n,i);break e}else if(r!==i){i=Ea(Error(D(424)),e),e=J1(t,e,r,n,i);break e}else for(Pn=Ui(e.stateNode.containerInfo.firstChild),On=e,Ye=!0,ar=null,n=QT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),r===i){e=li(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return JT(e),t===null&&Gg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vg(r,i)?o=null:s!==null&&Vg(r,s)&&(e.flags|=32),CI(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return TI(t,e,n);case 4:return n0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Q1(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(mh,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!Cn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ni(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ta(e,n),i=Zn(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),Y1(t,e,r,i,n);case 15:return SI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),$d(t,e),e.tag=1,bn(r)?(t=!0,hh(e)):t=!1,ta(e,n),vI(e,r,i),Xg(e,r,i,n),ey(null,e,r,!0,t,n);case 19:return II(t,e,n);case 22:return EI(t,e,n)}throw Error(D(156,e.tag))};function jI(t,e){return mT(t,e)}function jD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new jD(t,e,n,r)}function y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VD(t){if(typeof t=="function")return y0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mv)return 11;if(t===Lv)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")y0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lo:return Ds(n.children,i,s,e);case Dv:o=8,i|=8;break;case Sg:return t=Yn(12,n,e,i|2),t.elementType=Sg,t.lanes=s,t;case Eg:return t=Yn(13,n,e,i),t.elementType=Eg,t.lanes=s,t;case Cg:return t=Yn(19,n,e,i),t.elementType=Cg,t.lanes=s,t;case Jb:return Af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yb:o=10;break e;case Xb:o=9;break e;case Mv:o=11;break e;case Lv:o=14;break e;case ki:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function Af(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=Jb,t.lanes=n,t.stateNode={isHidden:!1},t}function Tm(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Im(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v0(t,e,n,r,i,s,o,a,l){return t=new WD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(s),t}function HD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VI(t){if(!t)return Yi;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(bn(n))return VT(t,n,e)}return e}function WI(t,e,n,r,i,s,o,a,l){return t=v0(n,r,!0,t,i,s,o,a,l),t.context=VI(null),n=t.current,r=dn(),i=Vi(n),s=ni(r,i),s.callback=e??null,zi(n,s,i),t.current.lanes=i,sc(t,i,r),Tn(t,r),t}function Pf(t,e,n,r){var i=e.current,s=dn(),o=Vi(i);return n=VI(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zi(i,e,o),t!==null&&(pr(t,i,o,s),Ad(t,i,o)),o}function Th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _0(t,e){lS(t,e),(t=t.alternate)&&lS(t,e)}function qD(){return null}var HI=typeof reportError=="function"?reportError:function(t){console.error(t)};function w0(t){this._internalRoot=t}Of.prototype.render=w0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Pf(t,e,null,null)};Of.prototype.unmount=w0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ws(function(){Pf(null,t,null,null)}),e[oi]=null}};function Of(t){this._internalRoot=t}Of.prototype.unstable_scheduleHydration=function(t){if(t){var e=ET();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&bT(t)}};function S0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uS(){}function KD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Th(o);s.call(u)}}var o=WI(e,r,t,0,null,!1,!1,"",uS);return t._reactRootContainer=o,t[oi]=o.current,yu(t.nodeType===8?t.parentNode:t),Ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Th(l);a.call(u)}}var l=v0(t,0,!1,null,null,!1,!1,"",uS);return t._reactRootContainer=l,t[oi]=l.current,yu(t.nodeType===8?t.parentNode:t),Ws(function(){Pf(e,l,n,r)}),l}function Df(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Th(o);a.call(l)}}Pf(e,o,t,i)}else o=KD(n,e,t,i,r);return Th(o)}wT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rl(e.pendingLanes);n!==0&&(Uv(e,n|1),Tn(e,ut()),!(we&6)&&(Ca=ut()+500,os()))}break;case 13:Ws(function(){var r=ai(t,1);if(r!==null){var i=dn();pr(r,t,1,i)}}),_0(t,1)}};zv=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=dn();pr(e,t,134217728,n)}_0(t,134217728)}};ST=function(t){if(t.tag===13){var e=Vi(t),n=ai(t,e);if(n!==null){var r=dn();pr(n,t,e,r)}_0(t,e)}};ET=function(){return xe};CT=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Og=function(t,e,n){switch(e){case"input":if(Ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tf(r);if(!i)throw Error(D(90));eT(r),Ig(r,i)}}}break;case"textarea":nT(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};uT=p0;cT=Ws;var GD={usingClientEntryPoint:!1,Events:[ac,zo,Tf,aT,lT,p0]},ml={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QD={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fT(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||qD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Sf=sd.inject(QD),$r=sd}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S0(e))throw Error(D(200));return HD(t,e,null,n)};Bn.createRoot=function(t,e){if(!S0(t))throw Error(D(299));var n=!1,r="",i=HI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v0(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,yu(t.nodeType===8?t.parentNode:t),new w0(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=fT(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Ws(t)};Bn.hydrate=function(t,e,n){if(!$f(e))throw Error(D(200));return Df(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!S0(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WI(e,null,t,1,n??null,i,!1,s,o),t[oi]=e.current,yu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Of(e)};Bn.render=function(t,e,n){if(!$f(e))throw Error(D(200));return Df(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!$f(t))throw Error(D(40));return t._reactRootContainer?(Ws(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Bn.unstable_batchedUpdates=p0;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$f(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Df(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function qI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qI)}catch(t){console.error(t)}}qI(),qb.exports=Bn;var E0=qb.exports;const od=$b(E0);var KI,cS=E0;KI=cS.createRoot,cS.hydrateRoot;var dS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw Ka(e)},Ka=function(t){return new Error("Firebase Database ("+GI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new XD;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(t){const e=QI(t);return C0.encodeByteArray(e,!0)},Ih=function(t){return YI(t).replace(/\./g,"")},kh=function(t){try{return C0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return XI(void 0,t)}function XI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZD(n)||(t[n]=XI(t[n],e[n]));return t}function ZD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=()=>eM().__FIREBASE_DEFAULTS__,nM=()=>{if(typeof process>"u"||typeof dS>"u")return;const t=dS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kh(t[1]);return e&&JSON.parse(e)},b0=()=>{try{return tM()||nM()||rM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JI=t=>{var e,n;return(n=(e=b0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iM=t=>{const e=JI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZI=()=>{var t;return(t=b0())===null||t===void 0?void 0:t.config},ek=t=>{var e;return(e=b0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function oM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nk(){return GI.NODE_ADMIN===!0}function rk(){try{return typeof indexedDB=="object"}catch{return!1}}function lM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uM,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ao.prototype.create)}}class ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new nr(i,a,r)}}function cM(t,e){return t.replace(dM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){return JSON.parse(t)}function Nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Iu(kh(s[0])||""),n=Iu(kh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},hM=function(t){const e=ik(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fM=function(t){const e=ik(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ba(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(hS(s)&&hS(o)){if(!Rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function mM(t,e){const n=new gM(t,e);return n.subscribe.bind(n)}class gM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=km),i.error===void 0&&(i.error=km),i.complete===void 0&&(i.complete=km);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function km(){}function sk(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=1e3,wM=2,SM=4*60*60*1e3,EM=.5;function CM(t,e=_M,n=wM){const r=e*Math.pow(n,t),i=Math.round(EM*r*(Math.random()-.5)*2);return Math.min(SM,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class Ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IM(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TM(t){return t===gs?void 0:t}function IM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const xM={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},RM=_e.INFO,NM={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},AM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uc{constructor(e){this.name=e,this._logLevel=RM,this._logHandler=AM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const PM=(t,e)=>e.some(n=>t instanceof n);let fS,pS;function OM(){return fS||(fS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $M(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ok=new WeakMap,fy=new WeakMap,ak=new WeakMap,xm=new WeakMap,k0=new WeakMap;function DM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ok.set(n,t)}).catch(()=>{}),k0.set(e,t),e}function MM(t){if(fy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fy.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ak.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LM(t){py=t(py)}function FM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rm(this),e,...n);return ak.set(r,e.sort?e.sort():[e]),Hi(r)}:$M().includes(t)?function(...e){return t.apply(Rm(this),e),Hi(ok.get(this))}:function(...e){return Hi(t.apply(Rm(this),e))}}function BM(t){return typeof t=="function"?FM(t):(t instanceof IDBTransaction&&MM(t),PM(t,OM())?new Proxy(t,py):t)}function Hi(t){if(t instanceof IDBRequest)return DM(t);if(xm.has(t))return xm.get(t);const e=BM(t);return e!==t&&(xm.set(t,e),k0.set(e,t)),e}const Rm=t=>k0.get(t);function UM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zM=["get","getKey","getAll","getAllKeys","count"],jM=["put","add","delete","clear"],Nm=new Map;function mS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Nm.set(e,s),s}LM(t=>({...t,get:(e,n,r)=>mS(e,n)||t.get(e,n,r),has:(e,n)=>!!mS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const my="@firebase/app",gS="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new uc("@firebase/app"),HM="@firebase/app-compat",qM="@firebase/analytics-compat",KM="@firebase/analytics",GM="@firebase/app-check-compat",QM="@firebase/app-check",YM="@firebase/auth",XM="@firebase/auth-compat",JM="@firebase/database",ZM="@firebase/database-compat",e2="@firebase/functions",t2="@firebase/functions-compat",n2="@firebase/installations",r2="@firebase/installations-compat",i2="@firebase/messaging",s2="@firebase/messaging-compat",o2="@firebase/performance",a2="@firebase/performance-compat",l2="@firebase/remote-config",u2="@firebase/remote-config-compat",c2="@firebase/storage",d2="@firebase/storage-compat",h2="@firebase/firestore",f2="@firebase/firestore-compat",p2="firebase",m2="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="[DEFAULT]",g2={[my]:"fire-core",[HM]:"fire-core-compat",[KM]:"fire-analytics",[qM]:"fire-analytics-compat",[QM]:"fire-app-check",[GM]:"fire-app-check-compat",[YM]:"fire-auth",[XM]:"fire-auth-compat",[JM]:"fire-rtdb",[ZM]:"fire-rtdb-compat",[e2]:"fire-fn",[t2]:"fire-fn-compat",[n2]:"fire-iid",[r2]:"fire-iid-compat",[i2]:"fire-fcm",[s2]:"fire-fcm-compat",[o2]:"fire-perf",[a2]:"fire-perf-compat",[l2]:"fire-rc",[u2]:"fire-rc-compat",[c2]:"fire-gcs",[d2]:"fire-gcs-compat",[h2]:"fire-fst",[f2]:"fire-fst-compat","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,yy=new Map;function y2(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tr(t){const e=t.name;if(yy.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,t);for(const n of ku.values())y2(n,t);return!0}function cc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qi=new ao("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=m2;function x0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=ZI()),!n)throw qi.create("no-options");const s=ku.get(i);if(s){if(Rh(n,s.options)&&Rh(r,s.config))return s;throw qi.create("duplicate-app",{appName:i})}const o=new kM(i);for(const l of yy.values())o.addComponent(l);const a=new _2(n,r,o);return ku.set(i,a),a}function lk(t=gy){const e=ku.get(t);if(!e&&t===gy&&ZI())return x0();if(!e)throw qi.create("no-app",{appName:t});return e}function w2(){return Array.from(ku.values())}function gt(t,e,n){var r;let i=(r=g2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(a.join(" "));return}tr(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebase-heartbeat-database",E2=1,xu="firebase-heartbeat-store";let Am=null;function uk(){return Am||(Am=UM(S2,E2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xu)}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Am}async function C2(t){try{return await(await uk()).transaction(xu).objectStore(xu).get(ck(t))}catch(e){if(e instanceof nr)Hs.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hs.warn(n.message)}}}async function yS(t,e){try{const r=(await uk()).transaction(xu,"readwrite");await r.objectStore(xu).put(e,ck(t)),await r.done}catch(n){if(n instanceof nr)Hs.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hs.warn(r.message)}}}function ck(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1024,T2=30*24*60*60*1e3;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=T2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vS(),{heartbeatsToSend:n,unsentEntries:r}=k2(this._heartbeatsCache.heartbeats),i=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vS(){return new Date().toISOString().substring(0,10)}function k2(t,e=b2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_S(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_S(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rk()?lM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await C2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _S(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){tr(new Ln("platform-logger",e=>new VM(e),"PRIVATE")),tr(new Ln("heartbeat",e=>new I2(e),"PRIVATE")),gt(my,gS,t),gt(my,gS,"esm2017"),gt("fire-js","")}R2("");function R0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=dk,hk=new ao("auth","Firebase",dk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new uc("@firebase/auth");function A2(t,...e){Nh.logLevel<=_e.WARN&&Nh.warn(`Auth (${wi}): ${t}`,...e)}function Fd(t,...e){Nh.logLevel<=_e.ERROR&&Nh.error(`Auth (${wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw N0(t,...e)}function Mr(t,...e){return N0(t,...e)}function fk(t,e,n){const r=Object.assign(Object.assign({},N2()),{[e]:n});return new ao("auth","Firebase",r).create(e,{appName:t.name})}function P2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ur(t,"argument-error"),fk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hk.create(t,...e)}function re(t,e,...n){if(!t)throw N0(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function ui(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O2(){return wS()==="http:"||wS()==="https:"}function wS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||oM()||"connection"in navigator)?navigator.onLine:!0}function D2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=I0()||tk()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new dc(3e4,6e4);function mk(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hc(t,e,n,r,i={}){return gk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ga(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),pk.fetch()(yk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function gk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M2),e);try{const i=new B2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ad(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ad(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ad(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fk(t,c,u);Ur(t,c)}}catch(i){if(i instanceof nr)throw i;Ur(t,"network-request-failed",{message:String(i)})}}async function F2(t,e,n,r,i={}){const s=await hc(t,e,n,r,i);return"mfaPendingCredential"in s&&Ur(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?A0(t.config,i):`${t.config.apiScheme}://${i}`}class B2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),L2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){return hc(t,"POST","/v1/accounts:delete",e)}async function z2(t,e){return hc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j2(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=P0(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ql(Pm(i.auth_time)),issuedAtTime:Ql(Pm(i.iat)),expirationTime:Ql(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function P0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=kh(n);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V2(t){const e=P0(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&W2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ru(t,z2(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?G2(s.providerUserInfo):[],a=K2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function q2(t){const e=Wt(t);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G2(t){return t.map(e=>{var{providerId:n}=e,r=R0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e){const n=await gk(t,{},async()=>{const r=Ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Q2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nu;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nu,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j2(this,e)}reload(){return q2(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ru(this,U2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:w,isAnonymous:b,providerData:C,stsTokenManager:T}=n;re(m&&T,e,"internal-error");const k=Nu.fromJSON(this.name,T);re(typeof m=="string",e,"internal-error"),Ti(d,e.name),Ti(h,e.name),re(typeof w=="boolean",e,"internal-error"),re(typeof b=="boolean",e,"internal-error"),Ti(f,e.name),Ti(p,e.name),Ti(v,e.name),Ti(S,e.name),Ti(g,e.name),Ti(y,e.name);const N=new Ms({uid:m,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:k,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(N.providerData=C.map(_=>Object.assign({},_))),S&&(N._redirectEventId=S),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nu;i.updateFromServerResponse(n);const s=new Ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ah(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function Zr(t){ui(t instanceof Function,"Expected a class definition");let e=SS.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_k.type="NONE";const ES=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ra(Zr(ES),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zr(ES);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ms._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ra(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ra(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ek(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bk(e))return"Blackberry";if(Tk(e))return"Webos";if(O0(e))return"Safari";if((e.includes("chrome/")||Sk(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wk(t=sn()){return/firefox\//i.test(t)}function O0(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sk(t=sn()){return/crios\//i.test(t)}function Ek(t=sn()){return/iemobile/i.test(t)}function Ck(t=sn()){return/android/i.test(t)}function bk(t=sn()){return/blackberry/i.test(t)}function Tk(t=sn()){return/webos/i.test(t)}function Lf(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y2(t=sn()){var e;return Lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return aM()&&document.documentMode===10}function Ik(t=sn()){return Lf(t)||Ck(t)||Tk(t)||bk(t)||/windows phone/i.test(t)||Ek(t)}function J2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e=[]){let n;switch(t){case"Browser":n=CS(sn());break;case"Worker":n=`${CS(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wi}/${r}`}async function xk(t,e){return hc(t,"GET","/v2/recaptchaConfig",mk(t,e))}function bS(t){return t!==void 0&&t.enterprise!==void 0}class Rk{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Nk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Z2().appendChild(r)})}function eL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const tL="https://www.google.com/recaptcha/enterprise.js?render=",nL="recaptcha-enterprise",rL="NO_RECAPTCHA";class iL{constructor(e){this.type=nL,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Rk(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;bS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(rL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&bS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Nk(tL+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TS(this),this.idTokenSubscription=new TS(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Wt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}async initializeRecaptchaConfig(){const e=await xk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Rk(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new iL(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return re(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fc(t){return Wt(t)}class TS{constructor(e){this.auth=e,this.observer=null,this.addObserver=mM(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){const n=cc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rh(s,e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}function lL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uL(t,e,n){const r=fc(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Ak(e),{host:o,port:a}=cL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dL()}function Ak(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cL(t){const e=Ak(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:IS(o)}}}function IS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return F2(t,"POST","/v1/accounts:signInWithIdp",mk(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="http://localhost";class qs extends Pk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=R0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:hL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends pc{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends pc{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends pc{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ms._fromIdTokenResponse(e,r,i),o=kS(r);return new Ta({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kS(r);return new Ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ph(e,n,r,i)}}function Ok(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,s,e,r):s})}async function fL(t,e,n=!1){const r=await Ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ru(t,Ok(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=P0(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Ta._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e,n=!1){const r="signIn",i=await Ok(t,r,e),s=await Ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function $k(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function gL(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){const t=sn();return O0(t)||Lf(t)}const vL=1e3,_L=10;class Mk extends Dk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yL()&&J2(),this.fallbackToPolling=Ik(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_L):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mk.type="LOCAL";const wL=Mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends Dk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lk.type="SESSION";const Fk=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await SL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=D0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function CL(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function bL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IL(){return Bk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebaseLocalStorageDb",kL=1,$h="firebaseLocalStorage",zk="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function xL(){const t=indexedDB.deleteDatabase(Uk);return new mc(t).toPromise()}function _y(){const t=indexedDB.open(Uk,kL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($h,{keyPath:zk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await xL(),e(await _y()))})})}async function xS(t,e,n){const r=Bf(t,!0).put({[zk]:e,value:n});return new mc(r).toPromise()}async function RL(t,e){const n=Bf(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function RS(t,e){const n=Bf(t,!0).delete(e);return new mc(n).toPromise()}const NL=800,AL=3;class jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(IL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bL(),!this.activeServiceWorker)return;this.sender=new EL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await xS(e,Oh,"1"),await RS(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bf(i,!1).getAll();return new mc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jk.type="LOCAL";const PL=jk;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){return e?Zr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Pk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OL(t){return mL(t.auth,new M0(t),t.bypassAuthState)}function $L(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),pL(n,new M0(t),t.bypassAuthState)}async function DL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),fL(n,new M0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OL;case"linkViaPopup":case"linkViaRedirect":return DL;case"reauthViaPopup":case"reauthViaRedirect":return $L;default:Ur(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new dc(2e3,1e4);async function LL(t,e,n){const r=fc(t);P2(t,e,$0);const i=Vk(r,n);return new Is(r,"signInViaPopup",e,i).executeNotNull()}class Is extends Wk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ML.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",Ud=new Map;class BL extends Wk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await UL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UL(t,e){const n=VL(e),r=jL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zL(t,e){Ud.set(t._key(),e)}function jL(t){return Zr(t._redirectPersistence)}function VL(t){return Bd(FL,t.config.apiKey,t.name)}async function WL(t,e,n=!1){const r=fc(t),i=Vk(r,e),o=await new BL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=10*60*1e3;class qL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HL&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return hc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YL=/^https?/;async function XL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GL(t);for(const n of e)try{if(JL(n))return}catch{}Ur(t,"unauthorized-domain")}function JL(t){const e=vy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YL.test(n))return!1;if(QL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new dc(3e4,6e4);function AS(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eF(t){return new Promise((e,n)=>{var r,i,s;function o(){AS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AS(),n(Mr(t,"network-request-failed"))},timeout:ZL.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Lr().gapi)===null||s===void 0)&&s.load)o();else{const a=eL("iframefcb");return Lr()[a]=()=>{gapi.load?o():n(Mr(t,"network-request-failed"))},Nk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function tF(t){return zd=zd||eF(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new dc(5e3,15e3),rF="__/auth/iframe",iF="emulator/auth/iframe",sF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aF(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?A0(e,iF):`https://${t.config.authDomain}/${rF}`,r={apiKey:e.apiKey,appName:t.name,v:wi},i=oF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ga(r).slice(1)}`}async function lF(t){const e=await tF(t),n=Lr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:aF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mr(t,"network-request-failed"),a=Lr().setTimeout(()=>{s(o)},nF.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,dF=600,hF="_blank",fF="http://localhost";class PS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pF(t,e,n,r=cF,i=dF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=sn().toLowerCase();n&&(a=Sk(u)?hF:n),wk(u)&&(e=e||fF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(Y2(u)&&a!=="_self")return mF(e||"",a),new PS(null);const d=window.open(e||"",a,c);re(d,t,"popup-blocked");try{d.focus()}catch{}return new PS(d)}function mF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="__/auth/handler",yF="emulator/auth/handler",vF=encodeURIComponent("fac");async function OS(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wi,eventId:i};if(e instanceof $0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof pc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${vF}=${encodeURIComponent(l)}`:"";return`${_F(t)}?${Ga(a).slice(1)}${u}`}function _F({config:t}){return t.emulator?A0(t,yF):`https://${t.authDomain}/${gF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class wF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fk,this._completeRedirectFn=WL,this._overrideRedirectResult=zL}async _openPopup(e,n,r,i){var s;ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OS(e,n,r,vy(),i);return pF(e,o,D0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await OS(e,n,r,vy(),i);return CL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ui(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lF(e),r=new qL(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Om];o!==void 0&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ik()||O0()||Lf()}}const SF=wF;var $S="@firebase/auth",DS="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bF(t){tr(new Ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(t)},u=new oL(r,i,s,l);return lL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tr(new Ln("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new EF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt($S,DS,CF(t)),gt($S,DS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=5*60,IF=ek("authIdTokenMaxAge")||TF;let MS=null;const kF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IF)return;const i=n==null?void 0:n.token;MS!==i&&(MS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xF(t=lk()){const e=cc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aL(t,{popupRedirectResolver:SF,persistence:[PL,wL,Fk]}),r=ek("authTokenSyncURL");if(r){const s=kF(r);gL(n,s,()=>s(n.currentUser)),$k(n,o=>s(o))}const i=JI("auth");return i&&uL(n,`http://${i}`),n}bF("Browser");var LS={};const FS="@firebase/database",BS="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qk="";function RF(t){qk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Iu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _i(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NF(e)}}catch{}return new AF},ks=Kk("localStorage"),PF=Kk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new uc("@firebase/database"),OF=function(){let t=1;return function(){return t++}}(),Gk=function(t){const e=vM(t),n=new pM;n.update(e);const r=n.digest();return C0.encodeByteArray(r)},gc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gc.apply(null,r):typeof r=="object"?e+=Nt(r):e+=r,e+=" "}return e};let Yl=null,US=!0;const $F=function(t,e){U(!e,"Can't turn on custom loggers persistently."),sa.logLevel=_e.VERBOSE,Yl=sa.log.bind(sa)},Xt=function(...t){if(US===!0&&(US=!1,Yl===null&&PF.get("logging_enabled")===!0&&$F()),Yl){const e=gc.apply(null,t);Yl(e)}},yc=function(t){return function(...e){Xt(t,...e)}},wy=function(...t){const e="FIREBASE INTERNAL ERROR: "+gc(...t);sa.error(e)},Ks=function(...t){const e=`FIREBASE FATAL ERROR: ${gc(...t)}`;throw sa.error(e),new Error(e)},$n=function(...t){const e="FIREBASE WARNING: "+gc(...t);sa.warn(e)},DF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$n("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Qk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},MF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ia="[MIN_NAME]",Gs="[MAX_NAME]",Qa=function(t,e){if(t===e)return 0;if(t===Ia||e===Gs)return-1;if(e===Ia||t===Gs)return 1;{const n=zS(t),r=zS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LF=function(t,e){return t===e?0:t<e?-1:1},gl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nt(e))},L0=function(t){if(typeof t!="object"||t===null)return Nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nt(e[r]),n+=":",n+=L0(t[e[r]]);return n+="}",n},Yk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function In(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xk=function(t){U(!Qk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},FF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function UF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const zF=new RegExp("^-?(0*)\\d{1,10}$"),jF=-2147483648,VF=2147483647,zS=function(t){if(zF.test(t)){const e=Number(t);if(e>=jF&&e<=VF)return e}return null},vc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $n("Exception was thrown by user callback.",n),e},Math.floor(0))}},WF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$n(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$n(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="5",Jk="v",Zk="s",ex="r",tx="f",nx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rx="ls",ix="p",Sy="ac",sx="websocket",ox="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function GF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ax(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===sx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ox)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GF(t)&&(n.ns=t.namespace);const i=[];return In(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.counters_={}}incrementCounter(e,n=1){_i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return JD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m={},Dm={};function B0(t){const e=t.toString();return $m[e]||($m[e]=new QF),$m[e]}function YF(t,e){const n=t.toString();return Dm[n]||(Dm[n]=e()),Dm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="start",JF="close",ZF="pLPCommand",e4="pRTLPCB",lx="id",ux="pw",cx="ser",t4="cb",n4="seg",r4="ts",i4="d",s4="dframe",dx=1870,hx=30,o4=dx-hx,a4=25e3,l4=3e4;class Go{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yc(e),this.stats_=B0(n),this.urlFn=l=>(this.appCheckToken&&(l[Sy]=this.appCheckToken),ax(n,ox,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(l4)),MF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jS)this.id=a,this.password=l;else if(o===JF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jS]="t",r[cx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[t4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Jk]=F0,this.transportSessionId&&(r[Zk]=this.transportSessionId),this.lastSessionId&&(r[rx]=this.lastSessionId),this.applicationId&&(r[ix]=this.applicationId),this.appCheckToken&&(r[Sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&nx.test(location.hostname)&&(r[ex]=tx);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Go.forceAllow_=!0}static forceDisallow(){Go.forceDisallow_=!0}static isAvailable(){return Go.forceAllow_?!0:!Go.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FF()&&!BF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=YI(n),i=Yk(r,o4);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[s4]="t",r[lx]=e,r[ux]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class U0{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OF(),window[ZF+this.uniqueCallbackIdentifier]=e,window[e4+this.uniqueCallbackIdentifier]=n,this.myIFrame=U0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Xt("frame writing exception"),a.stack&&Xt(a.stack),Xt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lx]=this.myID,e[ux]=this.myPW,e[cx]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hx+r.length<=dx;){const o=this.pendingSegs.shift();r=r+"&"+n4+i+"="+o.seg+"&"+r4+i+"="+o.ts+"&"+i4+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(a4)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=16384,c4=45e3;let Dh=null;typeof MozWebSocket<"u"?Dh=MozWebSocket:typeof WebSocket<"u"&&(Dh=WebSocket);class lr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yc(this.connId),this.stats_=B0(n),this.connURL=lr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Jk]=F0,typeof location<"u"&&location.hostname&&nx.test(location.hostname)&&(o[ex]=tx),n&&(o[Zk]=n),r&&(o[rx]=r),i&&(o[Sy]=i),s&&(o[ix]=s),ax(e,sx,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ks.set("previous_websocket_failure",!0);try{let r;nk(),this.mySock=new Dh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){lr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dh!==null&&!lr.forceDisallow_}static previouslyFailed(){return ks.isInMemoryStorage||ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Iu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Yk(n,u4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(c4))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}lr.responsesRequiredToBeHealthy=2;lr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Go,lr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=lr&&lr.isAvailable();let r=n&&!lr.previouslyFailed();if(e.webSocketOnly&&(n||$n("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[lr];else{const i=this.transports_=[];for(const s of Au.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Au.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Au.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=6e4,h4=5e3,f4=10*1024,p4=100*1024,Mm="t",VS="d",m4="s",WS="r",g4="e",HS="o",qS="a",KS="n",GS="p",y4="h";class v4{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yc("c:"+this.id+":"),this.transportManager_=new Au(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>p4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>f4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mm in e){const n=e[Mm];n===qS?this.upgradeIfSecondaryHealthy_():n===WS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===HS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gl("t",e),r=gl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:GS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:KS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gl("t",e),r=gl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gl(Mm,e);if(VS in e){const r=e[VS];if(n===y4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===KS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===m4?this.onConnectionShutdown_(r):n===WS?this.onReset_(r):n===g4?wy("Server Error: "+r):n===HS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),F0!==r&&$n("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(d4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(h4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:GS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends px{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mh}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=32,YS=768;class Me{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Me("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xi(t){return t.pieces_.length-t.pieceNum_}function Fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Me(t.pieces_,e)}function mx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _4(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Me(e,0)}function wt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Me)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Me(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const n=ue(t),r=ue(e);if(n===null)return e;if(n===r)return Sn(Fe(t),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function z0(t,e){if(Xi(t)!==Xi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ur(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xi(t)>Xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class w4{constructor(e,n){this.errorPrefix_=n,this.parts_=gx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Mf(this.parts_[r]);vx(this)}}function S4(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Mf(e),vx(t)}function E4(t){const e=t.parts_.pop();t.byteLength_-=Mf(e),t.parts_.length>0&&(t.byteLength_-=1)}function vx(t){if(t.byteLength_>YS)throw new Error(t.errorPrefix_+"has a key path longer than "+YS+" bytes ("+t.byteLength_+").");if(t.parts_.length>QS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QS+") or object contains a cycle "+ys(t))}function ys(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends px{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new j0}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=1e3,C4=60*5*1e3,XS=30*1e3,b4=1.3,T4=3e4,I4="server_kill",JS=3;class ri extends fx{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ri.nextPersistentConnectionId_++,this.log_=yc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yl,this.maxReconnectDelay_=C4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!nk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");j0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nt(s)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new T0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ri.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_i(e,"w")){const r=ba(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$n(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=XS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):wy("Unrecognized action received from server: "+Nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>T4&&(this.reconnectDelay_=yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*b4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ri.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Xt("getToken() completed but was canceled"):(Xt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new v4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{$n(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(I4)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&$n(d),l())}}}interrupt(e){Xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hy(this.interruptReasons_)&&(this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>L0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Me(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=JS&&(this.reconnectDelay_=XS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=JS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+qk.replace(/\./g,"-")]=1,I0()?e["framework.cordova"]=1:tk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mh.getInstance().currentlyOnline();return hy(this.interruptReasons_)&&e}}ri.nextPersistentConnectionId_=0;ri.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(Ia,e),i=new le(Ia,n);return this.compare(r,i)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;class _x extends Uf{static get __EMPTY_NODE(){return ld}static set __EMPTY_NODE(e){ld=e}compare(e,n){return Qa(e.name,n.name)}isDefinedOn(e){throw Ka("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Gs,ld)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,ld)}toString(){return".key"}}const oa=new _x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??En.EMPTY_NODE,this.right=s??En.EMPTY_NODE}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return En.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return En.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class k4{copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class En{constructor(e,n=En.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new En(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new En(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ud(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ud(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ud(this.root_,null,this.comparator_,!0,e)}}En.EMPTY_NODE=new k4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t,e){return Qa(t.name,e.name)}function V0(t,e){return Qa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ey;function R4(t){Ey=t}const wx=function(t){return typeof t=="number"?"number:"+Xk(t):"string:"+t},Sx=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_i(e,".sv"),"Priority must be a string or number.")}else U(t===Ey||t.isEmpty(),"priority of unexpected type.");U(t===Ey||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZS;class bt{constructor(e,n=bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sx(this.priorityNode_)}static set __childrenNodeConstructor(e){ZS=e}static get __childrenNodeConstructor(){return ZS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new bt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:bt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:ue(e)===".priority"?this.priorityNode_:bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ue(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(U(r!==".priority"||Xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wx(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xk(this.value_):e+=this.value_,this.lazyHash_=Gk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===bt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof bt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=bt.VALUE_TYPE_ORDER.indexOf(n),s=bt.VALUE_TYPE_ORDER.indexOf(r);return U(i>=0,"Unknown leaf type: "+n),U(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ex,Cx;function N4(t){Ex=t}function A4(t){Cx=t}class P4 extends Uf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Qa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Gs,new bt("[PRIORITY-POST]",Cx))}makePost(e,n){const r=Ex(e);return new le(n,new bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const at=new P4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=Math.log(2);class $4{constructor(e){const n=s=>parseInt(Math.log(s)/O4,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new kt(h,d.node,kt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),v=i(f+1,u);return d=t[f],h=n?n(d):d,new kt(h,d.node,kt.BLACK,p,v)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,v){const S=d-p,g=d;d-=p;const y=i(S+1,g),m=t[S],w=n?n(m):m;f(new kt(w,m.node,v,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const v=l.nextBitIsOne(),S=Math.pow(2,l.count-(p+1));v?h(S,kt.BLACK):(h(S,kt.BLACK),h(S,kt.RED))}return c},o=new $4(t.length),a=s(o);return new En(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;const Co={};class ei{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Co&&at,"ChildrenNode.ts has not been loaded"),Lm=Lm||new ei({".priority":Co},{".priority":at}),Lm}get(e){const n=ba(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof En?n:null}hasIndex(e){return _i(this.indexSet_,e.toString())}addIndex(e,n){U(e!==oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(le.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Lh(r,e.getCompare()):a=Co;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ei(c,u)}addToIndexes(e,n){const r=xh(this.indexes_,(i,s)=>{const o=ba(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===Co)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Lh(a,o.getCompare())}else return Co;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new ei(r,this.indexSet_)}removeFromIndexes(e,n){const r=xh(this.indexes_,i=>{if(i===Co)return i;{const s=n.get(e.name);return s?i.remove(new le(e.name,s)):i}});return new ei(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl;class Z{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sx(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vl||(vl=new Z(new En(V0),null,ei.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vl}updatePriority(e){return this.children_.isEmpty()?this:new Z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?vl:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new le(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?vl:this.priorityNode_;return new Z(i,o,s)}}updateChild(e,n){const r=ue(e);if(r===null)return n;{U(ue(e)!==".priority"||Xi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Fe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(at,(o,a)=>{n[o]=a.val(e),r++,s&&Z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wx(this.getPriority().val())+":"),this.forEachChild(at,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Gk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_c?-1:0}withIndex(e){if(e===oa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===oa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(at),i=n.getIterator(at);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===oa?null:this.indexMap_.get(e.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class D4 extends Z{constructor(){super(new En(V0),Z.EMPTY_NODE,ei.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}}const _c=new D4;Object.defineProperties(le,{MIN:{value:new le(Ia,Z.EMPTY_NODE)},MAX:{value:new le(Gs,_c)}});_x.__EMPTY_NODE=Z.EMPTY_NODE;bt.__childrenNodeConstructor=Z;R4(_c);A4(_c);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=!0;function Jt(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new bt(n,Jt(e))}if(!(t instanceof Array)&&M4){const n=[];let r=!1;if(In(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Jt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return Z.EMPTY_NODE;const s=Lh(n,x4,o=>o.name,V0);if(r){const o=Lh(n,at.getCompare());return new Z(s,Jt(e),new ei({".priority":o},{".priority":at}))}else return new Z(s,Jt(e),ei.Default)}else{let n=Z.EMPTY_NODE;return In(t,(r,i)=>{if(_i(t,r)&&r.substring(0,1)!=="."){const s=Jt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Jt(e))}}N4(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4 extends Uf{constructor(e){super(),this.indexPath_=e,U(!ce(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Qa(e.name,n.name):s}makePost(e,n){const r=Jt(e),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,i)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,_c);return new le(Gs,e)}toString(){return gx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4 extends Uf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Qa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=Jt(e);return new le(n,r)}toString(){return".value"}}const B4=new F4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){return{type:"value",snapshotNode:t}}function ka(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ou(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function U4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Pu(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ka(n,r)):o.trackChildChange(Ou(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(at,(i,s)=>{n.hasChild(i)||r.trackChildChange(Pu(i,s))}),n.isLeafNode()||n.forEachChild(at,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ou(i,s,o))}else r.trackChildChange(ka(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.indexedFilter_=new W0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$u.getStartPost_(e),this.endPost_=$u.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new le(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Z.EMPTY_NODE);const s=this;return n.forEachChild(at,(o,a)=>{s.matches(new le(o,a))||(i=i.updateImmediateChild(o,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $u(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new le(n,r))||(r=Z.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new le(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(Ou(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Pu(n,d));const v=a.updateImmediateChild(n,Z.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ka(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Pu(u.name,u.node)),s.trackChildChange(ka(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ia}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new H0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function j4(t){return t.loadsAllData()?new W0(t.getIndex()):t.hasLimit()?new z4(t):new $u(t)}function eE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===at?n="$priority":t.index_===B4?n="$value":t.index_===oa?n="$key":(U(t.index_ instanceof L4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==at&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends fx{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Fh.getListenId_(e,r),a={};this.listens_[o]=a;const l=eE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ba(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Fh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=eE(e._queryParams),r=e._path.toString(),i=new T0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ga(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Iu(a.responseText)}catch{$n("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$n("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(){return{value:null,children:new Map}}function Tx(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ue(e);t.children.has(r)||t.children.set(r,Bh());const i=t.children.get(r);e=Fe(e),Tx(i,e,n)}}function Cy(t,e,n){t.value!==null?n(e,t.value):W4(t,(r,i)=>{const s=new Me(e.toString()+"/"+r);Cy(i,s,n)})}function W4(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&In(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=10*1e3,q4=30*1e3,K4=5*60*1e3;class G4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new H4(e);const r=nE+(q4-nE)*Math.random();Xl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;In(e,(i,s)=>{s>0&&_i(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*K4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cr||(cr={}));function Ix(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function q0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function K0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cr.ACK_USER_WRITE,this.source=Ix()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(e));return new Uh(Ie(),n,this.revert)}}else return U(ue(this.path)===e,"operationForChild called for unrelated child."),new Uh(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.source=e,this.path=n,this.type=cr.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Du(this.source,Ie()):new Du(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cr.OVERWRITE}operationForChild(e){return ce(this.path)?new Qs(this.source,Ie(),this.snap.getImmediateChild(e)):new Qs(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cr.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Me(e));return n.isEmpty()?null:n.value?new Qs(this.source,Ie(),n.value):new Mu(this.source,Ie(),n)}else return U(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mu(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Y4(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(U4(o.childName,o.snapshotNode))}),_l(t,i,"child_removed",e,r,n),_l(t,i,"child_added",e,r,n),_l(t,i,"child_moved",s,r,n),_l(t,i,"child_changed",e,r,n),_l(t,i,"value",e,r,n),i}function _l(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>J4(t,a,l)),o.forEach(a=>{const l=X4(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function X4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function J4(t,e,n){if(e.childName==null||n.childName==null)throw Ka("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),i=new le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){return{eventCache:t,serverCache:e}}function Jl(t,e,n,r){return zf(new Ys(e,n,r),t.serverCache)}function kx(t,e,n,r){return zf(t.eventCache,new Ys(e,n,r))}function by(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm;const Z4=()=>(Fm||(Fm=new En(LF)),Fm);class Ve{constructor(e,n=Z4()){this.value=e,this.children=n}static fromObject(e){let n=new Ve(null);return In(e,(r,i)=>{n=n.set(new Me(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(ce(e))return null;{const r=ue(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Fe(e),n);return s!=null?{path:wt(new Me(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=ue(e),r=this.children.get(n);return r!==null?r.subtree(Fe(e)):new Ve(null)}}set(e,n){if(ce(e))return new Ve(n,this.children);{const r=ue(e),s=(this.children.get(r)||new Ve(null)).set(Fe(e),n),o=this.children.insert(r,s);return new Ve(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const n=ue(e),r=this.children.get(n);if(r){const i=r.remove(Fe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ve(null):new Ve(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{const n=ue(e),r=this.children.get(n);return r?r.get(Fe(e)):null}}setTree(e,n){if(ce(e))return n;{const r=ue(e),s=(this.children.get(r)||new Ve(null)).setTree(Fe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ve(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(wt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{const s=ue(e),o=this.children.get(s);return o?o.findOnPath_(Fe(e),wt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);const i=ue(e),s=this.children.get(i);return s?s.foreachOnPath_(Fe(e),wt(n,i),r):new Ve(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(wt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.writeTree_=e}static empty(){return new mr(new Ve(null))}}function Zl(t,e,n){if(ce(e))return new mr(new Ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Sn(i,e);return s=s.updateChild(o,n),new mr(t.writeTree_.set(i,s))}else{const i=new Ve(n),s=t.writeTree_.setTree(e,i);return new mr(s)}}}function rE(t,e,n){let r=t;return In(n,(i,s)=>{r=Zl(r,wt(e,i),s)}),r}function iE(t,e){if(ce(e))return mr.empty();{const n=t.writeTree_.setTree(e,new Ve(null));return new mr(n)}}function Ty(t,e){return lo(t,e)!=null}function lo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Sn(n.path,e)):null}function sE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(at,(r,i)=>{e.push(new le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new le(r,i.value))}),e}function Ki(t,e){if(ce(e))return t;{const n=lo(t,e);return n!=null?new mr(new Ve(n)):new mr(t.writeTree_.subtree(e))}}function Iy(t){return t.writeTree_.isEmpty()}function xa(t,e){return xx(Ie(),t.writeTree_,e)}function xx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=xx(wt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(wt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){return Px(e,t)}function e5(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Zl(t.visibleWrites,e,n)),t.lastWriteId=r}function t5(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function n5(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&r5(a,r.path)?i=!1:ur(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return i5(t),!0;if(r.snap)t.visibleWrites=iE(t.visibleWrites,r.path);else{const a=r.children;In(a,l=>{t.visibleWrites=iE(t.visibleWrites,wt(r.path,l))})}return!0}else return!1}function r5(t,e){if(t.snap)return ur(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ur(wt(t.path,n),e))return!0;return!1}function i5(t){t.visibleWrites=Rx(t.allWrites,s5,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function s5(t){return t.visible}function Rx(t,e,n){let r=mr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ur(n,o)?(a=Sn(n,o),r=Zl(r,a,s.snap)):ur(o,n)&&(a=Sn(o,n),r=Zl(r,Ie(),s.snap.getChild(a)));else if(s.children){if(ur(n,o))a=Sn(n,o),r=rE(r,a,s.children);else if(ur(o,n))if(a=Sn(o,n),ce(a))r=rE(r,Ie(),s.children);else{const l=ba(s.children,ue(a));if(l){const u=l.getChild(Fe(a));r=Zl(r,Ie(),u)}}}else throw Ka("WriteRecord should have .snap or .children")}}return r}function Nx(t,e,n,r,i){if(!r&&!i){const s=lo(t.visibleWrites,e);if(s!=null)return s;{const o=Ki(t.visibleWrites,e);if(Iy(o))return n;if(n==null&&!Ty(o,Ie()))return null;{const a=n||Z.EMPTY_NODE;return xa(o,a)}}}else{const s=Ki(t.visibleWrites,e);if(!i&&Iy(s))return n;if(!i&&n==null&&!Ty(s,Ie()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ur(u.path,e)||ur(e,u.path))},a=Rx(t.allWrites,o,e),l=n||Z.EMPTY_NODE;return xa(a,l)}}}function o5(t,e,n){let r=Z.EMPTY_NODE;const i=lo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(at,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ki(t.visibleWrites,e);return n.forEachChild(at,(o,a)=>{const l=xa(Ki(s,new Me(o)),a);r=r.updateImmediateChild(o,l)}),sE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ki(t.visibleWrites,e);return sE(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function a5(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=wt(e,n);if(Ty(t.visibleWrites,s))return null;{const o=Ki(t.visibleWrites,s);return Iy(o)?i.getChild(n):xa(o,i.getChild(n))}}function l5(t,e,n,r){const i=wt(e,n),s=lo(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ki(t.visibleWrites,i);return xa(o,r.getNode().getImmediateChild(n))}else return null}function u5(t,e){return lo(t.visibleWrites,e)}function c5(t,e,n,r,i,s,o){let a;const l=Ki(t.visibleWrites,e),u=lo(l,Ie());if(u!=null)a=u;else if(n!=null)a=xa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function d5(){return{visibleWrites:mr.empty(),allWrites:[],lastWriteId:-1}}function zh(t,e,n,r){return Nx(t.writeTree,t.treePath,e,n,r)}function Q0(t,e){return o5(t.writeTree,t.treePath,e)}function oE(t,e,n,r){return a5(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return u5(t.writeTree,wt(t.treePath,e))}function h5(t,e,n,r,i,s){return c5(t.writeTree,t.treePath,e,n,r,i,s)}function Y0(t,e,n){return l5(t.writeTree,t.treePath,e,n)}function Ax(t,e){return Px(wt(t.treePath,e),t.writeTree)}function Px(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ou(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Pu(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ka(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ou(r,e.snapshotNode,i.oldSnap));else throw Ka("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ox=new p5;class X0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Y0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),s=h5(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){return{filter:t}}function g5(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function y5(t,e,n,r,i){const s=new f5;let o,a;if(n.type===cr.OVERWRITE){const u=n;u.source.fromUser?o=ky(t,e,u.path,u.snap,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ce(u.path),o=Vh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===cr.MERGE){const u=n;u.source.fromUser?o=_5(t,e,u.path,u.children,r,i,s):(U(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=xy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===cr.ACK_USER_WRITE){const u=n;u.revert?o=E5(t,e,u.path,r,i,s):o=w5(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===cr.LISTEN_COMPLETE)o=S5(t,e,n.path,r,s);else throw Ka("Unknown operation type: "+n.type);const l=s.getChanges();return v5(e,o,l),{viewCache:o,changes:l}}function v5(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=by(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(bx(by(e)))}}function $x(t,e,n,r,i,s){const o=e.eventCache;if(jh(r,n)!=null)return e;{let a,l;if(ce(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Xs(e),c=u instanceof Z?u:Z.EMPTY_NODE,d=Q0(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=zh(r,Xs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ue(n);if(u===".priority"){U(Xi(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=oE(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Fe(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=oE(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Y0(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Jl(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function Vh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ce(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=ue(n);if(!l.isCompleteForPath(n)&&Xi(n)>1)return e;const p=Fe(n),S=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),f,S,p,Ox,null)}const d=kx(e,u,l.isFullyInitialized()||ce(n),c.filtersNodes()),h=new X0(i,d,s);return $x(t,d,n,i,h,a)}function ky(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new X0(i,e,s);if(ce(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Jl(e,u,!0,t.filter.filtersNodes());else{const d=ue(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Jl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Fe(n),f=a.getNode().getImmediateChild(d);let p;if(ce(h))p=r;else{const v=c.getCompleteChild(d);v!=null?mx(h)===".priority"&&v.getChild(yx(h)).isEmpty()?p=v:p=v.updateChild(h,r):p=Z.EMPTY_NODE}if(f.equals(p))l=e;else{const v=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Jl(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function aE(t,e){return t.eventCache.isCompleteForChild(e)}function _5(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=wt(n,l);aE(e,ue(c))&&(a=ky(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=wt(n,l);aE(e,ue(c))||(a=ky(t,a,c,u,i,s,o))}),a}function lE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ce(n)?u=r:u=new Ve(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=lE(t,f,h);l=Vh(t,l,new Me(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),v=lE(t,p,h);l=Vh(t,l,new Me(d),v,i,s,o,a)}}),l}function w5(t,e,n,r,i,s,o){if(jh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Vh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ce(n)){let u=new Ve(null);return l.getNode().forEachChild(oa,(c,d)=>{u=u.set(new Me(c),d)}),xy(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ve(null);return r.foreach((c,d)=>{const h=wt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),xy(t,e,n,u,i,s,a,o)}}function S5(t,e,n,r,i){const s=e.serverCache,o=kx(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return $x(t,o,n,r,Ox,i)}function E5(t,e,n,r,i,s){let o;if(jh(r,n)!=null)return e;{const a=new X0(r,e,i),l=e.eventCache.getNode();let u;if(ce(n)||ue(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=zh(r,Xs(e));else{const d=e.serverCache.getNode();U(d instanceof Z,"serverChildren would be complete if leaf node"),c=Q0(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=ue(n);let d=Y0(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Fe(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Z.EMPTY_NODE,Fe(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zh(r,Xs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||jh(r,Ie())!=null,Jl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new W0(r.getIndex()),s=j4(r);this.processor_=m5(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Z.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),c=new Ys(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ys(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=zf(d,c),this.eventGenerator_=new Q4(this.query_)}get query(){return this.query_}}function b5(t){return t.viewCache_.serverCache.getNode()}function T5(t,e){const n=Xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function uE(t){return t.eventRegistrations_.length===0}function I5(t,e){t.eventRegistrations_.push(e)}function cE(t,e,n){const r=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function dE(t,e,n,r){e.type===cr.MERGE&&e.source.queryId!==null&&(U(Xs(t.viewCache_),"We should always have a full cache before handling merges"),U(by(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=y5(t.processor_,i,e,n,r);return g5(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Dx(t,s.changes,s.viewCache.eventCache.getNode(),null)}function k5(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(at,(s,o)=>{r.push(ka(s,o))}),n.isFullyInitialized()&&r.push(bx(n.getNode())),Dx(t,r,n.getNode(),e)}function Dx(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Y4(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;class x5{constructor(){this.views=new Map}}function R5(t){U(!Wh,"__referenceConstructor has already been defined"),Wh=t}function N5(){return U(Wh,"Reference.ts has not been loaded"),Wh}function A5(t){return t.views.size===0}function J0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),dE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(dE(o,e,n,r));return s}}function P5(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=zh(n,i?r:null),l=!1;a?l=!0:r instanceof Z?(a=Q0(n,r),l=!1):(a=Z.EMPTY_NODE,l=!1);const u=zf(new Ys(a,l,!1),new Ys(r,i,!1));return new C5(e,u)}return o}function O5(t,e,n,r,i,s){const o=P5(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),I5(o,n),k5(o,n)}function $5(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ji(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(cE(u,n,r)),uE(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(cE(l,n,r)),uE(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ji(t)&&s.push(new(N5())(e._repo,e._path)),{removed:s,events:o}}function Mx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function aa(t,e){let n=null;for(const r of t.views.values())n=n||T5(r,e);return n}function Lx(t,e){if(e._queryParams.loadsAllData())return jf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Fx(t,e){return Lx(t,e)!=null}function Ji(t){return jf(t)!=null}function jf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh;function D5(t){U(!Hh,"__referenceConstructor has already been defined"),Hh=t}function M5(){return U(Hh,"Reference.ts has not been loaded"),Hh}let L5=1;class hE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=d5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F5(t,e,n,r,i){return e5(t.pendingWriteTree_,e,n,r,i),i?wc(t,new Qs(Ix(),e,n)):[]}function Qo(t,e,n=!1){const r=t5(t.pendingWriteTree_,e);if(n5(t.pendingWriteTree_,e)){let s=new Ve(null);return r.snap!=null?s=s.set(Ie(),!0):In(r.children,o=>{s=s.set(new Me(o),!0)}),wc(t,new Uh(r.path,s,n))}else return[]}function Vf(t,e,n){return wc(t,new Qs(q0(),e,n))}function B5(t,e,n){const r=Ve.fromObject(n);return wc(t,new Mu(q0(),e,r))}function U5(t,e){return wc(t,new Du(q0(),e))}function z5(t,e,n){const r=Z0(t,n);if(r){const i=e_(r),s=i.path,o=i.queryId,a=Sn(s,e),l=new Du(K0(o),a);return t_(t,s,l)}else return[]}function Ry(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Fx(o,e))){const l=$5(o,e,n,r);A5(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Ji(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=W5(h);for(let p=0;p<f.length;++p){const v=f[p],S=v.query,g=jx(t,v);t.listenProvider_.startListening(eu(S),qh(t,S),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(eu(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Wf(h));t.listenProvider_.stopListening(eu(h),f)}))}H5(t,u)}return a}function j5(t,e,n,r){const i=Z0(t,r);if(i!=null){const s=e_(i),o=s.path,a=s.queryId,l=Sn(o,e),u=new Qs(K0(a),l,n);return t_(t,o,u)}else return[]}function V5(t,e,n,r){const i=Z0(t,r);if(i){const s=e_(i),o=s.path,a=s.queryId,l=Sn(o,e),u=Ve.fromObject(n),c=new Mu(K0(a),l,u);return t_(t,o,c)}else return[]}function fE(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Sn(h,i);s=s||aa(f,p),o=o||Ji(f)});let a=t.syncPointTree_.get(i);a?(o=o||Ji(a),s=s||aa(a,Ie())):(a=new x5,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Z.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const v=aa(p,Ie());v&&(s=s.updateImmediateChild(f,v))}));const u=Fx(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Wf(e);U(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=q5();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=G0(t.pendingWriteTree_,i);let d=O5(a,e,n,c,s,l);if(!u&&!o&&!r){const h=Lx(a,e);d=d.concat(K5(t,e,h))}return d}function Bx(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Sn(o,e),u=aa(a,l);if(u)return u});return Nx(i,e,s,n,!0)}function wc(t,e){return Ux(e,t.syncPointTree_,null,G0(t.pendingWriteTree_,Ie()))}function Ux(t,e,n,r){if(ce(t.path))return zx(t,e,n,r);{const i=e.get(Ie());n==null&&i!=null&&(n=aa(i,Ie()));let s=[];const o=ue(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=Ax(r,o);s=s.concat(Ux(a,l,u,c))}return i&&(s=s.concat(J0(i,t,r,n))),s}}function zx(t,e,n,r){const i=e.get(Ie());n==null&&i!=null&&(n=aa(i,Ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Ax(r,o),c=t.operationForChild(o);c&&(s=s.concat(zx(c,a,l,u)))}),i&&(s=s.concat(J0(i,t,r,n))),s}function jx(t,e){const n=e.query,r=qh(t,n);return{hashFn:()=>(b5(e)||Z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?z5(t,n._path,r):U5(t,n._path);{const s=UF(i,n);return Ry(t,n,null,s)}}}}function qh(t,e){const n=Wf(e);return t.queryToTagMap.get(n)}function Wf(t){return t._path.toString()+"$"+t._queryIdentifier}function Z0(t,e){return t.tagToQueryMap.get(e)}function e_(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Me(t.substr(0,e))}}function t_(t,e,n){const r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");const i=G0(t.pendingWriteTree_,e);return J0(r,n,i,null)}function W5(t){return t.fold((e,n,r)=>{if(n&&Ji(n))return[jf(n)];{let i=[];return n&&(i=Mx(n)),In(r,(s,o)=>{i=i.concat(o)}),i}})}function eu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(M5())(t._repo,t._path):t}function H5(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Wf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function q5(){return L5++}function K5(t,e,n){const r=e._path,i=qh(t,e),s=jx(t,n),o=t.listenProvider_.startListening(eu(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)U(!Ji(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!ce(u)&&c&&Ji(c))return[jf(c).query];{let h=[];return c&&(h=h.concat(Mx(c).map(f=>f.query))),In(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(eu(c),qh(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new n_(n)}node(){return this.node_}}class r_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=wt(this.path_,e);return new r_(this.syncTree_,n)}node(){return Bx(this.syncTree_,this.path_)}}const G5=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pE=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Q5(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Y5(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Q5=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},Y5=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);const i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},X5=function(t,e,n,r){return i_(e,new r_(n,t),r)},J5=function(t,e,n){return i_(t,new n_(e),n)};function i_(t,e,n){const r=t.getPriority().val(),i=pE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=pE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new bt(a,Jt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new bt(i))),o.forEachChild(at,(a,l)=>{const u=i_(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function o_(t,e){let n=e instanceof Me?e:new Me(e),r=t,i=ue(n);for(;i!==null;){const s=ba(r.node.children,i)||{children:{},childCount:0};r=new s_(i,r,s),n=Fe(n),i=ue(n)}return r}function Ya(t){return t.node.value}function Vx(t,e){t.node.value=e,Ny(t)}function Wx(t){return t.node.childCount>0}function Z5(t){return Ya(t)===void 0&&!Wx(t)}function Hf(t,e){In(t.node.children,(n,r)=>{e(new s_(n,t,r))})}function Hx(t,e,n,r){n&&!r&&e(t),Hf(t,i=>{Hx(i,e,!0,r)}),n&&r&&e(t)}function eB(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sc(t){return new Me(t.parent===null?t.name:Sc(t.parent)+"/"+t.name)}function Ny(t){t.parent!==null&&tB(t.parent,t.name,t)}function tB(t,e,n){const r=Z5(n),i=_i(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ny(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ny(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=/[\[\].#$\/\u0000-\u001F\u007F]/,rB=/[\[\].#$\u0000-\u001F\u007F]/,Bm=10*1024*1024,qx=function(t){return typeof t=="string"&&t.length!==0&&!nB.test(t)},Kx=function(t){return typeof t=="string"&&t.length!==0&&!rB.test(t)},iB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kx(t)},Gx=function(t,e,n){const r=n instanceof Me?new w4(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ys(r));if(typeof e=="function")throw new Error(t+"contains a function "+ys(r)+" with contents = "+e.toString());if(Qk(e))throw new Error(t+"contains "+e.toString()+" "+ys(r));if(typeof e=="string"&&e.length>Bm/3&&Mf(e)>Bm)throw new Error(t+"contains a string greater than "+Bm+" utf8 bytes "+ys(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(In(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qx(o)))throw new Error(t+" contains an invalid key ("+o+") "+ys(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);S4(r,o),Gx(t,a,r),E4(r)}),i&&s)throw new Error(t+' contains ".value" child '+ys(r)+" in addition to actual children.")}},Qx=function(t,e,n,r){if(!Kx(n))throw new Error(sk(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},sB=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qx(t,e,n)},oB=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iB(n))throw new Error(sk(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yx(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!z0(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xx(t,e,n){Yx(t,n),Jx(t,r=>z0(r,e))}function uo(t,e,n){Yx(t,n),Jx(t,r=>ur(r,e)||ur(e,r))}function Jx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(lB(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lB(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yl&&Xt("event: "+n.toString()),vc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="repo_interrupt",cB=25;class dB{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bh(),this.transactionQueueTree_=new s_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hB(t,e,n){if(t.stats_=B0(t.repoInfo_),t.forceRestClient_||WF())t.server_=new Fh(t.repoInfo_,(r,i,s,o)=>{mE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ri(t.repoInfo_,e,(r,i,s,o)=>{mE(t,r,i,s,o)},r=>{gE(t,r)},r=>{pB(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=YF(t.repoInfo_,()=>new G4(t.stats_,t.server_)),t.infoData_=new V4,t.infoSyncTree_=new hE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Vf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),a_(t,"connected",!1),t.serverSyncTree_=new hE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);uo(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fB(t){const n=t.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Zx(t){return G5({timestamp:fB(t)})}function mE(t,e,n,r,i){t.dataUpdateCount++;const s=new Me(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xh(n,u=>Jt(u));o=V5(t.serverSyncTree_,s,l,i)}else{const l=Jt(n);o=j5(t.serverSyncTree_,s,l,i)}else if(r){const l=xh(n,u=>Jt(u));o=B5(t.serverSyncTree_,s,l)}else{const l=Jt(n);o=Vf(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=u_(t,s)),uo(t.eventQueue_,a,o)}function gE(t,e){a_(t,"connected",e),e===!1&&gB(t)}function pB(t,e){In(e,(n,r)=>{a_(t,n,r)})}function a_(t,e,n){const r=new Me("/.info/"+e),i=Jt(n);t.infoData_.updateSnapshot(r,i);const s=Vf(t.infoSyncTree_,r,i);uo(t.eventQueue_,r,s)}function mB(t){return t.nextWriteId_++}function gB(t){eR(t,"onDisconnectEvents");const e=Zx(t),n=Bh();Cy(t.onDisconnect_,Ie(),(i,s)=>{const o=X5(i,s,t.serverSyncTree_,e);Tx(n,i,o)});let r=[];Cy(n,Ie(),(i,s)=>{r=r.concat(Vf(t.serverSyncTree_,i,s));const o=SB(t,i);u_(t,o)}),t.onDisconnect_=Bh(),uo(t.eventQueue_,Ie(),r)}function yB(t,e,n){let r;ue(e._path)===".info"?r=fE(t.infoSyncTree_,e,n):r=fE(t.serverSyncTree_,e,n),Xx(t.eventQueue_,e._path,r)}function yE(t,e,n){let r;ue(e._path)===".info"?r=Ry(t.infoSyncTree_,e,n):r=Ry(t.serverSyncTree_,e,n),Xx(t.eventQueue_,e._path,r)}function vB(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uB)}function eR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xt(n,...e)}function tR(t,e,n){return Bx(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function l_(t,e=t.transactionQueueTree_){if(e||qf(t,e),Ya(e)){const n=rR(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&_B(t,Sc(e),n)}else Wx(e)&&Hf(e,n=>{l_(t,n)})}function _B(t,e,n){const r=n.map(u=>u.currentWriteId),i=tR(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];U(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Sn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{eR(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Qo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();qf(t,o_(t.transactionQueueTree_,e)),l_(t,t.transactionQueueTree_),uo(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)vc(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$n("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}u_(t,e)}},o)}function u_(t,e){const n=nR(t,e),r=Sc(n),i=rR(t,n);return wB(t,i,r),r}function wB(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Sn(n,l.path);let c=!1,d;if(U(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Qo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=cB)c=!0,d="maxretry",i=i.concat(Qo(t.serverSyncTree_,l.currentWriteId,!0));else{const h=tR(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){Gx("transaction failed: Data returned ",f,l.path);let p=Jt(f);typeof f=="object"&&f!=null&&_i(f,".priority")||(p=p.updatePriority(h.getPriority()));const S=l.currentWriteId,g=Zx(t),y=J5(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=mB(t),o.splice(o.indexOf(S),1),i=i.concat(F5(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Qo(t.serverSyncTree_,S,!0))}else c=!0,d="nodata",i=i.concat(Qo(t.serverSyncTree_,l.currentWriteId,!0))}uo(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}qf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vc(r[a]);l_(t,t.transactionQueueTree_)}function nR(t,e){let n,r=t.transactionQueueTree_;for(n=ue(e);n!==null&&Ya(r)===void 0;)r=o_(r,n),e=Fe(e),n=ue(e);return r}function rR(t,e){const n=[];return iR(t,e,n),n.sort((r,i)=>r.order-i.order),n}function iR(t,e,n){const r=Ya(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hf(e,i=>{iR(t,i,n)})}function qf(t,e){const n=Ya(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Vx(e,n.length>0?n:void 0)}Hf(e,r=>{qf(t,r)})}function SB(t,e){const n=Sc(nR(t,e)),r=o_(t.transactionQueueTree_,e);return eB(r,i=>{Um(t,i)}),Um(t,r),Hx(r,i=>{Um(t,i)}),n}function Um(t,e){const n=Ya(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Vx(e,void 0):n.length=s+1,uo(t.eventQueue_,Sc(e),i);for(let o=0;o<r.length;o++)vc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function CB(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$n(`Invalid query segment '${n}' in query '${t}'`)}return e}const vE=function(t,e){const n=bB(t),r=n.namespace;n.domain==="firebase.com"&&Ks(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DF();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KF(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Me(n.pathString)}},bB=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=EB(t.substring(c,d)));const h=CB(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())}}class oR{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:mx(this._path)}get ref(){return new Si(this._repo,this._path)}get _queryIdentifier(){const e=tE(this._queryParams),n=L0(e);return n==="{}"?"default":n}get _queryObject(){return tE(this._queryParams)}isEqual(e){if(e=Wt(e),!(e instanceof c_))return!1;const n=this._repo===e._repo,r=z0(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_4(this._path)}}class Si extends c_{constructor(e,n){super(e,n,new H0,!1)}get parent(){const e=yx(this._path);return e===null?null:new Si(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Lu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Me(e),r=Ay(this.ref,e);return new Lu(this._node.getChild(n),r,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Lu(i,Ay(this.ref,r),at)))}hasChild(e){const n=new Me(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ay(t,e){return t=Wt(t),ue(t._path)===null?sB("child","path",e):Qx("child","path",e),new Si(t._repo,wt(t._path,e))}class d_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new sR("value",this,new Lu(e.snapshotNode,new Si(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oR(this,e,n):null}matches(e){return e instanceof d_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class h_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new oR(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const r=Ay(new Si(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new sR(e.type,this,new Lu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof h_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ec(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{yE(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new TB(n,s||void 0),a=e==="value"?new d_(o):new h_(e,o);return yB(t._repo,t,a),()=>yE(t._repo,t,a)}function IB(t,e,n,r){return Ec(t,"value",e,n,r)}function kB(t,e,n,r){return Ec(t,"child_added",e,n,r)}function xB(t,e,n,r){return Ec(t,"child_changed",e,n,r)}function RB(t,e,n,r){return Ec(t,"child_moved",e,n,r)}function NB(t,e,n,r){return Ec(t,"child_removed",e,n,r)}R5(Si);D5(Si);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="FIREBASE_DATABASE_EMULATOR_HOST",Py={};let PB=!1;function OB(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vE(s,i),a=o.repoInfo,l;typeof process<"u"&&LS&&(l=LS[AB]),l?(s=`http://${l}?ns=${a.namespace}`,o=vE(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new qF(t.name,t.options,e);oB("Invalid Firebase Database URL",o),ce(o.path)||Ks("Database URL must point to the root of a Firebase Database (not including a child path).");const c=DB(a,t,u,new HF(t.name,n));return new MB(c,t)}function $B(t,e){const n=Py[e];(!n||n[t.key]!==t)&&Ks(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vB(t),delete n[t.key]}function DB(t,e,n,r){let i=Py[e.name];i||(i={},Py[e.name]=i);let s=i[t.toURLString()];return s&&Ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dB(t,PB,n,r),i[t.toURLString()]=s,s}class MB{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Si(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&($B(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ks("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){RF(wi),tr(new Ln("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return OB(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gt(FS,BS,t),gt(FS,BS,"esm2017")}ri.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ri.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};LB();var FB="firebase",BB="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt(FB,BB,"app");var UB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,f_=f_||{},ne=UB||self;function Kf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zB(t){return Object.prototype.hasOwnProperty.call(t,zm)&&t[zm]||(t[zm]=++jB)}var zm="closure_uid_"+(1e9*Math.random()>>>0),jB=0;function VB(t,e,n){return t.call.apply(t.bind,arguments)}function WB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=VB:Zt=WB,Zt.apply(null,arguments)}function cd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function as(){this.s=this.s,this.o=this.o}var HB=0;as.prototype.s=!1;as.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),HB!=0)&&zB(this)};as.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function p_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _E(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Kf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var qB=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Fu(t){return/^[\s\xa0]*$/.test(t)}function Qf(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Rr(t){return Qf().indexOf(t)!=-1}function m_(t){return m_[" "](t),t}m_[" "]=function(){};function KB(t,e){var n=UU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var GB=Rr("Opera"),Ra=Rr("Trident")||Rr("MSIE"),lR=Rr("Edge"),Oy=lR||Ra,uR=Rr("Gecko")&&!(Qf().toLowerCase().indexOf("webkit")!=-1&&!Rr("Edge"))&&!(Rr("Trident")||Rr("MSIE"))&&!Rr("Edge"),QB=Qf().toLowerCase().indexOf("webkit")!=-1&&!Rr("Edge");function cR(){var t=ne.document;return t?t.documentMode:void 0}var $y;e:{var jm="",Vm=function(){var t=Qf();if(uR)return/rv:([^\);]+)(\)|;)/.exec(t);if(lR)return/Edge\/([\d\.]+)/.exec(t);if(Ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QB)return/WebKit\/(\S+)/.exec(t);if(GB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Vm&&(jm=Vm?Vm[1]:""),Ra){var Wm=cR();if(Wm!=null&&Wm>parseFloat(jm)){$y=String(Wm);break e}}$y=jm}var Dy;if(ne.document&&Ra){var wE=cR();Dy=wE||parseInt($y,10)||void 0}else Dy=void 0;var YB=Dy;function Bu(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uR){e:{try{m_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:XB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bu.$.h.call(this)}}Ot(Bu,en);var XB={2:"touch",3:"pen",4:"mouse"};Bu.prototype.h=function(){Bu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),JB=0;function ZB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++JB,this.fa=this.ia=!1}function Xf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function g_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function eU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dR(t){const e={};for(const n in t)e[n]=t[n];return e}const SE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<SE.length;s++)n=SE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jf(t){this.src=t,this.g={},this.h=0}Jf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ly(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ZB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function My(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ly(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var y_="closure_lm_"+(1e6*Math.random()|0),Hm={};function fR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fR(t,e[s],n,r,i);return null}return n=gR(n),t&&t[Yf]?t.O(e,n,Gf(r)?!!r.capture:!!r,i):tU(t,e,n,!1,r,i)}function tU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gf(i)?!!i.capture:!!i,a=__(t);if(a||(t[y_]=a=new Jf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=nU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nU(){function t(n){return e.call(t.src,t.listener,n)}const e=rU;return t}function pR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pR(t,e[s],n,r,i);else r=Gf(r)?!!r.capture:!!r,n=gR(n),t&&t[Yf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ly(s,n,r,i),-1<n&&(Xf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=__(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ly(e,n,r,i)),(n=-1<t?e[t]:null)&&v_(n))}function v_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yf])My(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=__(e))?(My(n,t),n.h==0&&(n.src=null,e[y_]=null)):Xf(t)}}}function mR(t){return t in Hm?Hm[t]:Hm[t]="on"+t}function rU(t,e){if(t.fa)t=!0;else{e=new Bu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&v_(t),t=n.call(r,e)}return t}function __(t){return t=t[y_],t instanceof Jf?t:null}var qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function gR(t){return typeof t=="function"?t:(t[qm]||(t[qm]=function(e){return t.handleEvent(e)}),t[qm])}function Pt(){as.call(this),this.i=new Jf(this),this.S=this,this.J=null}Ot(Pt,as);Pt.prototype[Yf]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){pR(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var i=e;e=new en(r,t),hR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=dd(o,r,!0,e)&&i}if(o=e.g=t,i=dd(o,r,!0,e)&&i,i=dd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=dd(o,r,!1,e)&&i}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xf(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function dd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&My(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var w_=ne.JSON.stringify;class iU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function sU(){var t=S_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oU{constructor(){this.h=this.g=null}add(e,n){const r=yR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yR=new iU(()=>new aU,t=>t.reset());class aU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function uU(t){ne.setTimeout(()=>{throw t},0)}let Uu,zu=!1,S_=new oU,vR=()=>{const t=ne.Promise.resolve(void 0);Uu=()=>{t.then(cU)}};var cU=()=>{for(var t;t=sU();){try{t.h.call(t.g)}catch(n){uU(n)}var e=yR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zu=!1};function Zf(t,e){Pt.call(this),this.h=t||1,this.g=e||ne,this.j=Zt(this.qb,this),this.l=Date.now()}Ot(Zf,Pt);j=Zf.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(E_(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function E_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Zf.$.N.call(this),E_(this),delete this.g};function C_(t,e,n){if(typeof t=="function")n&&(t=Zt(t,n));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function _R(t){t.g=C_(()=>{t.g=null,t.i&&(t.i=!1,_R(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class dU extends as{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_R(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(t){as.call(this),this.h=t,this.g={}}Ot(ju,as);var EE=[];function wR(t,e,n,r){Array.isArray(n)||(n&&(EE[0]=n.toString()),n=EE);for(var i=0;i<n.length;i++){var s=fR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SR(t){g_(t.g,function(e,n){this.g.hasOwnProperty(n)&&v_(e)},t),t.g={}}ju.prototype.N=function(){ju.$.N.call(this),SR(this)};ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ep(){this.g=!0}ep.prototype.Ea=function(){this.g=!1};function hU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+mU(t,n)+(r?" "+r:"")})}function pU(t,e){t.info(function(){return"TIMEOUT: "+e})}ep.prototype.info=function(){};function mU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return w_(n)}catch{return e}}var co={},CE=null;function tp(){return CE=CE||new Pt}co.Ta="serverreachability";function ER(t){en.call(this,co.Ta,t)}Ot(ER,en);function Vu(t){const e=tp();jt(e,new ER(e))}co.STAT_EVENT="statevent";function CR(t,e){en.call(this,co.STAT_EVENT,t),this.stat=e}Ot(CR,en);function cn(t){const e=tp();jt(e,new CR(e,t))}co.Ua="timingevent";function bR(t,e){en.call(this,co.Ua,t),this.size=e}Ot(bR,en);function Cc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}var np={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function b_(){}b_.prototype.h=null;function bE(t){return t.h||(t.h=t.i())}function IR(){}var bc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function T_(){en.call(this,"d")}Ot(T_,en);function I_(){en.call(this,"c")}Ot(I_,en);var Fy;function rp(){}Ot(rp,b_);rp.prototype.g=function(){return new XMLHttpRequest};rp.prototype.i=function(){return{}};Fy=new rp;function Tc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ju(this),this.P=gU,t=Oy?125:void 0,this.V=new Zf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kR}function kR(){this.i=null,this.g="",this.h=!1}var gU=45e3,By={},Kh={};j=Tc.prototype;j.setTimeout=function(t){this.P=t};function Uy(t,e,n){t.L=1,t.v=sp(ci(e)),t.s=n,t.S=!0,xR(t,null)}function xR(t,e){t.G=Date.now(),Ic(t),t.A=ci(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new kR,t.g=rN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new dU(Zt(t.Pa,t,t.g),t.O)),wR(t.U,t.g,"readystatechange",t.nb),e=t.I?dR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vu(),hU(t.j,t.u,t.A,t.m,t.W,t.s)}j.nb=function(t){t=t.target;const e=this.M;e&&Pr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=Pr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Oy||this.g&&(this.h.h||this.g.ja()||xE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Vu(3):Vu(2)),ip(this);var n=this.g.da();this.ca=n;t:if(RR(this)){var r=xE(this.g);t="";var i=r.length,s=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),tu(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fU(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fu(a)){var u=a;break t}}u=null}if(n=u)Yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zy(this,n);else{this.i=!1,this.o=3,cn(12),xs(this),tu(this);break e}}this.S?(NR(this,c,o),Oy&&this.i&&c==3&&(wR(this.U,this.V,"tick",this.mb),this.V.start())):(Yo(this.j,this.m,o,null),zy(this,o)),c==4&&xs(this),this.i&&!this.J&&(c==4?ZR(this.l,this):(this.i=!1,Ic(this)))}else LU(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),xs(this),tu(this)}}}catch{}finally{}};function RR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function NR(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=yU(t,n),i==Kh){e==4&&(t.o=4,cn(14),r=!1),Yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==By){t.o=4,cn(15),Yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yo(t.j,t.m,i,null),zy(t,i);RR(t)&&i!=Kh&&i!=By&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),P_(e),e.M=!0,cn(11))):(Yo(t.j,t.m,n,"[Invalid Chunked Response]"),xs(t),tu(t))}j.mb=function(){if(this.g){var t=Pr(this.g),e=this.g.ja();this.C<e.length&&(ip(this),NR(this,t,e),this.i&&t!=4&&Ic(this))}};function yU(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Kh:(n=Number(e.substring(n,r)),isNaN(n)?By:(r+=1,r+n>e.length?Kh:(e=e.slice(r,r+n),t.C=r+n,e)))}j.cancel=function(){this.J=!0,xs(this)};function Ic(t){t.Y=Date.now()+t.P,AR(t,t.P)}function AR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Cc(Zt(t.lb,t),e)}function ip(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}j.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(pU(this.j,this.A),this.L!=2&&(Vu(),cn(17)),xs(this),this.o=2,tu(this)):AR(this,this.Y-t)};function tu(t){t.l.H==0||t.J||ZR(t.l,t)}function xs(t){ip(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,E_(t.V),SR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||jy(n.i,t))){if(!t.K&&jy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yh(n),lp(n);else break e;A_(n),cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Cc(Zt(n.ib,n),6e3));if(1>=BR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rs(n,11)}else if((t.K||n.g==t)&&Yh(n),!Fu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(k_(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,We(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nN(r,r.J?r.pa:null,r.Y),o.K){UR(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(ip(a),Ic(a)),r.g=o}else XR(r);0<n.j.length&&up(n)}else u[0]!="stop"&&u[0]!="close"||Rs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Rs(n,7):N_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Vu(4)}catch{}}function vU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Kf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _U(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Kf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Kf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_U(t),r=vU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var OR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ls(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ls){this.h=t.h,Gh(this,t.j),this.s=t.s,this.g=t.g,Qh(this,t.m),this.l=t.l;var e=t.i,n=new Wu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),TE(this,n),this.o=t.o}else t&&(e=String(t).match(OR))?(this.h=!1,Gh(this,e[1]||"",!0),this.s=Al(e[2]||""),this.g=Al(e[3]||"",!0),Qh(this,e[4]),this.l=Al(e[5]||"",!0),TE(this,e[6]||"",!0),this.o=Al(e[7]||"")):(this.h=!1,this.i=new Wu(null,this.h))}Ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pl(e,IE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pl(e,IE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pl(n,n.charAt(0)=="/"?CU:EU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pl(n,TU)),t.join("")};function ci(t){return new Ls(t)}function Gh(t,e,n){t.j=n?Al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TE(t,e,n){e instanceof Wu?(t.i=e,IU(t.i,t.h)):(n||(e=Pl(e,bU)),t.i=new Wu(e,t.h))}function We(t,e,n){t.i.set(e,n)}function sp(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var IE=/[#\/\?@]/g,EU=/[#\?:]/g,CU=/[#\?]/g,bU=/[#\?@]/g,TU=/#/g;function Wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ls(t){t.g||(t.g=new Map,t.h=0,t.i&&wU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Wu.prototype;j.add=function(t,e){ls(this),this.i=null,t=Xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $R(t,e){ls(t),e=Xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DR(t,e){return ls(t),e=Xa(t,e),t.g.has(e)}j.forEach=function(t,e){ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){ls(this);let e=[];if(typeof t=="string")DR(this,t)&&(e=e.concat(this.g.get(Xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return ls(this),this.i=null,t=Xa(this,t),DR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function MR(t,e,n){$R(t,e),0<n.length&&(t.i=null,t.g.set(Xa(t,e),p_(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IU(t,e){e&&!t.j&&(ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($R(this,r),MR(this,i,n))},t)),t.j=e}var kU=class{constructor(t,e){this.g=t,this.map=e}};function LR(t){this.l=t||xU,ne.PerformanceNavigationTiming?(t=ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xU=10;function FR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BR(t){return t.h?1:t.g?t.g.size:0}function jy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function k_(t,e){t.g?t.g.add(e):t.h=e}function UR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}LR.prototype.cancel=function(){if(this.i=zR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return p_(t.i)}var RU=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function NU(){this.g=new RU}function AU(t,e,n){const r=n||"";try{PR(t,function(i,s){let o=i;Gf(i)&&(o=w_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function PU(t,e){const n=new ep;if(ne.Image){const r=new Image;r.onload=cd(hd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cd(hd,n,r,"TestLoadImage: error",!1,e),r.onabort=cd(hd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cd(hd,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kc(t){this.l=t.fc||null,this.j=t.ob||!1}Ot(kc,b_);kc.prototype.g=function(){return new op(this.l,this.j)};kc.prototype.i=function(t){return function(){return t}}({});function op(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=x_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(op,Pt);var x_=0;j=op.prototype;j.open=function(t,e){if(this.readyState!=x_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hu(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=x_};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hu(this)),this.g&&(this.readyState=3,Hu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xc(this):Hu(this),this.readyState==3&&jR(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,xc(this))};j.Ya=function(t){this.g&&(this.response=t,xc(this))};j.ka=function(){this.g&&xc(this)};function xc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hu(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Hu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(op.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var OU=ne.JSON.parse;function lt(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VR,this.L=this.M=!1}Ot(lt,Pt);var VR="",$U=/^https?$/i,DU=["POST","PUT"];j=lt.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fy.g(),this.C=this.u?bE(this.u):bE(Fy),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){kE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ne.FormData&&t instanceof ne.FormData,!(0<=aR(DU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qR(this),0<this.B&&((this.L=MU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=C_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){kE(this,s)}};function MU(t){return Ra&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof f_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function kE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WR(t),ap(t)}function WR(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),ap(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ap(this,!0)),lt.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?HR(this):this.kb())};j.kb=function(){HR(this)};function HR(t){if(t.h&&typeof f_<"u"&&(!t.C[1]||Pr(t)!=4||t.da()!=2)){if(t.v&&Pr(t)==4)C_(t.La,0,t);else if(jt(t,"readystatechange"),Pr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(OR)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!$U.test(i?i.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var s=2<Pr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",WR(t)}}finally{ap(t)}}}}function ap(t,e){if(t.g){qR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function qR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Pr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),OU(e)}};function xE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function LU(t){const e={};t=(t.g&&2<=Pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fu(t[r]))continue;var n=lU(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}eU(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function KR(t){let e="";return g_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function R_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GR(t){this.Ga=0,this.j=[],this.l=new ep,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,t),this.hb=wl("retryDelaySeedMs",1e4,t),this.eb=wl("forwardChannelMaxRetries",2,t),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new LR(t&&t.concurrentRequestLimit),this.Ja=new NU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=GR.prototype;j.ra=8;j.H=1;function N_(t){if(QR(t),t.H==3){var e=t.W++,n=ci(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Rc(t,n),e=new Tc(t,t.l,e),e.L=2,e.v=sp(ci(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=rN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ic(e)}tN(t)}function lp(t){t.g&&(P_(t),t.g.cancel(),t.g=null)}function QR(t){lp(t),t.u&&(ne.clearTimeout(t.u),t.u=null),Yh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ne.clearTimeout(t.m),t.m=null)}function up(t){if(!FR(t.i)&&!t.m){t.m=!0;var e=t.Na;Uu||vR(),zu||(Uu(),zu=!0),S_.add(e,t),t.C=0}}function FU(t,e){return BR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Cc(Zt(t.Na,t,e),eN(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Tc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=dR(s),hR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YR(this,i,e),n=ci(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Rc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(KR(s)))+"&"+e:this.o&&R_(n,this.o,s)),k_(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,Uy(i,n,null)):Uy(i,n,e),this.H=2}}else this.H==3&&(t?RE(this,t):this.j.length==0||FR(this.i)||RE(this))};function RE(t,e){var n;e?n=e.m:n=t.W++;const r=ci(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),Rc(t,r),t.o&&t.s&&R_(r,t.o,t.s),n=new Tc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),k_(t.i,n),Uy(n,r,e)}function Rc(t,e){t.na&&g_(t.na,function(n,r){We(e,r,n)}),t.h&&PR({},function(n,r){We(e,r,n)})}function YR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{AU(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Uu||vR(),zu||(Uu(),zu=!0),S_.add(e,t),t.A=0}}function A_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Cc(Zt(t.Ma,t),eN(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,JR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Cc(Zt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cn(10),lp(this),JR(this))};function P_(t){t.B!=null&&(ne.clearTimeout(t.B),t.B=null)}function JR(t){t.g=new Tc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ci(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Rc(t,e),t.o&&t.s&&R_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=sp(ci(e)),n.s=null,n.S=!0,xR(n,t)}j.ib=function(){this.v!=null&&(this.v=null,lp(this),A_(this),cn(19))};function Yh(t){t.v!=null&&(ne.clearTimeout(t.v),t.v=null)}function ZR(t,e){var n=null;if(t.g==e){Yh(t),P_(t),t.g=null;var r=2}else if(jy(t.i,e))n=e.F,UR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=tp(),jt(r,new bR(r,n)),up(t)}else XR(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&FU(t,e)||r==2&&A_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Rs(t,5);break;case 4:Rs(t,10);break;case 3:Rs(t,6);break;default:Rs(t,2)}}}function eN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Zt(t.pb,t);n||(n=new Ls("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||Gh(n,"https"),sp(n)),PU(n.toString(),r)}else cn(2);t.H=0,t.h&&t.h.za(e),tN(t),QR(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),cn(2)):(this.l.info("Failed to ping google.com"),cn(1))};function tN(t){if(t.H=0,t.ma=[],t.h){const e=zR(t.i);(e.length!=0||t.j.length!=0)&&(_E(t.ma,e),_E(t.ma,t.j),t.i.i.length=0,p_(t.j),t.j.length=0),t.h.ya()}}function nN(t,e,n){var r=n instanceof Ls?ci(n):new Ls(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qh(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ls(null);r&&Gh(s,r),e&&(s.g=e),i&&Qh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),Rc(t,r),r}function rN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new lt(new kc({ob:!0})):new lt(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function iN(){}j=iN.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Xh(){if(Ra&&!(10<=Number(YB)))throw Error("Environmental error: no available transport.")}Xh.prototype.g=function(t,e){return new Fn(t,e)};function Fn(t,e){Pt.call(this),this.g=new GR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ja(this)}Ot(Fn,Pt);Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nN(t,null,t.Y),up(t)};Fn.prototype.close=function(){N_(this.g)};Fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=w_(t),t=n);e.j.push(new kU(e.fb++,t)),e.H==3&&up(e)};Fn.prototype.N=function(){this.g.h=null,delete this.j,N_(this.g),delete this.g,Fn.$.N.call(this)};function sN(t){T_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ot(sN,T_);function oN(){I_.call(this),this.status=1}Ot(oN,I_);function Ja(t){this.g=t}Ot(Ja,iN);Ja.prototype.Ba=function(){jt(this.g,"a")};Ja.prototype.Aa=function(t){jt(this.g,new sN(t))};Ja.prototype.za=function(t){jt(this.g,new oN)};Ja.prototype.ya=function(){jt(this.g,"b")};function BU(){this.blockSize=-1}function yr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ot(yr,BU);yr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Km(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}yr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Km(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Km(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Km(this,r),i=0;break}}this.h=i,this.i+=e};yr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var UU={};function O_(t){return-128<=t&&128>t?KB(t,function(e){return new Re([e|0],0>e?-1:0)}):new Re([t|0],0>t?-1:0)}function Or(t){if(isNaN(t)||!isFinite(t))return la;if(0>t)return Bt(Or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Vy;return new Re(e,0)}function aN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bt(aN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Or(Math.pow(e,8)),r=la,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Or(Math.pow(e,s)),r=r.R(s).add(Or(o))):(r=r.R(n),r=r.add(Or(o)))}return r}var Vy=4294967296,la=O_(0),Wy=O_(1),NE=O_(16777216);j=Re.prototype;j.ea=function(){if(Kn(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Vy+r)*e,e*=Vy}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ti(this))return"0";if(Kn(this))return"-"+Bt(this).toString(t);for(var e=Or(Math.pow(t,6)),n=this,r="";;){var i=Zh(n,e).g;n=Jh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ti(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kn(t){return t.h==-1}j.X=function(t){return t=Jh(this,t),Kn(t)?-1:ti(t)?0:1};function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Re(n,~t.h).add(Wy)}j.abs=function(){return Kn(this)?Bt(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function Jh(t,e){return t.add(Bt(e))}j.R=function(t){if(ti(this)||ti(t))return la;if(Kn(this))return Kn(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if(Kn(t))return Bt(this.R(Bt(t)));if(0>this.X(NE)&&0>t.X(NE))return Or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,fd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,fd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,fd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,fd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Re(n,0)};function fd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sl(t,e){this.g=t,this.h=e}function Zh(t,e){if(ti(e))throw Error("division by zero");if(ti(t))return new Sl(la,la);if(Kn(t))return e=Zh(Bt(t),e),new Sl(Bt(e.g),Bt(e.h));if(Kn(e))return e=Zh(t,Bt(e)),new Sl(Bt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wy,r=e;0>=r.X(t);)n=AE(n),r=AE(r);var i=bo(n,1),s=bo(r,1);for(r=bo(r,2),n=bo(n,2);!ti(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=bo(r,1),n=bo(n,1)}return e=Jh(t,i.R(e)),new Sl(i,e)}for(i=la;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Or(n),o=s.R(e);Kn(o)||0<o.X(t);)n-=r,s=Or(n),o=s.R(e);ti(s)&&(s=Wy),i=i.add(s),t=Jh(t,o)}return new Sl(i,t)}j.gb=function(t){return Zh(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Re(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Re(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Re(n,this.h^t.h)};function AE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Re(n,t.h)}function bo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Re(i,t.h)}Xh.prototype.createWebChannel=Xh.prototype.g;Fn.prototype.send=Fn.prototype.u;Fn.prototype.open=Fn.prototype.m;Fn.prototype.close=Fn.prototype.close;np.NO_ERROR=0;np.TIMEOUT=8;np.HTTP_ERROR=6;TR.COMPLETE="complete";IR.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;yr.prototype.digest=yr.prototype.l;yr.prototype.reset=yr.prototype.reset;yr.prototype.update=yr.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=Or;Re.fromString=aN;var zU=function(){return new Xh},jU=function(){return tp()},Gm=np,VU=TR,WU=co,PE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},HU=kc,pd=IR,qU=lt,KU=yr,ua=Re;const OE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new uc("@firebase/firestore");function $E(){return Js.logLevel}function H(t,...e){if(Js.logLevel<=_e.DEBUG){const n=e.map($_);Js.debug(`Firestore (${Za}): ${t}`,...n)}}function di(t,...e){if(Js.logLevel<=_e.ERROR){const n=e.map($_);Js.error(`Firestore (${Za}): ${t}`,...n)}}function Na(t,...e){if(Js.logLevel<=_e.WARN){const n=e.map($_);Js.warn(`Firestore (${Za}): ${t}`,...n)}}function $_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function qe(t,e){t||te()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let X=class extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class QU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let YU=class{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new lN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Qt(e)}},XU=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class JU{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new XU(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let ZU=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class e3{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.T=n.token,new ZU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uN=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=t3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class jd{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jd.fromMillis(Date.now())}static fromDate(e){return jd.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jd(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ae=class Vd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vd(e)}static min(){return new Vd(new hn(0,0))}static max(){return new Vd(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cN=class Hy{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hy.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hy?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Rt=class Wd extends cN{construct(e,n,r){return new Wd(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Wd(n)}static emptyPath(){return new Wd([])}};const n3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let zr=class Po extends cN{construct(e,n,r){return new Po(e,n,r)}static isValidIdentifier(e){return n3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Po.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Po(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Po(n)}static emptyPath(){return new Po([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Rt.fromString(e))}static fromName(e){return new Y(Rt.fromString(e).popFirst(5))}static empty(){return new Y(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Rt(e.slice()))}}function r3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new Zi(i,Y.empty(),e)}function i3(t){return new Zi(t.readTime,t.key,-1)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(ae.min(),Y.empty(),-1)}static max(){return new Zi(ae.max(),Y.empty(),-1)}}function s3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==o3)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}D_.ct=-1;function cp(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function l3(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class qy{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new qy(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new qy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}},md=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}let ME=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new dr([])}unionWith(e){let n=new tn(zr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hN=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hN("Invalid base64 string: "+i):i}}(e);return new on(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(qe(!!t),typeof t=="string"){let e=0;const n=u3.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L_(t){const e=t.mapValue.fields.__previous_value__;return M_(e)?L_(e):e}function qu(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M_(t)?4:d3(t)?9007199254740991:10:te()}function jr(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=es(r.timestampValue),o=es(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Zs(r.bytesValue).isEqual(Zs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ft(r.doubleValue),o=ft(i.doubleValue);return s===o?ef(s)===ef(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(DE(s)!==DE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!jr(s[a],o[a])))return!1;return!0}(t,e);default:return te()}}function Gu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function Pa(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ft(i.integerValue||i.doubleValue),a=ft(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE(qu(t),qu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Zs(i),a=Zs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Te(o[l],a[l]);if(u!==0)return u}return Te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Te(ft(i.latitude),ft(s.latitude));return o!==0?o:Te(ft(i.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Pa(o[l],a[l]);if(u)return u}return Te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===gd.mapValue&&s===gd.mapValue)return 0;if(i===gd.mapValue)return 1;if(s===gd.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Te(a[c],u[c]);if(d!==0)return d;const h=Pa(o[a[c]],l[u[c]]);if(h!==0)return h}return Te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw te()}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=es(t),r=es(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Oa(t){return Ky(t)}function Ky(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=es(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Y.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ky(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ky(r.fields[a])}`;return s+"}"}(t.mapValue):te();var e,n}function Gy(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function FE(t){return!!t&&"nullValue"in t}function BE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr=class Qy{constructor(e){this.value=e}static empty(){return new Qy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=zr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ho(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qy(nu(this.value))}};function fN(t){const e=[];return ho(t.fields,(n,r)=>{const i=new zr([n]);if(Hd(r)){const s=fN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi=class vs{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vs(e,0,ae.min(),ae.min(),ae.min(),Nr.empty(),0)}static newFoundDocument(e,n,r,i){return new vs(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new vs(e,2,n,ae.min(),ae.min(),Nr.empty(),0)}static newUnknownDocument(e,n){return new vs(e,3,n,ae.min(),ae.min(),Nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=class{constructor(e,n){this.position=e,this.inclusive=n}};function UE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Pa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function h3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pN=class{},Ut=class mN extends pN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p3(e,n,r):n==="array-contains"?new y3(e,r):n==="in"?new v3(e,r):n==="not-in"?new _3(e,r):n==="array-contains-any"?new w3(e,r):new mN(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m3(e,r):new g3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pa(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},ts=class gN extends pN{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new gN(e,n)}matches(e){return yN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function yN(t){return t.op==="and"}function vN(t){return f3(t)&&yN(t)}function f3(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function Yy(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(vN(t))return t.filters.map(e=>Yy(e)).join(",");{const e=t.filters.map(n=>Yy(n)).join(",");return`${t.op}(${e})`}}function _N(t,e){return t instanceof Ut?function(n,r){return r instanceof Ut&&n.op===r.op&&n.field.isEqual(r.field)&&jr(n.value,r.value)}(t,e):t instanceof ts?function(n,r){return r instanceof ts&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&_N(s,r.filters[o]),!0):!1}(t,e):void te()}function wN(t){return t instanceof Ut?function(e){return`${e.field.canonicalString()} ${e.op} ${Oa(e.value)}`}(t):t instanceof ts?function(e){return e.op.toString()+" {"+e.getFilters().map(wN).join(" ,")+"}"}(t):"Filter"}let p3=class extends Ut{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},m3=class extends Ut{constructor(e,n){super(e,"in",n),this.keys=SN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}};class g3 extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=SN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class y3 extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F_(n)&&Gu(n.arrayValue,this.value)}}let v3=class extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}},_3=class extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gu(this.value.arrayValue,n)}};class w3 extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S3=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function jE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S3(t,e,n,r,i,s,o)}function B_(t){const e=se(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.dt=n}return e.dt}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_N(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function Xy(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function E3(t,e,n,r,i,s,o,a){return new dp(t,e,n,r,i,s,o,a)}function z_(t){return new dp(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C3(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function b3(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function T3(t){return t.collectionGroup!==null}function ca(t){const e=se(t);if(e.wt===null){e.wt=[];const n=b3(e),r=C3(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ru(n)),e.wt.push(new ru(zr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ru(zr.keyField(),s))}}}return e.wt}function fi(t){const e=se(t);if(!e._t)if(e.limitType==="F")e._t=jE(e.path,e.collectionGroup,ca(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ca(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ru(s.field,o))}const r=e.endAt?new tf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tf(e.startAt.position,e.startAt.inclusive):null;e._t=jE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Jy(t,e,n){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hp(t,e){return U_(fi(t),fi(e))&&t.limitType===e.limitType}function EN(t){return`${B_(fi(t))}|lt:${t.limitType}`}function Zy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>wN(r)).join(", ")}]`),cp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),`Target(${n})`}(fi(t))}; limitType=${t.limitType})`}function fp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Y.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ca(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=UE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ca(n),r)||n.endAt&&!function(i,s,o){const a=UE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ca(n),r))}(t,e)}function I3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CN(t){return(e,n)=>{let r=!1;for(const i of ca(t)){const s=k3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Pa(a,l):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new yt(Y.comparator);function pi(){return x3}const bN=new yt(Y.comparator);function Ol(...t){let e=bN;for(const n of t)e=e.insert(n.key,n);return e}function TN(t){let e=bN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return iu()}function IN(){return iu()}function iu(){return new el(t=>t.toString(),(t,e)=>t.isEqual(e))}const R3=new yt(Y.comparator),N3=new tn(Y.comparator);function fe(...t){let e=N3;for(const n of t)e=e.add(n);return e}const A3=new tn(Te);function P3(){return A3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function xN(t){return{integerValue:""+t}}function O3(t,e){return l3(e)?xN(e):kN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this._=void 0}}function $3(t,e,n){return t instanceof nf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&M_(i)&&(i=L_(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qu?NN(t,e):t instanceof Yu?AN(t,e):function(r,i){const s=RN(r,i),o=WE(s)+WE(r.gt);return Gy(s)&&Gy(r.gt)?xN(o):kN(r.serializer,o)}(t,e)}function D3(t,e,n){return t instanceof Qu?NN(t,e):t instanceof Yu?AN(t,e):n}function RN(t,e){return t instanceof rf?Gy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class nf extends pp{}class Qu extends pp{constructor(e){super(),this.elements=e}}function NN(t,e){const n=PN(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends pp{constructor(e){super(),this.elements=e}}function AN(t,e){let n=PN(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class rf extends pp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function WE(t){return ft(t.integerValue||t.doubleValue)}function PN(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Qu&&r instanceof Qu||n instanceof Yu&&r instanceof Yu?Aa(n.elements,r.elements,jr):n instanceof rf&&r instanceof rf?jr(n.gt,r.gt):n instanceof nf&&r instanceof nf}(t.transform,e.transform)}class L3{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mp{}function ON(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DN(t.key,ii.none()):new gp(t.key,t.data,ii.none());{const n=t.data,r=Nr.empty();let i=new tn(zr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new dr(i.toArray()),ii.none())}}function F3(t,e,n){t instanceof gp?function(r,i,s){const o=r.value.clone(),a=qE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(r,i,s){if(!qd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=qE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll($N(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof gp?function(i,s,o,a){if(!qd(i.precondition,s))return o;const l=i.value.clone(),u=KE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(i,s,o,a){if(!qd(i.precondition,s))return o;const l=KE(i.fieldTransforms,a,s),u=s.data;return u.setAll($N(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return qd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function B3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RN(r.transform,i||null);s!=null&&(n===null&&(n=Nr.empty()),n.set(r.field,s))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Aa(n,r,(i,s)=>M3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gp extends mp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends mp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $N(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qE(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,D3(o,a,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$3(s,o,e))}return r}class DN extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U3 extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ON(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(n,r)=>HE(n,r))&&Aa(this.baseMutations,e.baseMutations,(n,r)=>HE(n,r))}}class j_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=R3;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new j_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,ve;function W3(t){switch(t){default:return te();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function MN(t){if(t===void 0)return di("GRPC error has no .code"),$.UNKNOWN;switch(t){case ht.OK:return $.OK;case ht.CANCELLED:return $.CANCELLED;case ht.UNKNOWN:return $.UNKNOWN;case ht.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ht.INTERNAL:return $.INTERNAL;case ht.UNAVAILABLE:return $.UNAVAILABLE;case ht.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ht.NOT_FOUND:return $.NOT_FOUND;case ht.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ht.ABORTED:return $.ABORTED;case ht.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ht.DATA_LOSS:return $.DATA_LOSS;default:return te()}}(ve=ht||(ht={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yd}static getOrCreateInstance(){return yd===null&&(yd=new V_),yd}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let yd=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new ua([4294967295,4294967295],0);function GE(t){const e=H3().encode(t),n=new KU;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ua([n,r],0),new ua([i,s],0)]}class W_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ua.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ua.fromNumber(r)));return i.compare(q3)===1&&(i=new ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=GE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new W_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=GE(e),[r,i]=QE(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yp(ae.min(),i,new yt(Te),pi(),fe())}}class Pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}let LN=class{constructor(e,n){this.targetId=e,this.Vt=n}};class FN{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.St=0,this.Dt=JE(),this.Ct=on.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),n=fe(),r=fe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Pc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=JE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class K3{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pi(),this.zt=XE(),this.Wt=new yt(Te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Xy(o))if(i===0){const a=new Y(o.path);this.Yt(r,a,hi.newNoDocument(a,ae.min()))}else qe(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=V_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,p,v,S,g;const y={localCacheCount:c,existenceFilterCount:d.count},m=d.unchangedNames;return m&&(y.bloomFilter={applied:u===0,hashCount:(h=m==null?void 0:m.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(v=(p=(f=m==null?void 0:m.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&v!==void 0?v:0,padding:(g=(S=m==null?void 0:m.bits)===null||S===void 0?void 0:S.padding)!==null&&g!==void 0?g:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Zs(s).toUint8Array()}catch(c){if(c instanceof hN)return Na("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new W_(l,o,a)}catch(c){return Na(c instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Xy(a.target)){const l=new Y(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,hi.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=fe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new yp(e,n,this.Wt,this.jt,r);return this.jt=pi(),this.zt=XE(),this.Wt=new yt(Te),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new YE,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new tn(Te),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YE),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function XE(){return new yt(Y.comparator)}function JE(){return new yt(Y.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},Q3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y3={and:"AND",or:"OR"};class X3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||cp(e)?e:{value:e}}function sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J3(t,e){return sf(t,e.toTimestamp())}function Fr(t){return qe(!!t),ae.fromTimestamp(function(e){const n=es(e);return new hn(n.seconds,n.nanos)}(t))}function H_(t,e){return function(n){return new Rt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function UN(t){const e=Rt.fromString(t);return qe(WN(e)),e}function tv(t,e){return H_(t.databaseId,e.path)}function Qm(t,e){const n=UN(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(zN(n))}function nv(t,e){return H_(t.databaseId,e)}function Z3(t){const e=UN(t);return e.length===4?Rt.emptyPath():zN(e)}function rv(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zN(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZE(t,e,n){return{name:tv(t,e),fields:n.value.mapValue.fields}}function ez(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(qe(u===void 0||typeof u=="string"),on.fromBase64String(u||"")):(qe(u===void 0||u instanceof Uint8Array),on.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?$.UNKNOWN:MN(l.code);return new X(u,l.message||"")}(o);n=new FN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qm(t,r.document.name),s=Fr(r.document.updateTime),o=r.document.createTime?Fr(r.document.createTime):ae.min(),a=new Nr({mapValue:{fields:r.document.fields}}),l=hi.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Kd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qm(t,r.document),s=r.readTime?Fr(r.readTime):ae.min(),o=hi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qm(t,r.document),s=r.removedTargetIds||[];n=new Kd([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new V3(i,s),a=r.targetId;n=new LN(a,o)}}return n}function tz(t,e){let n;if(e instanceof gp)n={update:ZE(t,e.key,e.value)};else if(e instanceof DN)n={delete:tv(t,e.key)};else if(e instanceof fo)n={update:ZE(t,e.key,e.data),updateMask:cz(e.fieldMask)};else{if(!(e instanceof U3))return te();n={verify:tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Yu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:J3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(t,e.precondition)),n}function nz(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Fr(r.updateTime):Fr(i);return s.isEqual(ae.min())&&(s=Fr(i)),new L3(s,r.transformResults||[])}(n,e))):[]}function rz(t,e){return{documents:[nv(t,e.path)]}}function iz(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=nv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return VN(ts.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Oo(c.field),direction:az(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ev(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function sz(t){let e=Z3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=jN(c);return d instanceof ts&&vN(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new ru($o(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,cp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new tf(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new tf(h,d)}(n.endAt)),E3(e,i,o,s,a,"F",l,u)}function oz(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jN(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$o(e.unaryFilter.field);return Ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$o(e.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$o(e.unaryFilter.field);return Ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$o(e.unaryFilter.field);return Ut.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(e){return Ut.create($o(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ts.create(e.compositeFilter.filters.map(n=>jN(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return te()}}(e.compositeFilter.op))}(t):te()}function az(t){return G3[t]}function lz(t){return Q3[t]}function uz(t){return Y3[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function $o(t){return zr.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof Ut?function(e){if(e.op==="=="){if(BE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NAN"}};if(FE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(BE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NAN"}};if(FE(e.value))return{unaryFilter:{field:Oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(e.field),op:lz(e.op),value:e.value}}}(t):t instanceof ts?function(e){const n=e.getFilters().map(r=>VN(r));return n.length===1?n[0]:{compositeFilter:{op:uz(e.op),filters:n}}}(t):te()}function cz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.fe=e}}function hz(t){const e=sz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.rn=new pz}addToCollectionParentIndex(e,n){return this.rn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Zi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class pz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $a(0)}static Mn(){return new $a(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.changes=new el(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&su(r.mutation,i,dr.empty(),hn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ol();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pi();const o=iu(),a=iu();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),su(c.mutation,u,c.mutation.getFieldMask(),hn.now())):o.set(u.key,dr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new gz(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=iu();let i=new yt((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||dr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=IN();c.forEach(h=>{if(!s.has(h)){const f=ON(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Y.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Ns());let a=-1,l=s;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,fe())).next(c=>({batchId:a,changes:TN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Ol();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,a=>{const l=function(u,c){return new dp(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,hi.newInvalidDocument(u)))});let o=Ol();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&su(u.mutation,l,dr.empty(),hn.now()),fp(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return M.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Fr(r.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:hz(r.bundledQuery),readTime:Fr(r.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.overlays=new yt(Y.comparator),this.ls=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ns(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new j3(n,r));let s=this.ls.get(n);s===void 0&&(s=fe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.fs=new tn(Tt.ds),this.ws=new tn(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Y(new Rt([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Y(new Rt([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=fe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Y.comparator(e.key,n.key)||Te(e.As,n.As)}static _s(e,n){return Te(e.As,n.As)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new tn(Tt.ds)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new z3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Te);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),M.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new Y(s),0);let a=new tn(Te);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),M.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return M.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Rs.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.Ds=e,this.docs=new yt(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():hi.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hi.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pi();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||s3(i3(c),r)<=0||(i.has(c.key)||fp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Cs(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ez(this)}getSize(e){return M.resolve(this.size)}}class Ez extends mz{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.persistence=e,this.xs=new el(n=>B_(n),U_),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Ns=0,this.ks=new q_,this.targetCount=0,this.Ms=$a.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),M.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Fn(n),M.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n){this.$s={},this.overlays={},this.Os=new D_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Cz(this),this.indexManager=new fz,this.remoteDocumentCache=function(r){return new Sz(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new dz(n),this.qs=new vz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _z,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new wz(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new Tz(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return M.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Tz extends a3{constructor(e){super(),this.currentSequenceNumber=e}}class K_{constructor(e){this.persistence=e,this.Qs=new q_,this.js=null}static zs(e){return new K_(e)}get Ws(){if(this.js)return this.js;throw te()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),M.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Ws,r=>{const i=Y.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return M.or([()=>M.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(VE(n))return M.resolve(null);let r=fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jy(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Jy(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return VE(n)||i.isEqual(ae.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):($E()<=_e.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zy(n)),this.Wi(e,o,n,r3(i,-1)))})}ji(e,n){let r=new tn(CN(e));return n.forEach((i,s)=>{fp(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return $E()<=_e.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Zy(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new yt(Te),this.Yi=new el(s=>B_(s),U_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function xz(t,e,n,r){return new kz(t,e,n,r)}async function HN(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function Rz(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=M.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const v=l.docVersions.get(f);qe(v!==null),p.version.compareTo(v)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=fe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qN(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Nz(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(on.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,v,S){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=pi(),u=fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Az(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(ae.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Az(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function Pz(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function iv(t,e,n){const r=se(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ac(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function eC(t,e,n){const r=se(t);let i=ae.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=se(a),d=c.Yi.get(u);return d!==void 0?M.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,fi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:fe())).next(a=>($z(r,I3(e),a),{documents:a,ir:s})))}function $z(t,e,n){let r=t.Xi.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class tC{constructor(){this.activeTargetIds=P3()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dz{constructor(){this.Hr=new tC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new tC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Ym(){return vd===null?vd=268435456+Math.round(2147483648*Math.random()):vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class Bz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Ym(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(H("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Na("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Za,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=Lz[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Ym();return new Promise((o,a)=>{const l=new qU;l.setWithCredentials(!0),l.listenOnce(VU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gm.NO_ERROR:const c=l.getResponseJson();H(Kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Gm.TIMEOUT:H(Kt,`RPC '${e}' ${s} timed out`),a(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case Gm.HTTP_ERROR:const d=l.getStatus();if(H(Kt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(v){const S=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(f.status);a(new X(p,f.message))}else a(new X($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X($.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{H(Kt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);H(Kt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Ym(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zU(),a=jU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new HU({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");H(Kt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new Fz({ro:S=>{f?H(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(H(Kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),H(Kt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},oo:()=>d.close()}),v=(S,g,y)=>{S.listen(g,m=>{try{y(m)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,pd.EventType.OPEN,()=>{f||H(Kt,`RPC '${e}' stream ${i} transport opened.`)}),v(d,pd.EventType.CLOSE,()=>{f||(f=!0,H(Kt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),v(d,pd.EventType.ERROR,S=>{f||(f=!0,Na(Kt,`RPC '${e}' stream ${i} transport errored:`,S),p.wo(new X($.UNAVAILABLE,"The operation could not be completed")))}),v(d,pd.EventType.MESSAGE,S=>{var g;if(!f){const y=S.data[0];qe(!!y);const m=y,w=m.error||((g=m[0])===null||g===void 0?void 0:g.error);if(w){H(Kt,`RPC '${e}' stream ${i} received error:`,w);const b=w.status;let C=function(k){const N=ht[k];if(N!==void 0)return MN(N)}(b),T=w.message;C===void 0&&(C=$.INTERNAL,T="Unknown error status: "+b+" with message "+w.message),f=!0,p.wo(new X(C,T)),d.close()}else H(Kt,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),v(a,WU.STAT_EVENT,S=>{S.stat===PE.PROXY?H(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===PE.NOPROXY&&H(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){return new X3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new KN(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uz extends GN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=ez(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Fr(s.readTime):ae.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=rv(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Xy(a)?{documents:rz(i,a)}:{query:iz(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=BN(i,s.resumeToken);const l=ev(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=sf(i,s.snapshotVersion.toTimestamp());const l=ev(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=oz(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=rv(this.serializer),n.removeTarget=e,this.Wo(n)}}class zz extends GN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=nz(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.cu(r,n)}return qe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rv(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tz(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X($.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X($.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Vz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(di(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{po(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.vu.add(4),await Oc(l),l.bu.set("Unknown"),l.vu.delete(4),await _p(l)}(this))})}),this.bu=new Vz(r,i)}}async function _p(t){if(po(t))for(const e of t.Ru)await e(!0)}async function Oc(t){for(const e of t.Ru)await e(!1)}function QN(t,e){const n=se(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),X_(n)?Y_(n):tl(n).Ko()&&Q_(n,e))}function YN(t,e){const n=se(t),r=tl(n);n.Au.delete(e),r.Ko()&&XN(n,e),n.Au.size===0&&(r.Ko()?r.jo():po(n)&&n.bu.set("Unknown"))}function Q_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(t).su(e)}function XN(t,e){t.Vu.qt(e),tl(t).iu(e)}function Y_(t){t.Vu=new K3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),tl(t).start(),t.bu.gu()}function X_(t){return po(t)&&!tl(t).Uo()&&t.Au.size>0}function po(t){return se(t).vu.size===0}function JN(t){t.Vu=void 0}async function Hz(t){t.Au.forEach((e,n)=>{Q_(t,e)})}async function qz(t,e){JN(t),X_(t)?(t.bu.Iu(e),Y_(t)):t.bu.set("Unknown")}async function Kz(t,e,n){if(t.bu.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof Kd?t.Vu.Ht(e):e instanceof LN?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ae.min()))try{const r=await qN(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(on.EMPTY_BYTE_STRING,u.snapshotVersion)),XN(i,a);const c=new Mi(u.target,a,l,u.sequenceNumber);Q_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!Ac(e))throw e;t.vu.add(1),await Oc(t),t.bu.set("Offline"),n||(n=()=>qN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await _p(t)})}function ZN(t,e){return e().catch(n=>of(t,n,e))}async function wp(t){const e=se(t),n=ns(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Gz(e);)try{const i=await Pz(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,Qz(e,i)}catch(i){await of(e,i)}eA(e)&&tA(e)}function Gz(t){return po(t)&&t.Eu.length<10}function Qz(t,e){t.Eu.push(e);const n=ns(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function eA(t){return po(t)&&!ns(t).Uo()&&t.Eu.length>0}function tA(t){ns(t).start()}async function Yz(t){ns(t).hu()}async function Xz(t){const e=ns(t);for(const n of t.Eu)e.uu(n.mutations)}async function Jz(t,e,n){const r=t.Eu.shift(),i=j_.from(r,e,n);await ZN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wp(t)}async function Zz(t,e){e&&ns(t).ou&&await async function(n,r){if(i=r.code,W3(i)&&i!==$.ABORTED){const s=n.Eu.shift();ns(n).Qo(),await ZN(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await wp(n)}var i}(t,e),eA(t)&&tA(t)}async function rC(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=po(n);n.vu.add(3),await Oc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await _p(n)}async function ej(t,e){const n=se(t);e?(n.vu.delete(2),await _p(n)):e||(n.vu.add(2),await Oc(n),n.bu.set("Unknown"))}function tl(t){return t.Su||(t.Su=function(e,n,r){const i=se(e);return i.fu(),new Uz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Hz.bind(null,t),ao:qz.bind(null,t),nu:Kz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),X_(t)?Y_(t):t.bu.set("Unknown")):(await t.Su.stop(),JN(t))})),t.Su}function ns(t){return t.Du||(t.Du=function(e,n,r){const i=se(e);return i.fu(),new zz(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Yz.bind(null,t),ao:Zz.bind(null,t),au:Xz.bind(null,t),cu:Jz.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await wp(t)):(await t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(t,e){if(di("AsyncQueue",`${e}: ${t}`),Ac(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Cu=new yt(Y.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):te():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Da{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Da(e,n,da.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.Nu=void 0,this.listeners=[]}}class nj{constructor(){this.queries=new el(e=>EN(e),hp),this.onlineState="Unknown",this.ku=new Set}}async function rj(t,e){const n=se(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tj),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Z_(o,`Initialization of query '${Zy(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ew(n)}async function ij(t,e){const n=se(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sj(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ew(n)}function oj(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ew(t){t.ku.forEach(e=>{e.next()})}class aj{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class lj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=CN(e),this.ec=new da(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new iC,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=fp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;h&&f?h.data.isEqual(f.data)?p!==v&&(r.track({type:3,doc:f}),S=!0):this.rc(h,f)||(r.track({type:2,doc:f}),S=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),S=!0):h&&!f&&(r.track({type:1,doc:h}),S=!0,(l||u)&&(a=!0)),S&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Da(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iC,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new rA(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new nA(r))}),n}hc(e){this.Yu=e.ir,this.Zu=fe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Da.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class uj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cj{constructor(e){this.key=e,this.fc=!1}}class dj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new el(a=>EN(a),hp),this._c=new Map,this.mc=new Set,this.gc=new yt(Y.comparator),this.yc=new Map,this.Ic=new q_,this.Tc={},this.Ec=new Map,this.Ac=$a.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function hj(t,e){const n=Ej(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Oz(n.localStore,fi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await fj(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&QN(n.remoteStore,o)}return i}async function fj(t,e,n,r,i){t.Rc=(d,h,f)=>async function(p,v,S,g){let y=v.view.sc(S);y.zi&&(y=await eC(p.localStore,v.query,!1).then(({documents:b})=>v.view.sc(b,y)));const m=g&&g.targetChanges.get(v.targetId),w=v.view.applyChanges(y,p.isPrimaryClient,m);return oC(p,v.targetId,w.cc),w.snapshot}(t,d,h,f);const s=await eC(t.localStore,e,!0),o=new lj(e,s.ir),a=o.sc(s.documents),l=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);oC(t,n,u.cc);const c=new uj(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function pj(t,e){const n=se(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!hp(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YN(n.remoteStore,r.targetId),sv(n,r.targetId)}).catch(Nc)):(sv(n,r.targetId),await iv(n.localStore,r.targetId,!0))}async function mj(t,e,n){const r=Cj(t);try{const i=await function(s,o){const a=se(s),l=hn.now(),u=o.reduce((h,f)=>h.add(f.key),fe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=pi(),p=fe();return a.Zi.getEntries(h,u).next(v=>{f=v,f.forEach((S,g)=>{g.isValidDocument()||(p=p.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(v=>{c=v;const S=[];for(const g of o){const y=B3(g,c.get(g.key).overlayedDocument);y!=null&&S.push(new fo(g.key,y,fN(y.value.mapValue),ii.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,S,o)}).next(v=>{d=v;const S=v.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,v.batchId,S)})}).then(()=>({batchId:d.batchId,changes:TN(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new yt(Te)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await $c(r,i.changes),await wp(r.remoteStore)}catch(i){const s=Z_(i,"Failed to persist write");n.reject(s)}}async function iA(t,e){const n=se(t);try{const r=await Nz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?qe(o.fc):i.removedDocuments.size>0&&(qe(o.fc),o.fc=!1))}),await $c(n,r,e)}catch(r){await Nc(r)}}function sC(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=se(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&ew(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gj(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new yt(Y.comparator);o=o.insert(s,hi.newNoDocument(s,ae.min()));const a=fe().add(s),l=new yp(ae.min(),new Map,new yt(Te),o,a);await iA(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),tw(r)}else await iv(r.localStore,e,!1).then(()=>sv(r,e,n)).catch(Nc)}async function yj(t,e){const n=se(t),r=e.batch.batchId;try{const i=await Rz(n.localStore,e);oA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,i)}catch(i){await Nc(i)}}async function vj(t,e,n){const r=se(t);try{const i=await function(s,o){const a=se(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(qe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);oA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,i)}catch(i){await Nc(i)}}function sA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function oA(t,e,n){const r=se(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||aA(t,r)})}function aA(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(YN(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),tw(t))}function oC(t,e,n){for(const r of n)r instanceof nA?(t.Ic.addReference(r.key,e),_j(t,r)):r instanceof rA?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||aA(t,r.key)):te()}function _j(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),tw(t))}function tw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Y(Rt.fromString(e)),r=t.Ac.next();t.yc.set(r,new cj(n)),t.gc=t.gc.insert(n,r),QN(t.remoteStore,new Mi(fi(z_(n.path)),r,"TargetPurposeLimboResolution",D_.ct))}}async function $c(t,e,n){const r=se(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=G_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=se(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>M.forEach(l,d=>M.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>M.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Ac(c))throw c;H("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function wj(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await HN(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new X($.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.er)}}function Sj(t,e){const n=se(t),r=n.yc.get(e);if(r&&r.fc)return fe().add(r.key);{let i=fe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Ej(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gj.bind(null,e),e.dc.nu=sj.bind(null,e.eventManager),e.dc.Pc=oj.bind(null,e.eventManager),e}function Cj(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vj.bind(null,e),e}class aC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xz(this.persistence,new Iz,e.initialUser,this.serializer)}createPersistence(e){return new bz(K_.zs,this.serializer)}createSharedClientState(e){return new Dz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wj.bind(null,this.syncEngine),await ej(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nj}createDatastore(e){const n=vp(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Bz(i));var i;return function(s,o,a,l){return new jz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>sC(this.syncEngine,a,0),o=nC.D()?new nC:new Mz,new Wz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new dj(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=se(e);H("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Oc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=uN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xj(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>rC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rC(e.remoteStore,s)),t._onlineComponents=e}function kj(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function xj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!kj(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new aC)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Jm(t,new aC);return t._offlineComponents}async function lA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await lC(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await lC(t,new bj))),t._onlineComponents}function Rj(t){return lA(t).then(e=>e.syncEngine)}async function uC(t){const e=await lA(t),n=e.eventManager;return n.onListen=hj.bind(null,e.syncEngine),n.onUnlisten=pj.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Aj(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dC(t){if(!Y.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nw(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class rw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hC(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new GU;switch(n.type){case"firstParty":return new JU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=cC.get(e);n&&(H("ComponentProvider","Removing Datastore"),cC.delete(e),n.terminate())}(this),Promise.resolve()}}function Pj(t,e,n,r={}){var i;const s=(t=ha(t,rw))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Qt.MOCK_USER;else{a=sM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(u)}t._authCredentials=new QU(new lN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Sp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sp(this.firestore,e,this._query)}}class Xu extends Sp{constructor(e,n,r){super(e,n,z_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Y(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function Oj(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=uN.A()),Nj("doc","path",e),t instanceof rw){const r=Rt.fromString(e,...n);return dC(r),new Jn(t,null,new Y(r))}{if(!(t instanceof Jn||t instanceof Xu))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return dC(r),new Jn(t.firestore,t instanceof Xu?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new KN(this,"async_queue_retry"),this.Xc=()=>{const n=Xm();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Fs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ac(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=J_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&te()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function fC(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class af extends rw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $j,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dA(this),this._firestoreClient.terminate()}}function Dj(t,e){const n=typeof t=="object"?t:lk(),r=typeof t=="string"?t:"(default)",i=cc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iM("firestore");s&&Pj(i,...s)}return i}function cA(t){return t._firestoreClient||dA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new c3(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ij(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(on.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=/^__.*__$/;class hA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class ow{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(fA(this.ca)&&Mj.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Lj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vp(e)}ya(e,n,r,i=!1){return new ow({ca:e,methodName:n,ga:r,path:zr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fj(t){const e=t._freezeSettings(),n=vp(t._databaseId);return new Lj(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Cp extends iw{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function Bj(t,e,n,r){const i=t.ya(1,e,n);mA("Data must be an object, but it was:",i,r);const s=[],o=Nr.empty();ho(r,(l,u)=>{const c=aw(e,l,n);u=Wt(u);const d=i.da(c);if(u instanceof Cp)s.push(c);else{const h=bp(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new dr(s);return new hA(o,a,i.fieldTransforms)}function Uj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[pC(e,r,n)],l=[i];if(s.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(pC(e,s[h])),l.push(s[h+1]);const u=[],c=Nr.empty();for(let h=a.length-1;h>=0;--h)if(!Vj(u,a[h])){const f=a[h];let p=l[h];p=Wt(p);const v=o.da(f);if(p instanceof Cp)u.push(f);else{const S=bp(p,v);S!=null&&(u.push(f),c.set(f,S))}}const d=new dr(u);return new hA(c,d,o.fieldTransforms)}function bp(t,e){if(pA(t=Wt(t)))return mA("Unsupported field value:",e,t),zj(t,e);if(t instanceof iw)return function(n,r){if(!fA(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bp(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Wt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O3(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=hn.fromDate(n);return{timestampValue:sf(r.serializer,i)}}if(n instanceof hn){const i=new hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sf(r.serializer,i)}}if(n instanceof sw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ma)return{bytesValue:BN(r.serializer,n._byteString)};if(n instanceof Jn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:H_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${nw(n)}`)}(t,e)}function zj(t,e){const n={};return dN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(r,i)=>{const s=bp(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof hn||t instanceof sw||t instanceof Ma||t instanceof Jn||t instanceof iw)}function mA(t,e,n){if(!pA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=nw(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function pC(t,e,n){if((e=Wt(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return aw(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const jj=new RegExp("[~\\*/\\[\\]]");function aw(t,e,n){if(e.search(jj)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ep(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X($.INVALID_ARGUMENT,a+t+l)}function Vj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wj extends gA{data(){return super.data()}}function yA(t,e){return typeof e=="string"?aw(t,e):e instanceof Ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qj{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new sw(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=es(e);return new hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);qe(WN(r));const i=new Ku(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vA extends gA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gd extends vA{data(e={}){return super.data(e)}}class Kj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gd(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Gd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Dl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Gd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Dl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Gj(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Gj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class _A extends qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function Qj(t,e,n,...r){t=ha(t,Jn);const i=ha(t.firestore,af),s=Fj(i);let o;return o=typeof(e=Wt(e))=="string"||e instanceof Ep?Uj(s,"updateDoc",t._key,e,n,r):Bj(s,"updateDoc",t._key,e),Xj(i,[o.toMutation(t._key,ii.exists(!0))])}function Yj(t,...e){var n,r,i;t=Wt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||fC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(fC(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Jn)u=ha(t.firestore,af),c=z_(t._key.path),l={next:d=>{e[o]&&e[o](Jj(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ha(t,Sp);u=ha(d.firestore,af),c=d._query;const h=new _A(u);l={next:f=>{e[o]&&e[o](new Kj(u,h,d,f))},error:e[o+1],complete:e[o+2]},Hj(t._query)}return function(d,h,f,p){const v=new Tj(p),S=new aj(h,v,f);return d.asyncQueue.enqueueAndForget(async()=>rj(await uC(d),S)),()=>{v.Dc(),d.asyncQueue.enqueueAndForget(async()=>ij(await uC(d),S))}}(cA(u),c,a,l)}function Xj(t,e){return function(n,r){const i=new Fs;return n.asyncQueue.enqueueAndForget(async()=>mj(await Rj(n),r,i)),i.promise}(cA(t),e)}function Jj(t,e,n){const r=n.docs.get(e._key),i=new _A(t);return new vA(t,i,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Za=n})(wi),tr(new Ln("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new af(new YU(n.getProvider("auth-internal")),new e3(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),gt(OE,"3.13.0",t),gt(OE,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="us-central1";class t9{constructor(e,n,r,i,s=mC,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new e9(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=mC}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const gC="@firebase/functions",yC="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="auth-internal",r9="app-check-internal",i9="messaging-internal";function s9(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(n9),a=r.getProvider(i9),l=r.getProvider(r9);return new t9(s,o,a,l,i,t)};tr(new Ln(Zj,n,"PUBLIC").setMultipleInstances(!0)),gt(gC,yC,e),gt(gC,yC,"esm2017")}s9(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebasestorage.googleapis.com",o9="storageBucket",a9=2*60*1e3,l9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends nr{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function Zm(t){return"storage/"+t}function u9(){const t="An unknown error occurred, please check the error payload for server response.";return new Wr(Vr.UNKNOWN,t)}function c9(){return new Wr(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d9(){return new Wr(Vr.CANCELED,"User canceled the upload/download.")}function h9(t){return new Wr(Vr.INVALID_URL,"Invalid URL '"+t+"'.")}function f9(t){return new Wr(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vC(t){return new Wr(Vr.INVALID_ARGUMENT,t)}function SA(){return new Wr(Vr.APP_DELETED,"The Firebase app was deleted.")}function p9(t){return new Wr(Vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hr.makeFromUrl(e,n)}catch{return new hr(e,"")}if(r.path==="")return r;throw f9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},v=n===wA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${S}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<m.length;w++){const b=m[w],C=b.regex.exec(e);if(C){const T=C[b.indices.bucket];let k=C[b.indices.path];k||(k=""),r=new hr(T,k),b.postModify(r);break}}if(r==null)throw h9(e);return r}}class m9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,t(f,l())},S)}function h(){s&&clearTimeout(s)}function f(S,...g){if(u){h();return}if(S){h(),c.call(null,S,...g);return}if(l()||o){h(),c.call(null,S,...g);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let p=!1;function v(S){p||(p=!0,h(),!u&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function y9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){return t!==void 0}function _C(t,e,n,r){if(r<e)throw vC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vC(`Invalid value for '${t}'. Expected ${n} or less.`)}function _9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uf||(uf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _d(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===uf.NO_ERROR,l=s.getStatus();if(!a||w9(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===uf.ABORT;r(!1,new _d(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new _d(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());v9(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=u9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?SA():d9();o(l)}else{const l=c9();o(l)}};this.canceled_?n(!1,new _d(!1,null,!0)):this.backoffId_=g9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&y9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function E9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function I9(t,e,n,r,i,s,o=!0){const a=_9(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return b9(u,e),E9(u,n),C9(u,s),T9(u,r),new S9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this._service=e,n instanceof hr?this._location=n:this._location=hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cf(e,n)}get root(){const e=new hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x9(this._location.path)}get storage(){return this._service}get parent(){const e=k9(this._location.path);if(e===null)return null;const n=new hr(this._location.bucket,e);return new cf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw p9(e)}}function wC(t,e){const n=e==null?void 0:e[o9];return n==null?null:hr.makeFromBucketSpec(n,t)}class R9{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=wA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a9,this._maxUploadRetryTime=l9,this._requests=new Set,i!=null?this._bucket=hr.makeFromBucketSpec(i,this._host):this._bucket=wC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hr.makeFromBucketSpec(this._url,e):this._bucket=wC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new m9(SA());{const o=I9(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SC="@firebase/storage",EC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="storage";function A9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new R9(n,r,i,e,wi)}function P9(){tr(new Ln(N9,A9,"PUBLIC").setMultipleInstances(!0)),gt(SC,EC,""),gt(SC,EC,"esm2017")}P9();const O9=(t,e)=>e.some(n=>t instanceof n);let CC,bC;function $9(){return CC||(CC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D9(){return bC||(bC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EA=new WeakMap,ov=new WeakMap,CA=new WeakMap,eg=new WeakMap,lw=new WeakMap;function M9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EA.set(n,t)}).catch(()=>{}),lw.set(e,t),e}function L9(t){if(ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ov.set(t,e)}let av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ov.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F9(t){av=t(av)}function B9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tg(this),e,...n);return CA.set(r,e.sort?e.sort():[e]),Gi(r)}:D9().includes(t)?function(...e){return t.apply(tg(this),e),Gi(EA.get(this))}:function(...e){return Gi(t.apply(tg(this),e))}}function U9(t){return typeof t=="function"?B9(t):(t instanceof IDBTransaction&&L9(t),O9(t,$9())?new Proxy(t,av):t)}function Gi(t){if(t instanceof IDBRequest)return M9(t);if(eg.has(t))return eg.get(t);const e=U9(t);return e!==t&&(eg.set(t,e),lw.set(e,t)),e}const tg=t=>lw.get(t);function z9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gi(o.result),l.oldVersion,l.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const j9=["get","getKey","getAll","getAllKeys","count"],V9=["put","add","delete","clear"],ng=new Map;function TC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=V9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ng.set(e,s),s}F9(t=>({...t,get:(e,n,r)=>TC(e,n)||t.get(e,n,r),has:(e,n)=>!!TC(e,n)||t.has(e,n)}));const bA="@firebase/installations",uw="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e4,IA=`w:${uw}`,kA="FIS_v2",W9="https://firebaseinstallations.googleapis.com/v1",H9=60*60*1e3,q9="installations",K9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},to=new ao(q9,K9,G9);function xA(t){return t instanceof nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA({projectId:t}){return`${W9}/projects/${t}/installations`}function NA(t){return{token:t.token,requestStatus:2,expiresIn:Y9(t.expiresIn),creationTime:Date.now()}}async function AA(t,e){const r=(await e.json()).error;return to.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function PA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q9(t,{refreshToken:e}){const n=PA(t);return n.append("Authorization",X9(e)),n}async function OA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y9(t){return Number(t.replace("s","000"))}function X9(t){return`${kA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=RA(t),i=PA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:kA,appId:t.appId,sdkVersion:IA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await OA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:NA(u.authToken)}}else throw await AA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^[cdef][\w-]{21}$/,lv="";function t6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=n6(t);return e6.test(n)?n:lv}catch{return lv}}function n6(t){return Z9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;function MA(t,e){const n=Tp(t);LA(n,e),r6(n,e)}function LA(t,e){const n=DA.get(t);if(n)for(const r of n)r(e)}function r6(t,e){const n=i6();n&&n.postMessage({key:t,fid:e}),s6()}let As=null;function i6(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=t=>{LA(t.data.key,t.data.fid)}),As}function s6(){DA.size===0&&As&&(As.close(),As=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="firebase-installations-database",a6=1,no="firebase-installations-store";let rg=null;function cw(){return rg||(rg=z9(o6,a6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(no)}}})),rg}async function df(t,e){const n=Tp(t),i=(await cw()).transaction(no,"readwrite"),s=i.objectStore(no),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&MA(t,e.fid),e}async function FA(t){const e=Tp(t),r=(await cw()).transaction(no,"readwrite");await r.objectStore(no).delete(e),await r.done}async function Ip(t,e){const n=Tp(t),i=(await cw()).transaction(no,"readwrite"),s=i.objectStore(no),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&MA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){let e;const n=await Ip(t.appConfig,r=>{const i=l6(r),s=u6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===lv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l6(t){const e=t||{fid:t6(),registrationStatus:0};return BA(e)}function u6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(to.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d6(t)}:{installationEntry:e}}async function c6(t,e){try{const n=await J9(t,e);return df(t.appConfig,n)}catch(n){throw xA(n)&&n.customData.serverCode===409?await FA(t.appConfig):await df(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d6(t){let e=await IC(t.appConfig);for(;e.registrationStatus===1;)await $A(100),e=await IC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await dw(t);return r||n}return e}function IC(t){return Ip(t,e=>{if(!e)throw to.create("installation-not-found");return BA(e)})}function BA(t){return h6(t)?{fid:t.fid,registrationStatus:0}:t}function h6(t){return t.registrationStatus===1&&t.registrationTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6({appConfig:t,heartbeatServiceProvider:e},n){const r=p6(t,n),i=Q9(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:IA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await OA(()=>fetch(r,a));if(l.ok){const u=await l.json();return NA(u)}else throw await AA("Generate Auth Token",l)}function p6(t,{fid:e}){return`${RA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e=!1){let n;const r=await Ip(t.appConfig,s=>{if(!UA(s))throw to.create("not-registered");const o=s.authToken;if(!e&&y6(o))return s;if(o.requestStatus===1)return n=m6(t,e),s;{if(!navigator.onLine)throw to.create("app-offline");const a=_6(s);return n=g6(t,a),a}});return n?await n:r.authToken}async function m6(t,e){let n=await kC(t.appConfig);for(;n.authToken.requestStatus===1;)await $A(100),n=await kC(t.appConfig);const r=n.authToken;return r.requestStatus===0?hw(t,e):r}function kC(t){return Ip(t,e=>{if(!UA(e))throw to.create("not-registered");const n=e.authToken;return w6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function g6(t,e){try{const n=await f6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await df(t.appConfig,r),n}catch(n){if(xA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FA(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await df(t.appConfig,r)}throw n}}function UA(t){return t!==void 0&&t.registrationStatus===2}function y6(t){return t.requestStatus===2&&!v6(t)}function v6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H9}function _6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function w6(t){return t.requestStatus===1&&t.requestTime+TA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t){const e=t,{installationEntry:n,registrationPromise:r}=await dw(e);return r?r.catch(console.error):hw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e=!1){const n=t;return await C6(n),(await hw(n,e)).token}async function C6(t){const{registrationPromise:e}=await dw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){if(!t||!t.options)throw ig("App Configuration");if(!t.name)throw ig("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ig(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ig(t){return to.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="installations",T6="installations-internal",I6=t=>{const e=t.getProvider("app").getImmediate(),n=b6(e),r=cc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},k6=t=>{const e=t.getProvider("app").getImmediate(),n=cc(e,zA).getImmediate();return{getId:()=>S6(n),getToken:i=>E6(n,i)}};function x6(){tr(new Ln(zA,I6,"PUBLIC")),tr(new Ln(T6,k6,"PRIVATE"))}x6();gt(bA,uw);gt(bA,uw,"esm2017");const sg="@firebase/remote-config",xC="0.4.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},_n=new ao("remoteconfig","Remote Config",N6);function A6(t){const e=Wt(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:O6()},l={method:"POST",headers:o,body:JSON.stringify(a)},u=fetch(s,l),c=new Promise((S,g)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",g(y)})});let d;try{await Promise.race([u,c]),d=await u}catch(S){let g="fetch-client-network";throw(S==null?void 0:S.name)==="AbortError"&&(g="fetch-timeout"),_n.create(g,{originalErrorMessage:S==null?void 0:S.message})}let h=d.status;const f=d.headers.get("ETag")||void 0;let p,v;if(d.status===200){let S;try{S=await d.json()}catch(g){throw _n.create("fetch-client-parse",{originalErrorMessage:g==null?void 0:g.message})}p=S.entries,v=S.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?h=500:v==="NO_CHANGE"?h=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(p={}),h!==304&&h!==200)throw _n.create("fetch-status",{httpStatus:h});return{status:h,eTag:f,config:p}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function M6(t){if(!(t instanceof nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class L6{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await D6(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!M6(i))throw i;const s={throttleEndTimeMillis:Date.now()+CM(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=60*1e3,B6=12*60*60*1e3;class U6{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:F6,minimumFetchIntervalMillis:B6},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e){const n=t.target.error||void 0;return _n.create(e,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const _s="app_namespace_store",z6="firebase_remote_config",j6=1;function V6(){return new Promise((t,e)=>{try{const n=indexedDB.open(z6,j6);n.onerror=r=>{e(Qd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_s,{keyPath:"compositeKey"})}}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}class W6{constructor(e,n,r,i=V6()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([_s],"readonly").objectStore(_s),a=this.createCompositeKey(e);try{const l=o.get(a);l.onerror=u=>{i(Qd(u,"storage-get"))},l.onsuccess=u=>{const c=u.target.result;r(c?c.value:void 0)}}catch(l){i(_n.create("storage-get",{originalErrorMessage:l==null?void 0:l.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_s],"readwrite").objectStore(_s),l=this.createCompositeKey(e);try{const u=a.put({compositeKey:l,value:n});u.onerror=c=>{s(Qd(c,"storage-set"))},u.onsuccess=()=>{i()}}catch(u){s(_n.create("storage-set",{originalErrorMessage:u==null?void 0:u.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([_s],"readwrite").objectStore(_s),a=this.createCompositeKey(e);try{const l=o.delete(a);l.onerror=u=>{i(Qd(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){i(_n.create("storage-delete",{originalErrorMessage:l==null?void 0:l.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){tr(new Ln(R6,t,"PUBLIC").setMultipleInstances(!0)),gt(sg,xC),gt(sg,xC,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!rk())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");n=n||"firebase";const l=new W6(a,r.name,n),u=new H6(l),c=new uc(sg);c.logLevel=_e.ERROR;const d=new $6(i,wi,n,s,o,a),h=new L6(d,l),f=new P6(h,l,u,c),p=new U6(r,f,u,l,c);return A6(p),p}}q6();var uv=function(t,e){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uv(t,e)};function Ei(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function K6(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function jA(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function La(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fa(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Ba(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function fa(t){return this instanceof fa?(this.v=t,this):new fa(t)}function G6(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,v){s.push([h,f,p,v])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof fa?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Q6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof La=="function"?La(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function Et(t){return typeof t=="function"}function fw(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var og=fw(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function hf(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Dc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=La(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Et(c))try{c()}catch(v){s=v instanceof og?v.errors:[v]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=La(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{RC(p)}catch(v){s=s??[],v instanceof og?s=Ba(Ba([],Fa(s)),Fa(v.errors)):s.push(v)}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new og(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)RC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&hf(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&hf(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),VA=Dc.EMPTY;function WA(t){return t instanceof Dc||t&&"closed"in t&&Et(t.remove)&&Et(t.add)&&Et(t.unsubscribe)}function RC(t){Et(t)?t():t.unsubscribe()}var HA={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y6={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ba([t,e],Fa(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function qA(t){Y6.setTimeout(function(){throw t})}function NC(){}function Yd(t){t()}var pw=function(t){Ei(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,WA(n)&&n.add(r)):r.destination=eV,r}return e.create=function(n,r,i){return new Ju(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Dc),X6=Function.prototype.bind;function ag(t,e){return X6.call(t,e)}var J6=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){wd(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){wd(r)}else wd(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){wd(n)}},t}(),Ju=function(t){Ei(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(Et(n)||!n)o={next:n??void 0,error:r??void 0,complete:i??void 0};else{var a;s&&HA.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&ag(n.next,a),error:n.error&&ag(n.error,a),complete:n.complete&&ag(n.complete,a)}):o=n}return s.destination=new J6(o),s}return e}(pw);function wd(t){qA(t)}function Z6(t){throw t}var eV={closed:!0,next:NC,error:Z6,complete:NC},mw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function KA(t){return t}function tV(t){return t.length===0?KA:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var fn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=rV(e)?e:new Ju(e,n,r);return Yd(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=AC(n),new n(function(i,s){var o=new Ju({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[mw]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return tV(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=AC(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function AC(t){var e;return(e=t??HA.Promise)!==null&&e!==void 0?e:Promise}function nV(t){return t&&Et(t.next)&&Et(t.error)&&Et(t.complete)}function rV(t){return t&&t instanceof pw||nV(t)&&WA(t)}function iV(t){return Et(t==null?void 0:t.lift)}function mo(t){return function(e){if(iV(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ua(t,e,n,r,i){return new sV(t,e,n,r,i)}var sV=function(t){Ei(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(pw),oV=fw(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),kp=function(t){Ei(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new PC(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new oV},e.prototype.next=function(n){var r=this;Yd(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=La(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;Yd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;Yd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?VA:(this.currentObservers=null,a.push(n),new Dc(function(){r.currentObservers=null,hf(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new fn;return n.source=this,n},e.create=function(n,r){return new PC(n,r)},e}(fn),PC=function(t){Ei(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:VA},e}(kp),gw={now:function(){return(gw.delegate||Date).now()},delegate:void 0},aV=function(t){Ei(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=gw);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},e}(kp),lV=function(t){Ei(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(Dc),cv={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=cv.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Ba([t,e],Fa(n))):setInterval.apply(void 0,Ba([t,e],Fa(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},uV=function(t){Ei(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),cv.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;cv.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,hf(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(lV),OC=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=gw.now,t}(),cV=function(t){Ei(e,t);function e(n,r){r===void 0&&(r=OC.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(OC);new cV(uV);var dV=new fn(function(t){return t.complete()});function hV(t){return t?fV(t):dV}function fV(t){return new fn(function(e){return t.schedule(function(){return e.complete()})})}function pV(t){return t&&Et(t.schedule)}function mV(t){return t[t.length-1]}function gV(t){return pV(mV(t))?t.pop():void 0}var GA=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function QA(t){return Et(t==null?void 0:t.then)}function YA(t){return Et(t[mw])}function XA(t){return Symbol.asyncIterator&&Et(t==null?void 0:t[Symbol.asyncIterator])}function JA(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function yV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ZA=yV();function eP(t){return Et(t==null?void 0:t[ZA])}function tP(t){return G6(this,arguments,function(){var e,n,r,i;return jA(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,fa(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,fa(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,fa(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function nP(t){return Et(t==null?void 0:t.getReader)}function nl(t){if(t instanceof fn)return t;if(t!=null){if(YA(t))return vV(t);if(GA(t))return _V(t);if(QA(t))return wV(t);if(XA(t))return rP(t);if(eP(t))return SV(t);if(nP(t))return EV(t)}throw JA(t)}function vV(t){return new fn(function(e){var n=t[mw]();if(Et(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _V(t){return new fn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function wV(t){return new fn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,qA)})}function SV(t){return new fn(function(e){var n,r;try{for(var i=La(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function rP(t){return new fn(function(e){CV(t,e).catch(function(n){return e.error(n)})})}function EV(t){return rP(tP(t))}function CV(t,e){var n,r,i,s;return K6(this,void 0,void 0,function(){var o,a;return jA(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Q6(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Bs(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function iP(t,e){return e===void 0&&(e=0),mo(function(n,r){n.subscribe(Ua(r,function(i){return Bs(r,t,function(){return r.next(i)},e)},function(){return Bs(r,t,function(){return r.complete()},e)},function(i){return Bs(r,t,function(){return r.error(i)},e)}))})}function sP(t,e){return e===void 0&&(e=0),mo(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function bV(t,e){return nl(t).pipe(sP(e),iP(e))}function TV(t,e){return nl(t).pipe(sP(e),iP(e))}function IV(t,e){return new fn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kV(t,e){return new fn(function(n){var r;return Bs(n,e,function(){r=t[ZA](),Bs(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return Et(r==null?void 0:r.return)&&r.return()}})}function oP(t,e){if(!t)throw new Error("Iterable cannot be null");return new fn(function(n){Bs(n,e,function(){var r=t[Symbol.asyncIterator]();Bs(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function xV(t,e){return oP(tP(t),e)}function RV(t,e){if(t!=null){if(YA(t))return bV(t,e);if(GA(t))return IV(t,e);if(QA(t))return TV(t,e);if(XA(t))return oP(t,e);if(eP(t))return kV(t,e);if(nP(t))return xV(t,e)}throw JA(t)}function NV(t,e){return e?RV(t,e):nl(t)}function $C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gV(t);return NV(t,n)}fw(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function AV(t,e){return mo(function(n,r){var i=0;n.subscribe(Ua(r,function(s){r.next(t.call(e,s,i++))}))})}function aP(t){return mo(function(e,n){var r=null,i=!1,s;r=e.subscribe(Ua(n,void 0,void 0,function(o){s=nl(t(o,aP(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function PV(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new kp}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var c,d,h,f=0,p=!1,v=!1,S=function(){d==null||d.unsubscribe(),d=void 0},g=function(){S(),c=h=void 0,p=v=!1},y=function(){var m=c;g(),m==null||m.unsubscribe()};return mo(function(m,w){f++,!v&&!p&&S();var b=h=h??n();w.add(function(){f--,f===0&&!v&&!p&&(d=lg(y,l))}),b.subscribe(w),!c&&f>0&&(c=new Ju({next:function(C){return b.next(C)},error:function(C){v=!0,S(),d=lg(g,i,C),b.error(C)},complete:function(){p=!0,S(),d=lg(g,o),b.complete()}}),nl(m).subscribe(c))})(u)}}function lg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new Ju({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,Ba([],Fa(n))).subscribe(i)}}function OV(t,e,n){var r,i=!1;return r=t,PV({connector:function(){return new aV(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function $V(t,e){return mo(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(Ua(r,function(l){i==null||i.unsubscribe();var u=0,c=s++;nl(t(l,c)).subscribe(i=Ua(r,function(d){return r.next(e?e(l,d,c,u++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function DV(t,e,n){var r=Et(t)||e||n?{next:t,error:e,complete:n}:t;return r?mo(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(Ua(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):KA}function MV(t){return new fn(function(e){var n=$k(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const LV="[DEFAULT]",lP=E.createContext(void 0),uP=E.createContext(!1),FV="4.2.3",BV=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function UV(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=E.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=w2().find(o=>o.name===(n||LV));if(s){if(e&&BV(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=E.version||"unknown";return gt("react",o),gt("reactfire",FV),x0(e,n)}},[t.firebaseApp,e,n]);return E.createElement(lP.Provider,{value:i},E.createElement(uP.Provider,Object.assign({value:r??!1},t)))}function zV(t){let e=E.useContext(uP);return t!==void 0?t:e}function cP(){const t=E.useContext(lP);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function jV(t){const e=yw();let n=`auth:signInCheck:${e.name}::forceRefresh:${t!=null}`;const r=MV(e).pipe($V(i=>$C(i?{signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}:{signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})));return dP(n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds,Es;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(Es||(Es={}));Object.freeze((ds={},ds[Es.added]=kB,ds[Es.removed]=NB,ds[Es.changed]=xB,ds[Es.moved]=RB,ds[Es.value]=IB,ds));const VV=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=VV);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WV={includeMetadataChanges:!1};function HV(t,e){return e===void 0&&(e=WV),new fn(function(n){var r=Yj(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return HV(t,{includeMetadataChanges:!0})}function KV(t,e){return e===void 0&&(e={}),qV(t).pipe(AV(function(n){return GV(n,e)}))}function GV(t,e){e===void 0&&(e={});var n=t.data();return!t.exists()||typeof n!="object"||n===null||e.idField&&(n[e.idField]=t.id),n}class QV extends kp{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(DV({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),aP(()=>hV()),OV(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const YV=3e4,Xd=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=Xd);function XV(t,e){if(Xd.has(e))return Xd.get(e);{const n=new QV(t,YV);return Xd.set(e,n),n}}function JV(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function dP(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=XV(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(zV(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,u]=E.useReducer(JV(i),a);return E.useEffect(()=>{const c=i.subscribe({next:()=>{u("value")},error:d=>{throw u("error"),d},complete:()=>{u("complete")}});return()=>c.unsubscribe()},[i]),l}const ZV=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=ZV);function eW(t,e){const n="NO_ID_FIELD",r=`firestore:docData:${t.firestore.app.name}:${t.path}:idField=${n}`,i=KV(t,{idField:n});return dP(r,i,e)}E.createContext(void 0);const hP=E.createContext(void 0);E.createContext(void 0);E.createContext(void 0);const fP=E.createContext(void 0);E.createContext(void 0);E.createContext(void 0);E.createContext(void 0);E.createContext(void 0);function pP(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=cP().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return E.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function mP(t){const e=E.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const tW=pP(hP),nW=pP(fP),yw=()=>mP(hP),rW=()=>mP(fP),dv="theme-preference",iW=()=>{za.value=za.value==="light"?"dark":"light",gP()},sW=()=>localStorage.getItem(dv)?localStorage.getItem(dv):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",gP=()=>{localStorage.setItem(dv,za.value),vw()},vw=()=>{var t;document.firstElementChild.setAttribute("data-theme",za.value),(t=document.querySelector("#theme-toggle"))==null||t.setAttribute("aria-label",za.value)},za={value:sW()};vw();window.onload=()=>{vw(),document.querySelector("#theme-toggle").addEventListener("click",iW)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:t})=>{za.value=t?"dark":"light",gP()});function mi(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(null,arguments)}var oW=!1;function aW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uW=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!oW:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=aW(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Gt="-ms-",pf="-moz-",Ce="-webkit-",yP="comm",_w="rule",ww="decl",cW="@import",vP="@keyframes",dW="@layer",hW=Math.abs,xp=String.fromCharCode,fW=Object.assign;function pW(t,e){return Ft(t,0)^45?(((e<<2^Ft(t,0))<<2^Ft(t,1))<<2^Ft(t,2))<<2^Ft(t,3):0}function _P(t){return t.trim()}function mW(t,e){return(t=e.exec(t))?t[0]:t}function be(t,e,n){return t.replace(e,n)}function hv(t,e){return t.indexOf(e)}function Ft(t,e){return t.charCodeAt(e)|0}function Zu(t,e,n){return t.slice(e,n)}function Tr(t){return t.length}function Sw(t){return t.length}function Sd(t,e){return e.push(t),t}function gW(t,e){return t.map(e).join("")}var Rp=1,ja=1,wP=0,kn=0,pt=0,rl="";function Np(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Rp,column:ja,length:o,return:""}}function El(t,e){return fW(Np("",null,null,"",null,null,0),t,{length:-t.length},e)}function yW(){return pt}function vW(){return pt=kn>0?Ft(rl,--kn):0,ja--,pt===10&&(ja=1,Rp--),pt}function Dn(){return pt=kn<wP?Ft(rl,kn++):0,ja++,pt===10&&(ja=1,Rp++),pt}function Br(){return Ft(rl,kn)}function Jd(){return kn}function Mc(t,e){return Zu(rl,t,e)}function ec(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SP(t){return Rp=ja=1,wP=Tr(rl=t),kn=0,[]}function EP(t){return rl="",t}function Zd(t){return _P(Mc(kn-1,fv(t===91?t+2:t===40?t+1:t)))}function _W(t){for(;(pt=Br())&&pt<33;)Dn();return ec(t)>2||ec(pt)>3?"":" "}function wW(t,e){for(;--e&&Dn()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return Mc(t,Jd()+(e<6&&Br()==32&&Dn()==32))}function fv(t){for(;Dn();)switch(pt){case t:return kn;case 34:case 39:t!==34&&t!==39&&fv(pt);break;case 40:t===41&&fv(t);break;case 92:Dn();break}return kn}function SW(t,e){for(;Dn()&&t+pt!==57;)if(t+pt===84&&Br()===47)break;return"/*"+Mc(e,kn-1)+"*"+xp(t===47?t:Dn())}function EW(t){for(;!ec(Br());)Dn();return Mc(t,kn)}function CW(t){return EP(eh("",null,null,null,[""],t=SP(t),0,[0],t))}function eh(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,v=1,S=1,g=1,y=0,m="",w=i,b=s,C=r,T=m;S;)switch(p=y,y=Dn()){case 40:if(p!=108&&Ft(T,d-1)==58){hv(T+=be(Zd(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=Zd(y);break;case 9:case 10:case 13:case 32:T+=_W(p);break;case 92:T+=wW(Jd()-1,7);continue;case 47:switch(Br()){case 42:case 47:Sd(bW(SW(Dn(),Jd()),e,n),l);break;default:T+="/"}break;case 123*v:a[u++]=Tr(T)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:S=0;case 59+c:g==-1&&(T=be(T,/\f/g,"")),f>0&&Tr(T)-d&&Sd(f>32?MC(T+";",r,n,d-1):MC(be(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Sd(C=DC(T,e,n,u,c,i,a,m,w=[],b=[],d),s),y===123)if(c===0)eh(T,e,C,C,w,s,d,a,b);else switch(h===99&&Ft(T,3)===110?100:h){case 100:case 108:case 109:case 115:eh(t,C,C,r&&Sd(DC(t,C,C,0,0,i,a,m,i,w=[],d),b),i,b,d,a,r?w:b);break;default:eh(T,C,C,C,[""],b,0,a,b)}}u=c=f=0,v=g=1,m=T="",d=o;break;case 58:d=1+Tr(T),f=p;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&vW()==125)continue}switch(T+=xp(y),y*v){case 38:g=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Tr(T)-1)*g,g=1;break;case 64:Br()===45&&(T+=Zd(Dn())),h=Br(),c=d=Tr(m=T+=EW(Jd())),y++;break;case 45:p===45&&Tr(T)==2&&(v=0)}}return s}function DC(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=Sw(h),p=0,v=0,S=0;p<r;++p)for(var g=0,y=Zu(t,d+1,d=hW(v=o[p])),m=t;g<f;++g)(m=_P(v>0?h[g]+" "+y:be(y,/&\f/g,h[g])))&&(l[S++]=m);return Np(t,e,n,i===0?_w:a,l,u,c)}function bW(t,e,n){return Np(t,e,n,yP,xp(yW()),Zu(t,2,-2),0)}function MC(t,e,n,r){return Np(t,e,n,ww,Zu(t,0,r),Zu(t,r+1,-1),r)}function pa(t,e){for(var n="",r=Sw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function TW(t,e,n,r){switch(t.type){case dW:if(t.children.length)break;case cW:case ww:return t.return=t.return||t.value;case yP:return"";case vP:return t.return=t.value+"{"+pa(t.children,r)+"}";case _w:t.value=t.props.join(",")}return Tr(n=pa(t.children,r))?t.return=t.value+"{"+n+"}":""}function IW(t){var e=Sw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function kW(t){return function(e){e.root||(e=e.return)&&t(e)}}function CP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xW=function(e,n,r){for(var i=0,s=0;i=s,s=Br(),i===38&&s===12&&(n[r]=1),!ec(s);)Dn();return Mc(e,kn)},RW=function(e,n){var r=-1,i=44;do switch(ec(i)){case 0:i===38&&Br()===12&&(n[r]=1),e[r]+=xW(kn-1,n,r);break;case 2:e[r]+=Zd(i);break;case 4:if(i===44){e[++r]=Br()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xp(i)}while(i=Dn());return e},NW=function(e,n){return EP(RW(SP(e),n))},LC=new WeakMap,AW=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!LC.get(r))&&!i){LC.set(e,!0);for(var s=[],o=NW(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},PW=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bP(t,e){switch(pW(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+pf+t+Gt+t+t;case 6828:case 4268:return Ce+t+Gt+t+t;case 6165:return Ce+t+Gt+"flex-"+t+t;case 5187:return Ce+t+be(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+Gt+"flex-$1$2")+t;case 5443:return Ce+t+Gt+"flex-item-"+be(t,/flex-|-self/,"")+t;case 4675:return Ce+t+Gt+"flex-line-pack"+be(t,/align-content|flex-|-self/,"")+t;case 5548:return Ce+t+Gt+be(t,"shrink","negative")+t;case 5292:return Ce+t+Gt+be(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+be(t,"-grow","")+Ce+t+Gt+be(t,"grow","positive")+t;case 4554:return Ce+be(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return be(be(be(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return be(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return be(be(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4095:case 3583:case 4068:case 2532:return be(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tr(t)-1-e>6)switch(Ft(t,e+1)){case 109:if(Ft(t,e+4)!==45)break;case 102:return be(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+pf+(Ft(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hv(t,"stretch")?bP(be(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ft(t,e+1)!==115)break;case 6444:switch(Ft(t,Tr(t)-3-(~hv(t,"!important")&&10))){case 107:return be(t,":",":"+Ce)+t;case 101:return be(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(Ft(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Gt+"$2box$3")+t}break;case 5936:switch(Ft(t,e+11)){case 114:return Ce+t+Gt+be(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+Gt+be(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+Gt+be(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ce+t+Gt+t+t}return t}var OW=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ww:e.return=bP(e.value,e.length);break;case vP:return pa([El(e,{value:be(e.value,"@","@"+Ce)})],i);case _w:if(e.length)return gW(e.props,function(s){switch(mW(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pa([El(e,{props:[be(s,/:(read-\w+)/,":"+pf+"$1")]})],i);case"::placeholder":return pa([El(e,{props:[be(s,/:(plac\w+)/,":"+Ce+"input-$1")]}),El(e,{props:[be(s,/:(plac\w+)/,":"+pf+"$1")]}),El(e,{props:[be(s,/:(plac\w+)/,Gt+"input-$1")]})],i)}return""})}},$W=[OW],DW=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||$W,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),g=1;g<S.length;g++)s[S[g]]=!0;a.push(v)});var l,u=[AW,PW];{var c,d=[TW,kW(function(v){c.insert(v)})],h=IW(u.concat(i,d)),f=function(S){return pa(CW(S),h)};l=function(S,g,y,m){c=y,f(S?S+"{"+g.styles+"}":g.styles),m&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new uW({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},TP={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,Ew=$t?Symbol.for("react.element"):60103,Cw=$t?Symbol.for("react.portal"):60106,Ap=$t?Symbol.for("react.fragment"):60107,Pp=$t?Symbol.for("react.strict_mode"):60108,Op=$t?Symbol.for("react.profiler"):60114,$p=$t?Symbol.for("react.provider"):60109,Dp=$t?Symbol.for("react.context"):60110,bw=$t?Symbol.for("react.async_mode"):60111,Mp=$t?Symbol.for("react.concurrent_mode"):60111,Lp=$t?Symbol.for("react.forward_ref"):60112,Fp=$t?Symbol.for("react.suspense"):60113,MW=$t?Symbol.for("react.suspense_list"):60120,Bp=$t?Symbol.for("react.memo"):60115,Up=$t?Symbol.for("react.lazy"):60116,LW=$t?Symbol.for("react.block"):60121,FW=$t?Symbol.for("react.fundamental"):60117,BW=$t?Symbol.for("react.responder"):60118,UW=$t?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case bw:case Mp:case Ap:case Op:case Pp:case Fp:return t;default:switch(t=t&&t.$$typeof,t){case Dp:case Lp:case Up:case Bp:case $p:return t;default:return e}}case Cw:return e}}}function IP(t){return zn(t)===Mp}Ne.AsyncMode=bw;Ne.ConcurrentMode=Mp;Ne.ContextConsumer=Dp;Ne.ContextProvider=$p;Ne.Element=Ew;Ne.ForwardRef=Lp;Ne.Fragment=Ap;Ne.Lazy=Up;Ne.Memo=Bp;Ne.Portal=Cw;Ne.Profiler=Op;Ne.StrictMode=Pp;Ne.Suspense=Fp;Ne.isAsyncMode=function(t){return IP(t)||zn(t)===bw};Ne.isConcurrentMode=IP;Ne.isContextConsumer=function(t){return zn(t)===Dp};Ne.isContextProvider=function(t){return zn(t)===$p};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};Ne.isForwardRef=function(t){return zn(t)===Lp};Ne.isFragment=function(t){return zn(t)===Ap};Ne.isLazy=function(t){return zn(t)===Up};Ne.isMemo=function(t){return zn(t)===Bp};Ne.isPortal=function(t){return zn(t)===Cw};Ne.isProfiler=function(t){return zn(t)===Op};Ne.isStrictMode=function(t){return zn(t)===Pp};Ne.isSuspense=function(t){return zn(t)===Fp};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ap||t===Mp||t===Op||t===Pp||t===Fp||t===MW||typeof t=="object"&&t!==null&&(t.$$typeof===Up||t.$$typeof===Bp||t.$$typeof===$p||t.$$typeof===Dp||t.$$typeof===Lp||t.$$typeof===FW||t.$$typeof===BW||t.$$typeof===UW||t.$$typeof===LW)};Ne.typeOf=zn;TP.exports=Ne;var zW=TP.exports,kP=zW,jW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xP={};xP[kP.ForwardRef]=jW;xP[kP.Memo]=VW;var WW=!0;function RP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Tw=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||WW===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Iw=function(e,n,r){Tw(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function HW(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var qW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},KW=!1,GW=/[A-Z]|^ms/g,QW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NP=function(e){return e.charCodeAt(1)===45},FC=function(e){return e!=null&&typeof e!="boolean"},ug=CP(function(t){return NP(t)?t:t.replace(GW,"-$&").toLowerCase()}),BC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(QW,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return qW[e]!==1&&!NP(e)&&typeof n=="number"&&n!==0?n+"px":n},YW="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function tc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ir={name:i.name,styles:i.styles,next:Ir},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ir={name:o.name,styles:o.styles,next:Ir},o=o.next;var a=s.styles+";";return a}return XW(t,e,n)}case"function":{if(t!==void 0){var l=Ir,u=n(t);return Ir=l,tc(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function XW(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=tc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":FC(a)&&(r+=ug(s)+":"+BC(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&KW)throw new Error(YW);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)FC(o[l])&&(r+=ug(s)+":"+BC(s,o[l])+";");else{var u=tc(t,e,o);switch(s){case"animation":case"animationName":{r+=ug(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var UC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ir;function Lc(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ir=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=tc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=tc(n,e,t[a]),r){var l=s;i+=l[a]}UC.lastIndex=0;for(var u="",c;(c=UC.exec(i))!==null;)u+="-"+c[1];var d=HW(i)+u;return{name:d,styles:i,next:Ir}}var JW=function(e){return e()},AP=_g.useInsertionEffect?_g.useInsertionEffect:!1,PP=AP||JW,zC=AP||E.useLayoutEffect,ZW=!1,OP=E.createContext(typeof HTMLElement<"u"?DW({key:"css"}):null);OP.Provider;var kw=function(e){return E.forwardRef(function(n,r){var i=E.useContext(OP);return e(n,i,r)})},zp=E.createContext({}),xw={}.hasOwnProperty,pv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eH=function(e,n){var r={};for(var i in n)xw.call(n,i)&&(r[i]=n[i]);return r[pv]=e,r},tH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Tw(n,r,i),PP(function(){return Iw(n,r,i)}),null},nH=kw(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[pv],s=[r],o="";typeof t.className=="string"?o=RP(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Lc(s,void 0,E.useContext(zp));o+=e.key+"-"+a.name;var l={};for(var u in t)xw.call(t,u)&&u!=="css"&&u!==pv&&!ZW&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),E.createElement(E.Fragment,null,E.createElement(tH,{cache:e,serialized:a,isStringTag:typeof i=="string"}),E.createElement(i,l))}),rH=nH,jC=function(e,n){var r=arguments;if(n==null||!xw.call(n,"css"))return E.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=rH,s[1]=eH(e,n);for(var o=2;o<i;o++)s[o]=r[o];return E.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(jC||(jC={}));var iH=kw(function(t,e){var n=t.styles,r=Lc([n],void 0,E.useContext(zp)),i=E.useRef();return zC(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),zC(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&Iw(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function sH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Lc(e)}function Rw(){var t=sH.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var oH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aH=CP(function(t){return oH.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),lH=!1,uH=aH,cH=function(e){return e!=="theme"},VC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?uH:cH},WC=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},dH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Tw(n,r,i),PP(function(){return Iw(n,r,i)}),null},hH=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=WC(e,n,r),l=a||VC(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var h=c[0];d.push(h[0]);for(var f=c.length,p=1;p<f;p++)d.push(c[p],h[p])}var v=kw(function(S,g,y){var m=u&&S.as||i,w="",b=[],C=S;if(S.theme==null){C={};for(var T in S)C[T]=S[T];C.theme=E.useContext(zp)}typeof S.className=="string"?w=RP(g.registered,b,S.className):S.className!=null&&(w=S.className+" ");var k=Lc(d.concat(b),g.registered,C);w+=g.key+"-"+k.name,o!==void 0&&(w+=" "+o);var N=u&&a===void 0?VC(m):l,_={};for(var x in S)u&&x==="as"||N(x)&&(_[x]=S[x]);return _.className=w,y&&(_.ref=y),E.createElement(E.Fragment,null,E.createElement(dH,{cache:g,serialized:k,isStringTag:typeof m=="string"}),E.createElement(m,_))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=d,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return o===void 0&&lH?"NO_COMPONENT_SELECTOR":"."+o}}),v.withComponent=function(S,g){var y=t(S,ff({},n,g,{shouldForwardProp:WC(v,g,!0)}));return y.apply(void 0,d)},v}},fH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mv=hH.bind(null);fH.forEach(function(t){mv[t]=mv(t)});function pH(t){return t==null||Object.keys(t).length===0}function mH(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(pH(i)?n:i):e;return I.jsx(iH,{styles:r})}/**
 * @mui/styled-engine v6.3.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $P(t,e){return mv(t,e)}function gH(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const HC=[];function qC(t){return HC[0]=t,Lc(HC)}function Ar(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function DP(t){if(E.isValidElement(t)||!Ar(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=DP(t[n])}),e}function nn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ar(t)&&Ar(e)&&Object.keys(e).forEach(i=>{E.isValidElement(e[i])?r[i]=e[i]:Ar(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ar(t[i])?r[i]=nn(t[i],e[i],n):n.clone?r[i]=Ar(e[i])?DP(e[i]):e[i]:r[i]=e[i]}),r}const yH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function vH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=yH(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function _H(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function wH(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function SH(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function EH(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const CH={borderRadius:4};function ou(t,e){return e?nn(t,e,{clone:!1}):t}const jp={xs:0,sm:600,md:900,lg:1200,xl:1536},KC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${jp[t]}px)`},bH={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:jp[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function gi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||KC;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||KC;return Object.keys(e).reduce((o,a)=>{if(wH(s.keys,a)){const l=SH(r.containerQueries?r:bH,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||jp).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function TH(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function IH(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function K(t){if(typeof t!="string")throw new Error(mi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Vp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function mf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Vp(t,n)||r,e&&(i=e(i,r,t)),i}function ct(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Vp(l,r)||{};return gi(o,a,d=>{let h=mf(u,i,d);return d===h&&typeof d=="string"&&(h=mf(u,i,`${e}${d==="default"?"":K(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function kH(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const xH={m:"margin",p:"padding"},RH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},NH=kH(t=>{if(t.length>2)if(GC[t])t=GC[t];else return[t];const[e,n]=t.split(""),r=xH[e],i=RH[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Nw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Aw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Nw,...Aw];function Fc(t,e,n,r){const i=Vp(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Pw(t){return Fc(t,"spacing",8)}function Bc(t,e){return typeof e=="string"||e==null?e:t(e)}function AH(t,e){return n=>t.reduce((r,i)=>(r[i]=Bc(e,n),r),{})}function PH(t,e,n,r){if(!e.includes(n))return null;const i=NH(n),s=AH(i,r),o=t[n];return gi(t,o,s)}function MP(t,e){const n=Pw(t.theme);return Object.keys(t).map(r=>PH(t,e,r,n)).reduce(ou,{})}function it(t){return MP(t,Nw)}it.propTypes={};it.filterProps=Nw;function st(t){return MP(t,Aw)}st.propTypes={};st.filterProps=Aw;function LP(t=8,e=Pw({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Wp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?ou(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function qn(t){return typeof t!="number"?t:`${t}px solid`}function rr(t,e){return ct({prop:t,themeKey:"borders",transform:e})}const OH=rr("border",qn),$H=rr("borderTop",qn),DH=rr("borderRight",qn),MH=rr("borderBottom",qn),LH=rr("borderLeft",qn),FH=rr("borderColor"),BH=rr("borderTopColor"),UH=rr("borderRightColor"),zH=rr("borderBottomColor"),jH=rr("borderLeftColor"),VH=rr("outline",qn),WH=rr("outlineColor"),Hp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Fc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Bc(e,r)});return gi(t,t.borderRadius,n)}return null};Hp.propTypes={};Hp.filterProps=["borderRadius"];Wp(OH,$H,DH,MH,LH,FH,BH,UH,zH,jH,Hp,VH,WH);const qp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({gap:Bc(e,r)});return gi(t,t.gap,n)}return null};qp.propTypes={};qp.filterProps=["gap"];const Kp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({columnGap:Bc(e,r)});return gi(t,t.columnGap,n)}return null};Kp.propTypes={};Kp.filterProps=["columnGap"];const Gp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({rowGap:Bc(e,r)});return gi(t,t.rowGap,n)}return null};Gp.propTypes={};Gp.filterProps=["rowGap"];const HH=ct({prop:"gridColumn"}),qH=ct({prop:"gridRow"}),KH=ct({prop:"gridAutoFlow"}),GH=ct({prop:"gridAutoColumns"}),QH=ct({prop:"gridAutoRows"}),YH=ct({prop:"gridTemplateColumns"}),XH=ct({prop:"gridTemplateRows"}),JH=ct({prop:"gridTemplateAreas"}),ZH=ct({prop:"gridArea"});Wp(qp,Kp,Gp,HH,qH,KH,GH,QH,YH,XH,JH,ZH);function ma(t,e){return e==="grey"?e:t}const e8=ct({prop:"color",themeKey:"palette",transform:ma}),t8=ct({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ma}),n8=ct({prop:"backgroundColor",themeKey:"palette",transform:ma});Wp(e8,t8,n8);function An(t){return t<=1&&t!==0?`${t*100}%`:t}const r8=ct({prop:"width",transform:An}),Ow=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||jp[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:An(n)}};return gi(t,t.maxWidth,e)}return null};Ow.filterProps=["maxWidth"];const i8=ct({prop:"minWidth",transform:An}),s8=ct({prop:"height",transform:An}),o8=ct({prop:"maxHeight",transform:An}),a8=ct({prop:"minHeight",transform:An});ct({prop:"size",cssProperty:"width",transform:An});ct({prop:"size",cssProperty:"height",transform:An});const l8=ct({prop:"boxSizing"});Wp(r8,Ow,i8,s8,o8,a8,l8);const Uc={border:{themeKey:"borders",transform:qn},borderTop:{themeKey:"borders",transform:qn},borderRight:{themeKey:"borders",transform:qn},borderBottom:{themeKey:"borders",transform:qn},borderLeft:{themeKey:"borders",transform:qn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hp},color:{themeKey:"palette",transform:ma},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ma},backgroundColor:{themeKey:"palette",transform:ma},p:{style:st},pt:{style:st},pr:{style:st},pb:{style:st},pl:{style:st},px:{style:st},py:{style:st},padding:{style:st},paddingTop:{style:st},paddingRight:{style:st},paddingBottom:{style:st},paddingLeft:{style:st},paddingX:{style:st},paddingY:{style:st},paddingInline:{style:st},paddingInlineStart:{style:st},paddingInlineEnd:{style:st},paddingBlock:{style:st},paddingBlockStart:{style:st},paddingBlockEnd:{style:st},m:{style:it},mt:{style:it},mr:{style:it},mb:{style:it},ml:{style:it},mx:{style:it},my:{style:it},margin:{style:it},marginTop:{style:it},marginRight:{style:it},marginBottom:{style:it},marginLeft:{style:it},marginX:{style:it},marginY:{style:it},marginInline:{style:it},marginInlineStart:{style:it},marginInlineEnd:{style:it},marginBlock:{style:it},marginBlockStart:{style:it},marginBlockEnd:{style:it},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qp},rowGap:{style:Gp},columnGap:{style:Kp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:An},maxWidth:{style:Ow},minWidth:{transform:An},height:{transform:An},maxHeight:{transform:An},minHeight:{transform:An},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function u8(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function c8(t,e){return typeof t=="function"?t(e):t}function d8(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Vp(i,u)||{};return d?d(o):gi(o,r,p=>{let v=mf(h,c,p);return p===v&&typeof p=="string"&&(v=mf(h,c,`${n}${p==="default"?"":K(p)}`,p)),l===!1?v:{[l]:v}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Uc;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=TH(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(h=>{const f=c8(l[h],i);if(f!=null)if(typeof f=="object")if(s[h])d=ou(d,t(h,f,i,s));else{const p=gi({theme:i},f,v=>({[h]:v}));u8(p,f)?d[h]=e({sx:f,theme:i}):d=ou(d,p)}else d=ou(d,t(h,f,i,s))}),_H(i,IH(c,d))}return Array.isArray(r)?r.map(o):o(r)}return e}const ro=d8();ro.filterProps=["sx"];function h8(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function $w(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=vH(n),l=LP(i);let u=nn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...CH,...s}},o);return u=EH(u),u.applyStyles=h8,u=e.reduce((c,d)=>nn(c,d),u),u.unstable_sxConfig={...Uc,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(d){return ro({sx:d,theme:this})},u}function f8(t){return Object.keys(t).length===0}function p8(t=null){const e=E.useContext(zp);return!e||f8(e)?t:e}const m8=$w();function Dw(t=m8){return p8(t)}function g8({styles:t,themeId:e,defaultTheme:n={}}){const r=Dw(n),i=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(mH,{styles:i})}const y8=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Uc;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function FP(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=y8(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ar(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const QC=t=>t,v8=()=>{let t=QC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=QC}}},BP=v8();function UP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UP(t))&&(r&&(r+=" "),r+=e);return r}function _8(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=$P("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ro);return E.forwardRef(function(l,u){const c=Dw(n),{className:d,component:h="div",...f}=FP(l);return I.jsx(s,{as:h,ref:u,className:ie(d,i?i(r):r),theme:e&&c[e]||c,...f})})}const w8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ae(t,e,n="Mui"){const r=w8[e];return r?`${n}-${r}`:`${BP.generate(t)}-${e}`}function ke(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ae(t,i,n)}),r}function zP(t){const{variants:e,...n}=t,r={variants:e,style:qC(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=qC(i.style))}),r}const S8=$w();function cg(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function E8(t){return t?(e,n)=>n[t]:null}function C8(t,e,n){t.theme=I8(t.theme)?n:t.theme[e]||t.theme}function th(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>th(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return jP(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function jP(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function b8(t={}){const{themeId:e,defaultTheme:n=S8,rootShouldForwardProp:r=cg,slotShouldForwardProp:i=cg}=t;function s(a){C8(a,e,n)}return(a,l={})=>{gH(a,b=>b.filter(C=>C!==ro));const{name:u,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:f=E8(x8(c)),...p}=l,v=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,S=h||!1;let g=cg;c==="Root"||c==="root"?g=r:c?g=i:k8(a)&&(g=void 0);const y=$P(a,{shouldForwardProp:g,label:T8(),...p}),m=b=>{if(typeof b=="function"&&b.__emotion_real!==b)return function(T){return th(T,b)};if(Ar(b)){const C=zP(b);return C.variants?function(k){return th(k,C)}:C.style}return b},w=(...b)=>{const C=[],T=b.map(m),k=[];if(C.push(s),u&&f&&k.push(function(L){var z,q;const B=(q=(z=L.theme.components)==null?void 0:z[u])==null?void 0:q.styleOverrides;if(!B)return null;const O={};for(const P in B)O[P]=th(L,B[P]);return f(L,O)}),u&&!v&&k.push(function(L){var O,z;const F=L.theme,B=(z=(O=F==null?void 0:F.components)==null?void 0:O[u])==null?void 0:z.variants;return B?jP(L,B):null}),S||k.push(ro),Array.isArray(T[0])){const x=T.shift(),L=new Array(C.length).fill(""),F=new Array(k.length).fill("");let B;B=[...L,...x,...F],B.raw=[...L,...x.raw,...F],C.unshift(B)}const N=[...C,...T,...k],_=y(...N);return a.muiName&&(_.muiName=a.muiName),_};return y.withConfig&&(w.withConfig=y.withConfig),w}}function T8(t,e){return void 0}function I8(t){for(const e in t)return!1;return!0}function k8(t){return typeof t=="string"&&t.charCodeAt(0)>96}function x8(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function nc(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=nc(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const io=typeof window<"u"?E.useLayoutEffect:E.useEffect;function R8(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function Mw(t,e=0,n=1){return R8(t,e,n)}function N8(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function rs(t){if(t.type)return t;if(t.charAt(0)==="#")return rs(N8(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(mi(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(mi(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const A8=t=>{const e=rs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ml=(t,e)=>{try{return A8(t)}catch{return t}};function Qp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function VP(t){t=rs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Qp({type:a,values:l})}function gv(t){t=rs(t);let e=t.type==="hsl"||t.type==="hsla"?rs(VP(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function P8(t,e){const n=gv(t),r=gv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function xt(t,e){return t=rs(t),e=Mw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Qp(t)}function Ed(t,e,n){try{return xt(t,e)}catch{return t}}function Lw(t,e){if(t=rs(t),e=Mw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Qp(t)}function $e(t,e,n){try{return Lw(t,e)}catch{return t}}function Fw(t,e){if(t=rs(t),e=Mw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Qp(t)}function De(t,e,n){try{return Fw(t,e)}catch{return t}}function O8(t,e=.15){return gv(t)>.5?Lw(t,e):Fw(t,e)}function Cd(t,e,n){try{return O8(t,e)}catch{return t}}function YC(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function WP(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function dg(t,e){var n,r,i;return E.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function vr(t){return t&&t.ownerDocument||document}function yi(t){return vr(t).defaultView||window}function yv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let XC=0;function $8(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(XC+=1,n(`mui-${XC}`))},[e]),r}const D8={..._g},JC=D8.useId;function HP(t){if(JC!==void 0){const e=JC();return t??e}return $8(t)}function vv({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(u=>{i||o(u)},[]);return[a,l]}function ga(t){const e=E.useRef(t);return io(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function an(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{yv(n,e)})},t)}const ZC={};function qP(t,e){const n=E.useRef(ZC);return n.current===ZC&&(n.current=t(e)),n}const M8=[];function L8(t){E.useEffect(t,M8)}class Bw{constructor(){al(this,"currentId",null);al(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});al(this,"disposeEffect",()=>this.clear)}static create(){return new Bw}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function KP(){const t=qP(Bw.create).current;return L8(t.disposeEffect),t}function eb(t){try{return t.matches(":focus-visible")}catch{}return!1}function GP(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function QP(t){return E.Children.toArray(t).filter(e=>E.isValidElement(e))}function Pe(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}function F8(t){return typeof t=="string"}function YP(t,e,n){return t===void 0||F8(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function XP(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function tb(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function JP(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=ie(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...n,...i,...r};return f.length>0&&(v.className=f),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:void 0}}const o=XP({...i,...r}),a=tb(r),l=tb(i),u=e(o),c=ie(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...u,...n,...l,...a};return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}function ZP(t,e,n){return typeof t=="function"?t(e,n):t}function nb(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:ZP(n,r),{props:a,internalRef:l}=JP({...s,externalSlotProps:o}),u=an(l,o==null?void 0:o.ref,(d=t.additionalProps)==null?void 0:d.ref);return YP(e,{...a,ref:u},r)}function zc(t){var e;return parseInt(E.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const B8=E.createContext(),U8=()=>E.useContext(B8)??!1,z8=E.createContext(void 0);function j8(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?nc(i.defaultProps,r):!i.styleOverrides&&!i.variants?nc(i,r):r}function V8({props:t,name:e}){const n=E.useContext(z8);return j8({props:t,name:e,theme:{components:n}})}const rb={theme:void 0};function W8(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(rb.theme=i.theme,s=zP(t(rb)),e=s,n=i.theme),s}}function H8(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const ib=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},q8=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},K8=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function hg(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return q8(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=K8(a,l);Object.assign(i,{[c]:d}),ib(s,a,`var(${c})`,u),ib(o,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function G8(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=hg(l,e);let h=d;const f={},{[a]:p,...v}=s;if(Object.entries(v||{}).forEach(([m,w])=>{const{vars:b,css:C,varsWithDefaults:T}=hg(w,e);h=nn(h,T),f[m]={css:C,vars:b}}),p){const{css:m,vars:w,varsWithDefaults:b}=hg(p,e);h=nn(h,b),f[a]={css:m,vars:w}}function S(m,w){var C,T;let b=i;if(i==="class"&&(b=".%s"),i==="data"&&(b="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(b=`[${i}="%s"]`),m){if(b==="media")return t.defaultColorScheme===m?":root":{[`@media (prefers-color-scheme: ${((T=(C=s[m])==null?void 0:C.palette)==null?void 0:T.mode)||m})`]:{":root":w}};if(b)return t.defaultColorScheme===m?`:root, ${b.replace("%s",String(m))}`:b.replace("%s",String(m))}return":root"}return{vars:h,generateThemeVars:()=>{let m={...u};return Object.entries(f).forEach(([,{vars:w}])=>{m=nn(m,w)}),m},generateStyleSheets:()=>{var k,N;const m=[],w=t.defaultColorScheme||"light";function b(_,x){Object.keys(x).length&&m.push(typeof _=="string"?{[_]:{...x}}:_)}b(n(void 0,{...c}),c);const{[w]:C,...T}=f;if(C){const{css:_}=C,x=(N=(k=s[w])==null?void 0:k.palette)==null?void 0:N.mode,L=!r&&x?{colorScheme:x,..._}:{..._};b(n(w,{...L}),L)}return Object.entries(T).forEach(([_,{css:x}])=>{var B,O;const L=(O=(B=s[_])==null?void 0:B.palette)==null?void 0:O.mode,F=!r&&L?{colorScheme:L,...x}:{...x};b(n(_,{...F}),F)}),m}}}function Q8(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Yp="$$material",rc={black:"#000",white:"#fff"},Y8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},To={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Io={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Cl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ko={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ro={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function eO(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rc.white,default:rc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const X8=eO();function tO(){return{text:{primary:rc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const sb=tO();function ob(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Fw(t.main,i):e==="dark"&&(t.dark=Lw(t.main,s)))}function J8(t="light"){return t==="dark"?{main:ko[200],light:ko[50],dark:ko[400]}:{main:ko[700],light:ko[400],dark:ko[800]}}function Z8(t="light"){return t==="dark"?{main:To[200],light:To[50],dark:To[400]}:{main:To[500],light:To[300],dark:To[700]}}function e7(t="light"){return t==="dark"?{main:Io[500],light:Io[300],dark:Io[700]}:{main:Io[700],light:Io[400],dark:Io[800]}}function t7(t="light"){return t==="dark"?{main:xo[400],light:xo[300],dark:xo[700]}:{main:xo[700],light:xo[500],dark:xo[900]}}function n7(t="light"){return t==="dark"?{main:Ro[400],light:Ro[300],dark:Ro[700]}:{main:Ro[800],light:Ro[500],dark:Ro[900]}}function r7(t="light"){return t==="dark"?{main:Cl[400],light:Cl[300],dark:Cl[700]}:{main:"#ed6c02",light:Cl[500],dark:Cl[900]}}function Uw(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||J8(e),o=t.secondary||Z8(e),a=t.error||e7(e),l=t.info||t7(e),u=t.success||n7(e),c=t.warning||r7(e);function d(v){return P8(v,sb.text.primary)>=n?sb.text.primary:X8.text.primary}const h=({color:v,name:S,mainShade:g=500,lightShade:y=300,darkShade:m=700})=>{if(v={...v},!v.main&&v[g]&&(v.main=v[g]),!v.hasOwnProperty("main"))throw new Error(mi(11,S?` (${S})`:"",g));if(typeof v.main!="string")throw new Error(mi(12,S?` (${S})`:"",JSON.stringify(v.main)));return ob(v,"light",y,r),ob(v,"dark",m,r),v.contrastText||(v.contrastText=d(v.main)),v};let f;return e==="light"?f=eO():e==="dark"&&(f=tO()),nn({common:{...rc},mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:Y8,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...f},i)}function i7(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function s7(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function o7(t){return Math.round(t*1e5)/1e5}const ab={textTransform:"uppercase"},lb='"Roboto", "Helvetica", "Arial", sans-serif';function a7(t,e){const{fontFamily:n=lb,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,h=r/14,f=c||(S=>`${S/l*h}rem`),p=(S,g,y,m,w)=>({fontFamily:n,fontWeight:S,fontSize:f(g),lineHeight:y,...n===lb?{letterSpacing:`${o7(m/g)}em`}:{},...w,...u}),v={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(o,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(o,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(o,14,1.75,.4,ab),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,ab),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return nn({htmlFontSize:l,pxToRem:f,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...v},d,{clone:!1})}const l7=.2,u7=.14,c7=.12;function Qe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${l7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${u7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${c7})`].join(",")}const d7=["none",Qe(0,2,1,-1,0,1,1,0,0,1,3,0),Qe(0,3,1,-2,0,2,2,0,0,1,5,0),Qe(0,3,3,-2,0,3,4,0,0,1,8,0),Qe(0,2,4,-1,0,4,5,0,0,1,10,0),Qe(0,3,5,-1,0,5,8,0,0,1,14,0),Qe(0,3,5,-1,0,6,10,0,0,1,18,0),Qe(0,4,5,-2,0,7,10,1,0,2,16,1),Qe(0,5,5,-3,0,8,10,1,0,3,14,2),Qe(0,5,6,-3,0,9,12,1,0,3,16,2),Qe(0,6,6,-3,0,10,14,1,0,4,18,3),Qe(0,6,7,-4,0,11,15,1,0,4,20,3),Qe(0,7,8,-4,0,12,17,2,0,5,22,4),Qe(0,7,8,-4,0,13,19,2,0,5,24,4),Qe(0,7,9,-4,0,14,21,2,0,5,26,4),Qe(0,8,9,-5,0,15,22,2,0,6,28,5),Qe(0,8,10,-5,0,16,24,2,0,6,30,5),Qe(0,8,11,-5,0,17,26,2,0,6,32,5),Qe(0,9,11,-5,0,18,28,2,0,7,34,6),Qe(0,9,12,-6,0,19,29,2,0,7,36,6),Qe(0,10,13,-6,0,20,31,3,0,8,38,7),Qe(0,10,13,-6,0,21,33,3,0,8,40,7),Qe(0,10,14,-6,0,22,35,3,0,8,42,7),Qe(0,11,14,-7,0,23,36,3,0,9,44,8),Qe(0,11,15,-7,0,24,38,3,0,9,46,8)],h7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},f7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ub(t){return`${Math.round(t)}ms`}function p7(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function m7(t){const e={...h7,...t.easing},n={...f7,...t.duration};return{getAutoHeightDuration:p7,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:ub(o)} ${a} ${typeof l=="string"?l:ub(l)}`).join(",")},...t,easing:e,duration:n}}const g7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function y7(t){return Ar(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function nO(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!y7(a)||o.startsWith("unstable_")?delete r[o]:Ar(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _v(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(mi(20));const c=Uw(s),d=$w(t);let h=nn(d,{mixins:s7(d.breakpoints,r),palette:c,shadows:d7.slice(),typography:a7(c,a),transitions:m7(o),zIndex:{...g7}});return h=nn(h,u),h=e.reduce((f,p)=>nn(f,p),h),h.unstable_sxConfig={...Uc,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(p){return ro({sx:p,theme:this})},h.toRuntimeSource=nO,h}function wv(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const v7=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=wv(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function rO(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function iO(t){return t==="dark"?v7:[]}function _7(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Uw(e);return{palette:s,opacity:{...rO(s.mode),...n},overlays:r||iO(s.mode),...i}}function w7(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const S7=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],E7=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return S7(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function C7(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function R(t,e,n){!t[e]&&n&&(t[e]=n)}function Ll(t){return typeof t!="string"||!t.startsWith("hsl")?t:VP(t)}function qr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Ml(Ll(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function b7(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Er=t=>{try{return t()}catch{}},T7=(t="mui")=>H8(t);function fg(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=_7({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=_v({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...rO(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||iO(i)},o}function I7(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=w7,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),h=T7(s),{[d]:f,light:p,dark:v,...S}=n,g={...S};let y=f;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(y=!0),!y)throw new Error(mi(21,d));const m=fg(g,y,u,d);p&&!g.light&&fg(g,p,void 0,"light"),v&&!g.dark&&fg(g,v,void 0,"dark");let w={defaultColorScheme:d,...m,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:g,font:{...i7(m.typography),...m.font},spacing:b7(u.spacing)};Object.keys(w.colorSchemes).forEach(N=>{const _=w.colorSchemes[N].palette,x=L=>{const F=L.split("-"),B=F[1],O=F[2];return h(L,_[B][O])};if(_.mode==="light"&&(R(_.common,"background","#fff"),R(_.common,"onBackground","#000")),_.mode==="dark"&&(R(_.common,"background","#000"),R(_.common,"onBackground","#fff")),C7(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){R(_.Alert,"errorColor",$e(_.error.light,.6)),R(_.Alert,"infoColor",$e(_.info.light,.6)),R(_.Alert,"successColor",$e(_.success.light,.6)),R(_.Alert,"warningColor",$e(_.warning.light,.6)),R(_.Alert,"errorFilledBg",x("palette-error-main")),R(_.Alert,"infoFilledBg",x("palette-info-main")),R(_.Alert,"successFilledBg",x("palette-success-main")),R(_.Alert,"warningFilledBg",x("palette-warning-main")),R(_.Alert,"errorFilledColor",Er(()=>_.getContrastText(_.error.main))),R(_.Alert,"infoFilledColor",Er(()=>_.getContrastText(_.info.main))),R(_.Alert,"successFilledColor",Er(()=>_.getContrastText(_.success.main))),R(_.Alert,"warningFilledColor",Er(()=>_.getContrastText(_.warning.main))),R(_.Alert,"errorStandardBg",De(_.error.light,.9)),R(_.Alert,"infoStandardBg",De(_.info.light,.9)),R(_.Alert,"successStandardBg",De(_.success.light,.9)),R(_.Alert,"warningStandardBg",De(_.warning.light,.9)),R(_.Alert,"errorIconColor",x("palette-error-main")),R(_.Alert,"infoIconColor",x("palette-info-main")),R(_.Alert,"successIconColor",x("palette-success-main")),R(_.Alert,"warningIconColor",x("palette-warning-main")),R(_.AppBar,"defaultBg",x("palette-grey-100")),R(_.Avatar,"defaultBg",x("palette-grey-400")),R(_.Button,"inheritContainedBg",x("palette-grey-300")),R(_.Button,"inheritContainedHoverBg",x("palette-grey-A100")),R(_.Chip,"defaultBorder",x("palette-grey-400")),R(_.Chip,"defaultAvatarColor",x("palette-grey-700")),R(_.Chip,"defaultIconColor",x("palette-grey-700")),R(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),R(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),R(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),R(_.LinearProgress,"primaryBg",De(_.primary.main,.62)),R(_.LinearProgress,"secondaryBg",De(_.secondary.main,.62)),R(_.LinearProgress,"errorBg",De(_.error.main,.62)),R(_.LinearProgress,"infoBg",De(_.info.main,.62)),R(_.LinearProgress,"successBg",De(_.success.main,.62)),R(_.LinearProgress,"warningBg",De(_.warning.main,.62)),R(_.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),R(_.Slider,"primaryTrack",De(_.primary.main,.62)),R(_.Slider,"secondaryTrack",De(_.secondary.main,.62)),R(_.Slider,"errorTrack",De(_.error.main,.62)),R(_.Slider,"infoTrack",De(_.info.main,.62)),R(_.Slider,"successTrack",De(_.success.main,.62)),R(_.Slider,"warningTrack",De(_.warning.main,.62));const L=Cd(_.background.default,.8);R(_.SnackbarContent,"bg",L),R(_.SnackbarContent,"color",Er(()=>_.getContrastText(L))),R(_.SpeedDialAction,"fabHoverBg",Cd(_.background.paper,.15)),R(_.StepConnector,"border",x("palette-grey-400")),R(_.StepContent,"border",x("palette-grey-400")),R(_.Switch,"defaultColor",x("palette-common-white")),R(_.Switch,"defaultDisabledColor",x("palette-grey-100")),R(_.Switch,"primaryDisabledColor",De(_.primary.main,.62)),R(_.Switch,"secondaryDisabledColor",De(_.secondary.main,.62)),R(_.Switch,"errorDisabledColor",De(_.error.main,.62)),R(_.Switch,"infoDisabledColor",De(_.info.main,.62)),R(_.Switch,"successDisabledColor",De(_.success.main,.62)),R(_.Switch,"warningDisabledColor",De(_.warning.main,.62)),R(_.TableCell,"border",De(Ed(_.divider,1),.88)),R(_.Tooltip,"bg",Ed(_.grey[700],.92))}if(_.mode==="dark"){R(_.Alert,"errorColor",De(_.error.light,.6)),R(_.Alert,"infoColor",De(_.info.light,.6)),R(_.Alert,"successColor",De(_.success.light,.6)),R(_.Alert,"warningColor",De(_.warning.light,.6)),R(_.Alert,"errorFilledBg",x("palette-error-dark")),R(_.Alert,"infoFilledBg",x("palette-info-dark")),R(_.Alert,"successFilledBg",x("palette-success-dark")),R(_.Alert,"warningFilledBg",x("palette-warning-dark")),R(_.Alert,"errorFilledColor",Er(()=>_.getContrastText(_.error.dark))),R(_.Alert,"infoFilledColor",Er(()=>_.getContrastText(_.info.dark))),R(_.Alert,"successFilledColor",Er(()=>_.getContrastText(_.success.dark))),R(_.Alert,"warningFilledColor",Er(()=>_.getContrastText(_.warning.dark))),R(_.Alert,"errorStandardBg",$e(_.error.light,.9)),R(_.Alert,"infoStandardBg",$e(_.info.light,.9)),R(_.Alert,"successStandardBg",$e(_.success.light,.9)),R(_.Alert,"warningStandardBg",$e(_.warning.light,.9)),R(_.Alert,"errorIconColor",x("palette-error-main")),R(_.Alert,"infoIconColor",x("palette-info-main")),R(_.Alert,"successIconColor",x("palette-success-main")),R(_.Alert,"warningIconColor",x("palette-warning-main")),R(_.AppBar,"defaultBg",x("palette-grey-900")),R(_.AppBar,"darkBg",x("palette-background-paper")),R(_.AppBar,"darkColor",x("palette-text-primary")),R(_.Avatar,"defaultBg",x("palette-grey-600")),R(_.Button,"inheritContainedBg",x("palette-grey-800")),R(_.Button,"inheritContainedHoverBg",x("palette-grey-700")),R(_.Chip,"defaultBorder",x("palette-grey-700")),R(_.Chip,"defaultAvatarColor",x("palette-grey-300")),R(_.Chip,"defaultIconColor",x("palette-grey-300")),R(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),R(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),R(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),R(_.LinearProgress,"primaryBg",$e(_.primary.main,.5)),R(_.LinearProgress,"secondaryBg",$e(_.secondary.main,.5)),R(_.LinearProgress,"errorBg",$e(_.error.main,.5)),R(_.LinearProgress,"infoBg",$e(_.info.main,.5)),R(_.LinearProgress,"successBg",$e(_.success.main,.5)),R(_.LinearProgress,"warningBg",$e(_.warning.main,.5)),R(_.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),R(_.Slider,"primaryTrack",$e(_.primary.main,.5)),R(_.Slider,"secondaryTrack",$e(_.secondary.main,.5)),R(_.Slider,"errorTrack",$e(_.error.main,.5)),R(_.Slider,"infoTrack",$e(_.info.main,.5)),R(_.Slider,"successTrack",$e(_.success.main,.5)),R(_.Slider,"warningTrack",$e(_.warning.main,.5));const L=Cd(_.background.default,.98);R(_.SnackbarContent,"bg",L),R(_.SnackbarContent,"color",Er(()=>_.getContrastText(L))),R(_.SpeedDialAction,"fabHoverBg",Cd(_.background.paper,.15)),R(_.StepConnector,"border",x("palette-grey-600")),R(_.StepContent,"border",x("palette-grey-600")),R(_.Switch,"defaultColor",x("palette-grey-300")),R(_.Switch,"defaultDisabledColor",x("palette-grey-600")),R(_.Switch,"primaryDisabledColor",$e(_.primary.main,.55)),R(_.Switch,"secondaryDisabledColor",$e(_.secondary.main,.55)),R(_.Switch,"errorDisabledColor",$e(_.error.main,.55)),R(_.Switch,"infoDisabledColor",$e(_.info.main,.55)),R(_.Switch,"successDisabledColor",$e(_.success.main,.55)),R(_.Switch,"warningDisabledColor",$e(_.warning.main,.55)),R(_.TableCell,"border",$e(Ed(_.divider,1),.68)),R(_.Tooltip,"bg",Ed(_.grey[700],.92))}qr(_.background,"default"),qr(_.background,"paper"),qr(_.common,"background"),qr(_.common,"onBackground"),qr(_,"divider"),Object.keys(_).forEach(L=>{const F=_[L];L!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&R(_[L],"mainChannel",Ml(Ll(F.main))),F.light&&R(_[L],"lightChannel",Ml(Ll(F.light))),F.dark&&R(_[L],"darkChannel",Ml(Ll(F.dark))),F.contrastText&&R(_[L],"contrastTextChannel",Ml(Ll(F.contrastText))),L==="text"&&(qr(_[L],"primary"),qr(_[L],"secondary")),L==="action"&&(F.active&&qr(_[L],"active"),F.selected&&qr(_[L],"selected")))})}),w=e.reduce((N,_)=>nn(N,_),w);const b={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:E7(w)},{vars:C,generateThemeVars:T,generateStyleSheets:k}=G8(w,b);return w.vars=C,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach(([N,_])=>{w[N]=_}),w.generateThemeVars=T,w.generateStyleSheets=k,w.generateSpacing=function(){return LP(u.spacing,Pw(this))},w.getColorSchemeSelector=Q8(a),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=o,w.unstable_sxConfig={...Uc,...u==null?void 0:u.unstable_sxConfig},w.unstable_sx=function(_){return ro({sx:_,theme:this})},w.toRuntimeSource=nO,w}function cb(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Uw({...n===!0?{}:n.palette,mode:e})})}function sO(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return _v(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=_v({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},cb(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},cb(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),I7({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const zw=sO();function jw(){const t=Dw(zw);return t[Yp]||t}function oO(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jn=t=>oO(t)&&t!=="classes",G=b8({themeId:Yp,defaultTheme:zw,rootShouldForwardProp:jn}),k7=ke("MuiBox",["root"]),x7=sO(),Ii=_8({themeId:Yp,defaultTheme:x7,defaultClassName:k7.root,generateClassName:BP.generate});function R7(t){return I.jsx(g8,{...t,defaultTheme:zw,themeId:Yp})}function N7(t){return function(n){return I.jsx(R7,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function A7(){return FP}function Le(t){return V8(t)}class gf{constructor(){al(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new gf}static use(){const e=qP(gf.create).current,[n,r]=E.useState(!1);return e.shouldMount=n,e.setShouldMount=r,E.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=O7(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function P7(){return gf.use()}function O7(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function aO(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sv(t,e)}function lO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sv(t,e)}const db={disabled:!1},yf=Qn.createContext(null);var $7=function(e){return e.scrollTop},Fl="unmounted",ws="exited",Ss="entering",Do="entered",Ev="exiting",Hr=function(t){lO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ws,s.appearStatus=Ss):l=Do:r.unmountOnExit||r.mountOnEnter?l=Fl:l=ws,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Fl?{status:ws}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ss&&o!==Do&&(s=Ss):(o===Ss||o===Do)&&(s=Ev)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ss){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this);o&&$7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ws&&this.setState({status:Fl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[od.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||db.disabled){this.safeSetState({status:Do},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ss},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Do},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:od.findDOMNode(this);if(!s||db.disabled){this.safeSetState({status:ws},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ev},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ws},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:od.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=aO(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qn.createElement(yf.Provider,{value:null},typeof o=="function"?o(i,a):Qn.cloneElement(Qn.Children.only(o),a))},e}(Qn.Component);Hr.contextType=yf;Hr.propTypes={};function No(){}Hr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:No,onEntering:No,onEntered:No,onExit:No,onExiting:No,onExited:No};Hr.UNMOUNTED=Fl;Hr.EXITED=ws;Hr.ENTERING=Ss;Hr.ENTERED=Do;Hr.EXITING=Ev;function D7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vw(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function M7(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ps(t,e,n){return n[e]!=null?n[e]:t.props[e]}function L7(t,e){return Vw(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ps(n,"appear",t),enter:Ps(n,"enter",t),exit:Ps(n,"exit",t)})})}function F7(t,e,n){var r=Vw(t.children),i=M7(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ps(o,"exit",t),enter:Ps(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ps(o,"exit",t),enter:Ps(o,"enter",t)}))}}),i}var B7=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},U7={component:"div",childFactory:function(e){return e}},Ww=function(t){lO(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(D7(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?L7(i,a):F7(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Vw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=ff({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=aO(i,["component","childFactory"]),l=this.state.contextValue,u=B7(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Qn.createElement(yf.Provider,{value:l},u):Qn.createElement(yf.Provider,{value:l},Qn.createElement(s,a,u))},e}(Qn.Component);Ww.propTypes={};Ww.defaultProps=U7;function z7(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=E.useState(!1),h=ie(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=ie(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),I.jsx("span",{className:h,style:f,children:I.jsx("span",{className:p})})}const Vn=ke("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Cv=550,j7=80,V7=Rw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,W7=Rw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,H7=Rw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,q7=G("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),K7=G(z7,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Vn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${V7};
    animation-duration: ${Cv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Vn.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Vn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Vn.childLeaving} {
    opacity: 0;
    animation-name: ${W7};
    animation-duration: ${Cv}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Vn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${H7};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,G7=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,u]=E.useState([]),c=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),f=KP(),p=E.useRef(null),v=E.useRef(null),S=E.useCallback(w=>{const{pulsate:b,rippleX:C,rippleY:T,rippleSize:k,cb:N}=w;u(_=>[..._,I.jsx(K7,{classes:{ripple:ie(s.ripple,Vn.ripple),rippleVisible:ie(s.rippleVisible,Vn.rippleVisible),ripplePulsate:ie(s.ripplePulsate,Vn.ripplePulsate),child:ie(s.child,Vn.child),childLeaving:ie(s.childLeaving,Vn.childLeaving),childPulsate:ie(s.childPulsate,Vn.childPulsate)},timeout:Cv,pulsate:b,rippleX:C,rippleY:T,rippleSize:k},c.current)]),c.current+=1,d.current=N},[s]),g=E.useCallback((w={},b={},C=()=>{})=>{const{pulsate:T=!1,center:k=i||b.pulsate,fakeElement:N=!1}=b;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const _=N?null:v.current,x=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,F,B;if(k||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)L=Math.round(x.width/2),F=Math.round(x.height/2);else{const{clientX:O,clientY:z}=w.touches&&w.touches.length>0?w.touches[0]:w;L=Math.round(O-x.left),F=Math.round(z-x.top)}if(k)B=Math.sqrt((2*x.width**2+x.height**2)/3),B%2===0&&(B+=1);else{const O=Math.max(Math.abs((_?_.clientWidth:0)-L),L)*2+2,z=Math.max(Math.abs((_?_.clientHeight:0)-F),F)*2+2;B=Math.sqrt(O**2+z**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{S({pulsate:T,rippleX:L,rippleY:F,rippleSize:B,cb:C})},f.start(j7,()=>{p.current&&(p.current(),p.current=null)})):S({pulsate:T,rippleX:L,rippleY:F,rippleSize:B,cb:C})},[i,S,f]),y=E.useCallback(()=>{g({},{pulsate:!0})},[g]),m=E.useCallback((w,b)=>{if(f.clear(),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{m(w,b)});return}p.current=null,u(C=>C.length>0?C.slice(1):C),d.current=b},[f]);return E.useImperativeHandle(n,()=>({pulsate:y,start:g,stop:m}),[y,g,m]),I.jsx(q7,{className:ie(Vn.root,s.root,o),ref:v,...a,children:I.jsx(Ww,{component:null,exit:!0,children:l})})});function Q7(t){return Ae("MuiButtonBase",t)}const Y7=ke("MuiButtonBase",["root","disabled","focusVisible"]),X7=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Pe({root:["root",e&&"disabled",n&&"focusVisible"]},Q7,i);return n&&r&&(o.root+=` ${r}`),o},J7=G("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Y7.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Hw=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:f,LinkComponent:p="a",onBlur:v,onClick:S,onContextMenu:g,onDragLeave:y,onFocus:m,onFocusVisible:w,onKeyDown:b,onKeyUp:C,onMouseDown:T,onMouseLeave:k,onMouseUp:N,onTouchEnd:_,onTouchMove:x,onTouchStart:L,tabIndex:F=0,TouchRippleProps:B,touchRippleRef:O,type:z,...q}=r,P=E.useRef(null),A=P7(),W=an(A.ref,O),[ee,pe]=E.useState(!1);u&&ee&&pe(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{pe(!0),P.current.focus()}}),[]);const Se=A.shouldMount&&!c&&!u;E.useEffect(()=>{ee&&h&&!c&&A.pulsate()},[c,h,ee,A]);const me=Kr(A,"start",T,d),Ee=Kr(A,"stop",g,d),Je=Kr(A,"stop",y,d),nt=Kr(A,"stop",N,d),xn=Kr(A,"stop",Q=>{ee&&Q.preventDefault(),k&&k(Q)},d),rt=Kr(A,"start",L,d),he=Kr(A,"stop",_,d),Oe=Kr(A,"stop",x,d),ge=Kr(A,"stop",Q=>{eb(Q.target)||pe(!1),v&&v(Q)},!1),dt=ga(Q=>{P.current||(P.current=Q.currentTarget),eb(Q.target)&&(pe(!0),w&&w(Q)),m&&m(Q)}),ye=()=>{const Q=P.current;return l&&l!=="button"&&!(Q.tagName==="A"&&Q.href)},Ke=ga(Q=>{h&&!Q.repeat&&ee&&Q.key===" "&&A.stop(Q,()=>{A.start(Q)}),Q.target===Q.currentTarget&&ye()&&Q.key===" "&&Q.preventDefault(),b&&b(Q),Q.target===Q.currentTarget&&ye()&&Q.key==="Enter"&&!u&&(Q.preventDefault(),S&&S(Q))}),Rn=ga(Q=>{h&&Q.key===" "&&ee&&!Q.defaultPrevented&&A.stop(Q,()=>{A.pulsate(Q)}),C&&C(Q),S&&Q.target===Q.currentTarget&&ye()&&Q.key===" "&&!Q.defaultPrevented&&S(Q)});let ln=l;ln==="button"&&(q.href||q.to)&&(ln=p);const Ct={};ln==="button"?(Ct.type=z===void 0?"button":z,Ct.disabled=u):(!q.href&&!q.to&&(Ct.role="button"),u&&(Ct["aria-disabled"]=u));const wr=an(n,P),gn={...r,centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:F,focusVisible:ee},vt=X7(gn);return I.jsxs(J7,{as:ln,className:ie(vt.root,a),ownerState:gn,onBlur:ge,onClick:S,onContextMenu:Ee,onFocus:dt,onKeyDown:Ke,onKeyUp:Rn,onMouseDown:me,onMouseLeave:xn,onMouseUp:nt,onDragLeave:Je,onTouchEnd:he,onTouchMove:Oe,onTouchStart:rt,ref:wr,tabIndex:u?-1:F,type:z,...Ct,...q,children:[o,Se?I.jsx(G7,{ref:W,center:s,...B}):null]})});function Kr(t,e,n,r=!1){return ga(i=>(n&&n(i),r||t[e](i),!0))}const Xe=W8;function Z7(t){return typeof t.main=="string"}function eq(t,e=[]){if(!Z7(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function _r(t=[]){return([,e])=>e&&eq(e,t)}function tq(t){return Ae("MuiToggleButton",t)}const Os=ke("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),uO=E.createContext({}),cO=E.createContext(void 0);function nq(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const rq=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:s,color:o}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${K(s)}`,o]};return Pe(a,tq,e)},iq=G(Hw,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${K(n.size)}`]]}})(Xe(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${Os.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Os.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:xt(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:xt(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:xt(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{[`&.${Os.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:xt(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:xt(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:xt(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),hb=E.forwardRef(function(e,n){const{value:r,...i}=E.useContext(uO),s=E.useContext(cO),o=nc({...i,selected:nq(e.value,r)},e),a=Le({props:o,name:"MuiToggleButton"}),{children:l,className:u,color:c="standard",disabled:d=!1,disableFocusRipple:h=!1,fullWidth:f=!1,onChange:p,onClick:v,selected:S,size:g="medium",value:y,...m}=a,w={...a,color:c,disabled:d,disableFocusRipple:h,fullWidth:f,size:g},b=rq(w),C=k=>{v&&(v(k,y),k.defaultPrevented)||p&&p(k,y)},T=s||"";return I.jsx(iq,{className:ie(i.className,b.root,u,T),disabled:d,focusRipple:!h,ref:n,onClick:C,onChange:p,value:y,ownerState:w,"aria-pressed":S,...m,children:l})});function sq(t){return Ae("MuiToggleButtonGroup",t)}const ze=ke("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),oq=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,s={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${K(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Pe(s,sq,e)},aq=G("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ze.grouped}`]:e.grouped},{[`& .${ze.grouped}`]:e[`grouped${K(n.orientation)}`]},{[`& .${ze.firstButton}`]:e.firstButton},{[`& .${ze.lastButton}`]:e.lastButton},{[`& .${ze.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(Xe(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ze.grouped}`]:{[`&.${ze.selected} + .${ze.grouped}.${ze.selected}`]:{borderTop:0,marginTop:0}},[`& .${ze.firstButton},& .${ze.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ze.lastButton},& .${ze.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ze.lastButton}.${Os.disabled},& .${ze.middleButton}.${Os.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ze.grouped}`]:{[`&.${ze.selected} + .${ze.grouped}.${ze.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ze.firstButton},& .${ze.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ze.lastButton},& .${ze.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ze.lastButton}.${Os.disabled},& .${ze.middleButton}.${Os.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),lq=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:s,color:o="standard",disabled:a=!1,exclusive:l=!1,fullWidth:u=!1,onChange:c,orientation:d="horizontal",size:h="medium",value:f,...p}=r,v={...r,disabled:a,fullWidth:u,orientation:d,size:h},S=oq(v),g=E.useCallback((T,k)=>{if(!c)return;const N=f&&f.indexOf(k);let _;f&&N>=0?(_=f.slice(),_.splice(N,1)):_=f?f.concat(k):[k],c(T,_)},[c,f]),y=E.useCallback((T,k)=>{c&&c(T,f===k?null:k)},[c,f]),m=E.useMemo(()=>({className:S.grouped,onChange:l?y:g,value:f,size:h,fullWidth:u,color:o,disabled:a}),[S.grouped,l,y,g,f,h,u,o,a]),w=QP(i),b=w.length,C=T=>{const k=T===0,N=T===b-1;return k&&N?"":k?S.firstButton:N?S.lastButton:S.middleButton};return I.jsx(aq,{role:"group",className:ie(S.root,s),ref:n,ownerState:v,...p,children:I.jsx(uO.Provider,{value:m,children:w.map((T,k)=>I.jsx(cO.Provider,{value:C(k),children:T},k))})})});function bd(t){return parseInt(t,10)||0}const uq={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function cq(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const dq=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...l}=e,{current:u}=E.useRef(a!=null),c=E.useRef(null),d=an(n,c),h=E.useRef(null),f=E.useRef(null),p=E.useCallback(()=>{const g=c.current,m=yi(g).getComputedStyle(g);if(m.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=f.current;w.style.width=m.width,w.value=g.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const b=m.boxSizing,C=bd(m.paddingBottom)+bd(m.paddingTop),T=bd(m.borderBottomWidth)+bd(m.borderTopWidth),k=w.scrollHeight;w.value="x";const N=w.scrollHeight;let _=k;s&&(_=Math.max(Number(s)*N,_)),i&&(_=Math.min(Number(i)*N,_)),_=Math.max(_,N);const x=_+(b==="border-box"?C+T:0),L=Math.abs(_-k)<=1;return{outerHeightStyle:x,overflowing:L}},[i,s,e.placeholder]),v=E.useCallback(()=>{const g=p();if(cq(g))return;const y=g.outerHeightStyle,m=c.current;h.current!==y&&(h.current=y,m.style.height=`${y}px`),m.style.overflow=g.overflowing?"hidden":""},[p]);io(()=>{const g=()=>{v()};let y;const m=WP(g),w=c.current,b=yi(w);b.addEventListener("resize",m);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(g),C.observe(w)),()=>{m.clear(),cancelAnimationFrame(y),b.removeEventListener("resize",m),C&&C.disconnect()}},[p,v]),io(()=>{v()});const S=g=>{u||v(),r&&r(g)};return I.jsxs(E.Fragment,{children:[I.jsx("textarea",{value:a,onChange:S,ref:d,rows:s,style:o,...l}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:{...uq.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function bv(t){return typeof t=="string"}function us({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const qw=E.createContext(void 0);function Ci(){return E.useContext(qw)}function fb(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function vf(t,e=!1){return t&&(fb(t.value)&&t.value!==""||e&&fb(t.defaultValue)&&t.defaultValue!=="")}function hq(t){return t.startAdornment}function fq(t){return Ae("MuiInputBase",t)}const Va=ke("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var pb;const Xp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${K(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Jp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},pq=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,v={root:["root",`color${K(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${K(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Pe(v,fq,e)},Zp=G("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Xp})(Xe(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Va.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),em=G("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jp})(Xe(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Va.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Va.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),mb=N7({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Kw=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,error:v,fullWidth:S=!1,id:g,inputComponent:y="input",inputProps:m={},inputRef:w,margin:b,maxRows:C,minRows:T,multiline:k=!1,name:N,onBlur:_,onChange:x,onClick:L,onFocus:F,onKeyDown:B,onKeyUp:O,placeholder:z,readOnly:q,renderSuffix:P,rows:A,size:W,slotProps:ee={},slots:pe={},startAdornment:Se,type:me="text",value:Ee,...Je}=r,nt=m.value!=null?m.value:Ee,{current:xn}=E.useRef(nt!=null),rt=E.useRef(),he=E.useCallback(Ge=>{},[]),Oe=an(rt,w,m.ref,he),[ge,dt]=E.useState(!1),ye=Ci(),Ke=us({props:r,muiFormControl:ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ke.focused=ye?ye.focused:ge,E.useEffect(()=>{!ye&&h&&ge&&(dt(!1),_&&_())},[ye,h,ge,_]);const Rn=ye&&ye.onFilled,ln=ye&&ye.onEmpty,Ct=E.useCallback(Ge=>{vf(Ge)?Rn&&Rn():ln&&ln()},[Rn,ln]);io(()=>{xn&&Ct({value:nt})},[nt,Ct,xn]);const wr=Ge=>{F&&F(Ge),m.onFocus&&m.onFocus(Ge),ye&&ye.onFocus?ye.onFocus(Ge):dt(!0)},gn=Ge=>{_&&_(Ge),m.onBlur&&m.onBlur(Ge),ye&&ye.onBlur?ye.onBlur(Ge):dt(!1)},vt=(Ge,...wo)=>{if(!xn){const ol=Ge.target||rt.current;if(ol==null)throw new Error(mi(1));Ct({value:ol.value})}m.onChange&&m.onChange(Ge,...wo),x&&x(Ge,...wo)};E.useEffect(()=>{Ct(rt.current)},[]);const Q=Ge=>{rt.current&&Ge.currentTarget===Ge.target&&rt.current.focus(),L&&L(Ge)};let go=y,yn=m;k&&go==="input"&&(A?yn={type:void 0,minRows:A,maxRows:A,...yn}:yn={type:void 0,maxRows:C,minRows:T,...yn},go=dq);const yo=Ge=>{Ct(Ge.animationName==="mui-auto-fill-cancel"?rt.current:{value:"x"})};E.useEffect(()=>{ye&&ye.setAdornedStart(!!Se)},[ye,Se]);const il={...r,color:Ke.color||"primary",disabled:Ke.disabled,endAdornment:p,error:Ke.error,focused:Ke.focused,formControl:ye,fullWidth:S,hiddenLabel:Ke.hiddenLabel,multiline:k,size:Ke.size,startAdornment:Se,type:me},sl=pq(il),vo=pe.root||u.Root||Zp,_o=ee.root||c.root||{},cs=pe.input||u.Input||em;return yn={...yn,...ee.input??c.input},I.jsxs(E.Fragment,{children:[!f&&typeof mb=="function"&&(pb||(pb=I.jsx(mb,{}))),I.jsxs(vo,{..._o,ref:n,onClick:Q,...Je,...!bv(vo)&&{ownerState:{...il,..._o.ownerState}},className:ie(sl.root,_o.className,a,q&&"MuiInputBase-readOnly"),children:[Se,I.jsx(qw.Provider,{value:null,children:I.jsx(cs,{"aria-invalid":Ke.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:d,disabled:Ke.disabled,id:g,onAnimationStart:yo,name:N,placeholder:z,readOnly:q,required:Ke.required,rows:A,value:nt,onKeyDown:B,onKeyUp:O,type:me,...yn,...!bv(cs)&&{as:go,ownerState:{...il,...yn.ownerState}},ref:Oe,className:ie(sl.input,yn.className,q&&"MuiInputBase-readOnly"),onBlur:gn,onChange:vt,onFocus:wr})}),p,P?P({...Ke,startAdornment:Se}):null]})]})});function mq(t){return Ae("MuiInput",t)}const bl={...Va,...ke("MuiInput",["root","underline","input"])},gq=t=>{const{classes:e,disableUnderline:n}=t,i=Pe({root:["root",!n&&"underline"],input:["input"]},mq,e);return{...e,...i}},yq=G(Zp,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xp(t,e),!n.disableUnderline&&e.underline]}})(Xe(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bl.disabled}, .${bl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${bl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(_r()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),vq=G(em,{name:"MuiInput",slot:"Input",overridesResolver:Jp})({}),Gw=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:h="text",...f}=r,p=gq(r),S={root:{ownerState:{disableUnderline:i}}},g=c??o?nn(c??o,S):S,y=d.root??s.Root??yq,m=d.input??s.Input??vq;return I.jsx(Kw,{slots:{root:y,input:m},slotProps:g,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:h,...f,classes:p})});Gw.muiName="Input";function _q(t){return Ae("MuiFilledInput",t)}const hs={...Va,...ke("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])};function wq(t){return Ae("MuiSvgIcon",t)}ke("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Sq=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${K(e)}`,`fontSize${K(n)}`]};return Pe(i,wq,r)},Eq=G("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${K(n.color)}`],e[`fontSize${K(n.fontSize)}`]]}})(Xe(({theme:t})=>{var e,n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,v])=>v&&v.main).map(([v])=>{var S,g;return{props:{color:v},style:{color:(g=(S=(t.vars??t).palette)==null?void 0:S[v])==null?void 0:g.main}}}),{props:{color:"action"},style:{color:(h=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(p=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Tv=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24",...f}=r,p=E.isValidElement(i)&&i.type==="svg",v={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p},S={};c||(S.viewBox=h);const g=Sq(v);return I.jsxs(Eq,{as:a,className:ie(g.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...S,...f,...p&&i.props,ownerState:v,children:[p?i.props.children:i,d?I.jsx("title",{children:d}):null]})});Tv.muiName="SvgIcon";function jc(t,e){function n(r,i){return I.jsx(Tv,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Tv.muiName,E.memo(E.forwardRef(n))}const Cq=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${K(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Pe(l,_q,e);return{...e,...u}},bq=G(Zp,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Xp(t,e),!n.disableUnderline&&e.underline]}})(Xe(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${hs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${hs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hs.disabled}, .${hs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${hs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(_r()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Tq=G(em,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jp})(Xe(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Qw=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:h={},type:f="text",...p}=r,v={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:f},S=Cq(r),g={root:{ownerState:v},input:{ownerState:v}},y=d??o?nn(g,d??o):g,m=h.root??s.Root??bq,w=h.input??s.Input??Tq;return I.jsx(Kw,{slots:{root:m,input:w},slotProps:y,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:f,...p,classes:S})});Qw.muiName="Input";var gb;const Iq=G("fieldset",{shouldForwardProp:jn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kq=G("legend",{shouldForwardProp:jn})(Xe(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function xq(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",l={...t,notched:s,withLabel:a};return I.jsx(Iq,{"aria-hidden":!0,className:r,ownerState:l,...o,children:I.jsx(kq,{ownerState:l,children:a?I.jsx("span",{children:i}):gb||(gb=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function Rq(t){return Ae("MuiOutlinedInput",t)}const Cr={...Va,...ke("MuiOutlinedInput",["root","notchedOutline","input"])},Nq=t=>{const{classes:e}=t,r=Pe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Rq,e);return{...e,...r}},Aq=G(Zp,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Xp})(Xe(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Cr.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Cr.focused} .${Cr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(_r()).map(([n])=>({props:{color:n},style:{[`&.${Cr.focused} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Cr.error} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Cr.disabled} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Pq=G(xq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Xe(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Oq=G(em,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jp})(Xe(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Yw=E.forwardRef(function(e,n){var r;const i=Le({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:c,slots:d={},type:h="text",...f}=i,p=Nq(i),v=Ci(),S=us({props:i,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),g={...i,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:v,fullWidth:o,hiddenLabel:S.hiddenLabel,multiline:u,size:S.size,type:h},y=d.root??s.Root??Aq,m=d.input??s.Input??Oq;return I.jsx(Kw,{slots:{root:y,input:m},renderSuffix:w=>I.jsx(Pq,{ownerState:g,className:p.notchedOutline,label:l!=null&&l!==""&&S.required?r||(r=I.jsxs(E.Fragment,{children:[l,"","*"]})):l,notched:typeof c<"u"?c:!!(w.startAdornment||w.filled||w.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:h,...f,classes:{...p,notchedOutline:null}})});Yw.muiName="Input";function $q(t){return Ae("MuiFormLabel",t)}const au=ke("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Dq=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${K(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Pe(l,$q,e)},Mq=G("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Xe(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{[`&.${au.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${au.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${au.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Lq=G("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Xe(({theme:t})=>({[`&.${au.error}`]:{color:(t.vars||t).palette.error.main}}))),Fq=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:l,error:u,filled:c,focused:d,required:h,...f}=r,p=Ci(),v=us({props:r,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:v.color||"primary",component:a,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},g=Dq(S);return I.jsxs(Mq,{as:a,ownerState:S,className:ie(g.root,s),ref:n,...f,children:[i,v.required&&I.jsxs(Lq,{ownerState:S,"aria-hidden":!0,className:g.asterisk,children:["","*"]})]})});function Bq(t){return Ae("MuiInputLabel",t)}ke("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Uq=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${K(r)}`,o],asterisk:[a&&"asterisk"]},u=Pe(l,Bq,e);return{...e,...u}},zq=G(Fq,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${au.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Xe(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),jq=E.forwardRef(function(e,n){const r=Le({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:l,...u}=r,c=Ci();let d=o;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const h=us({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),f={...r,disableAnimation:i,formControl:c,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},p=Uq(f);return I.jsx(zq,{"data-shrink":d,ref:n,className:ie(p.root,l),...u,ownerState:f,classes:p})});function Vq(t){return Ae("MuiFormControl",t)}ke("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Wq=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${K(n)}`,r&&"fullWidth"]};return Pe(i,Vq,e)},Hq=G("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${K(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),qq=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:v="medium",variant:S="outlined",...g}=r,y={...r,color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:v,variant:S},m=Wq(y),[w,b]=E.useState(()=>{let F=!1;return i&&E.Children.forEach(i,B=>{if(!dg(B,["Input","Select"]))return;const O=dg(B,["Select"])?B.props.input:B;O&&hq(O.props)&&(F=!0)}),F}),[C,T]=E.useState(()=>{let F=!1;return i&&E.Children.forEach(i,B=>{dg(B,["Input","Select"])&&(vf(B.props,!0)||vf(B.props.inputProps,!0))&&(F=!0)}),F}),[k,N]=E.useState(!1);l&&k&&N(!1);const _=c!==void 0&&!l?c:k;let x;E.useRef(!1);const L=E.useMemo(()=>({adornedStart:w,setAdornedStart:b,color:o,disabled:l,error:u,filled:C,focused:_,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{N(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{N(!0)},registerEffect:x,required:p,variant:S}),[w,o,l,u,C,_,d,h,x,p,v,S]);return I.jsx(qw.Provider,{value:L,children:I.jsx(Hq,{as:a,ownerState:y,className:ie(m.root,s),ref:n,...g,children:i})})});function Kq(t){return Ae("MuiFormHelperText",t)}const yb=ke("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var vb;const Gq=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${K(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Pe(u,Kq,e)},Qq=G("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${K(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Xe(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${yb.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yb.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Yq=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:h,variant:f,...p}=r,v=Ci(),S=us({props:r,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),g={...r,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete g.ownerState;const y=Gq(g);return I.jsx(Qq,{as:o,className:ie(y.root,s),ref:n,...p,ownerState:g,children:i===" "?vb||(vb=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),Xq=E.createContext({});function Jq(t){return Ae("MuiList",t)}ke("MuiList",["root","padding","dense","subheader"]);const Zq=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Pe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Jq,e)},eK=G("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),tK=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=E.useMemo(()=>({dense:a}),[a]),h={...r,component:o,dense:a,disablePadding:l},f=Zq(h);return I.jsx(Xq.Provider,{value:d,children:I.jsxs(eK,{as:o,className:ie(f.root,s),ref:n,ownerState:h,...c,children:[u,i]})})});function pg(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function _b(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function dO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Tl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!dO(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const nK=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...h}=e,f=E.useRef(null),p=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});io(()=>{i&&f.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(m,{direction:w})=>{const b=!f.current.style.width;if(m.clientHeight<f.current.clientHeight&&b){const C=`${GP(yi(m))}px`;f.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=C,f.current.style.width=`calc(100% + ${C})`}return f.current}}),[]);const v=m=>{const w=f.current,b=m.key;if(m.ctrlKey||m.metaKey||m.altKey){c&&c(m);return}const T=vr(w).activeElement;if(b==="ArrowDown")m.preventDefault(),Tl(w,T,u,l,pg);else if(b==="ArrowUp")m.preventDefault(),Tl(w,T,u,l,_b);else if(b==="Home")m.preventDefault(),Tl(w,null,u,l,pg);else if(b==="End")m.preventDefault(),Tl(w,null,u,l,_b);else if(b.length===1){const k=p.current,N=b.toLowerCase(),_=performance.now();k.keys.length>0&&(_-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&N!==k.keys[0]&&(k.repeating=!1)),k.lastTime=_,k.keys.push(N);const x=T&&!k.repeating&&dO(T,k);k.previousKeyMatched&&(x||Tl(w,T,!1,l,pg,k))?m.preventDefault():k.previousKeyMatched=!1}c&&c(m)},S=an(f,n);let g=-1;E.Children.forEach(o,(m,w)=>{if(!E.isValidElement(m)){g===w&&(g+=1,g>=o.length&&(g=-1));return}m.props.disabled||(d==="selectedMenu"&&m.props.selected||g===-1)&&(g=w),g===w&&(m.props.disabled||m.props.muiSkipListHighlight||m.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const y=E.Children.map(o,(m,w)=>{if(w===g){const b={};return s&&(b.autoFocus=!0),m.props.tabIndex===void 0&&d==="selectedMenu"&&(b.tabIndex=0),E.cloneElement(m,b)}return m});return I.jsx(tK,{role:"menu",ref:S,className:a,onKeyDown:v,tabIndex:i?0:-1,...h,children:y})}),hO=t=>t.scrollTop;function _f(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function Iv(t){return`scale(${t}, ${t**2})`}const rK={entering:{opacity:1,transform:Iv(1)},entered:{opacity:1,transform:"none"}},mg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kv=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:v="auto",TransitionComponent:S=Hr,...g}=e,y=KP(),m=E.useRef(),w=jw(),b=E.useRef(null),C=an(b,zc(s),n),T=O=>z=>{if(O){const q=b.current;z===void 0?O(q):O(q,z)}},k=T(c),N=T((O,z)=>{hO(O);const{duration:q,delay:P,easing:A}=_f({style:p,timeout:v,easing:o},{mode:"enter"});let W;v==="auto"?(W=w.transitions.getAutoHeightDuration(O.clientHeight),m.current=W):W=q,O.style.transition=[w.transitions.create("opacity",{duration:W,delay:P}),w.transitions.create("transform",{duration:mg?W:W*.666,delay:P,easing:A})].join(","),l&&l(O,z)}),_=T(u),x=T(f),L=T(O=>{const{duration:z,delay:q,easing:P}=_f({style:p,timeout:v,easing:o},{mode:"exit"});let A;v==="auto"?(A=w.transitions.getAutoHeightDuration(O.clientHeight),m.current=A):A=z,O.style.transition=[w.transitions.create("opacity",{duration:A,delay:q}),w.transitions.create("transform",{duration:mg?A:A*.666,delay:mg?q:q||A*.333,easing:P})].join(","),O.style.opacity=0,O.style.transform=Iv(.75),d&&d(O)}),F=T(h),B=O=>{v==="auto"&&y.start(m.current||0,O),r&&r(b.current,O)};return I.jsx(S,{appear:i,in:a,nodeRef:b,onEnter:N,onEntered:_,onEntering:k,onExit:L,onExited:F,onExiting:x,addEndListener:B,timeout:v==="auto"?null:v,...g,children:(O,{ownerState:z,...q})=>E.cloneElement(s,{style:{opacity:0,transform:Iv(.75),visibility:O==="exited"&&!a?"hidden":void 0,...rK[O],...p,...s.props.style},ref:C,...q})})});kv&&(kv.muiSupportAuto=!0);function iK(t){const e=vr(t);return e.body===t?yi(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function lu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function wb(t){return parseInt(yi(t).getComputedStyle(t).paddingRight,10)||0}function sK(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Sb(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!sK(o);a&&l&&lu(o,i)})}function gg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function oK(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(iK(r)){const o=GP(yi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${wb(r)+o}px`;const a=vr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${wb(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=vr(r).body;else{const o=r.parentElement,a=yi(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function aK(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class lK{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&lu(e.modalRef,!1);const i=aK(n);Sb(n,e.mount,e.modalRef,i,!0);const s=gg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=gg(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=oK(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=gg(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&lu(e.modalRef,n),Sb(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&lu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const uK=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cK(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dK(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function hK(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dK(t))}function fK(t){const e=[],n=[];return Array.from(t.querySelectorAll(uK)).forEach((r,i)=>{const s=cK(r);s===-1||!hK(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function pK(){return!0}function mK(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=fK,isEnabled:o=pK,open:a}=t,l=E.useRef(!1),u=E.useRef(null),c=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=E.useRef(!1),p=E.useRef(null),v=an(zc(e),p),S=E.useRef(null);E.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!p.current)return;const m=vr(p.current);return p.current.contains(m.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!p.current)return;const m=vr(p.current),w=T=>{S.current=T,!(r||!o()||T.key!=="Tab")&&m.activeElement===p.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},b=()=>{var N,_;const T=p.current;if(T===null)return;if(!m.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(m.activeElement)||r&&m.activeElement!==u.current&&m.activeElement!==c.current)return;if(m.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let k=[];if((m.activeElement===u.current||m.activeElement===c.current)&&(k=s(p.current)),k.length>0){const x=!!((N=S.current)!=null&&N.shiftKey&&((_=S.current)==null?void 0:_.key)==="Tab"),L=k[0],F=k[k.length-1];typeof L!="string"&&typeof F!="string"&&(x?F.focus():L.focus())}else T.focus()};m.addEventListener("focusin",b),m.addEventListener("keydown",w,!0);const C=setInterval(()=>{m.activeElement&&m.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(C),m.removeEventListener("focusin",b),m.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const g=m=>{d.current===null&&(d.current=m.relatedTarget),f.current=!0,h.current=m.target;const w=e.props.onFocus;w&&w(m)},y=m=>{d.current===null&&(d.current=m.relatedTarget),f.current=!0};return I.jsxs(E.Fragment,{children:[I.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:v,onFocus:g}),I.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}function gK(t){return typeof t=="function"?t():t}const yK=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=an(E.isValidElement(r)?zc(r):null,n);if(io(()=>{s||a(gK(i)||document.body)},[i,s]),io(()=>{if(o&&!s)return yv(n,o),()=>{yv(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const u={ref:l};return E.cloneElement(r,u)}return r}return o&&E0.createPortal(r,o)});function Gn(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,...a}=e,{component:l,slots:u={[t]:void 0},slotProps:c={[t]:void 0},...d}=s,h=u[t]||r,f=ZP(c[t],i),{props:{component:p,...v},internalRef:S}=JP({className:n,...a,externalForwardedProps:t==="root"?d:void 0,externalSlotProps:f}),g=an(S,f==null?void 0:f.ref,e.ref),y=t==="root"?p||l:p,m=YP(h,{...t==="root"&&!l&&!u[t]&&o,...t!=="root"&&!u[t]&&o,...v,...y&&{as:y},ref:g},i);return[h,m]}const vK={entering:{opacity:1},entered:{opacity:1}},_K=E.forwardRef(function(e,n){const r=jw(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:v,style:S,timeout:g=i,TransitionComponent:y=Hr,...m}=e,w=E.useRef(null),b=an(w,zc(a),n),C=B=>O=>{if(B){const z=w.current;O===void 0?B(z):B(z,O)}},T=C(h),k=C((B,O)=>{hO(B);const z=_f({style:S,timeout:g,easing:l},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",z),B.style.transition=r.transitions.create("opacity",z),c&&c(B,O)}),N=C(d),_=C(v),x=C(B=>{const O=_f({style:S,timeout:g,easing:l},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",O),B.style.transition=r.transitions.create("opacity",O),f&&f(B)}),L=C(p),F=B=>{s&&s(w.current,B)};return I.jsx(y,{appear:o,in:u,nodeRef:w,onEnter:k,onEntered:N,onEntering:T,onExit:x,onExited:L,onExiting:_,addEndListener:F,timeout:g,...m,children:(B,{ownerState:O,...z})=>E.cloneElement(a,{style:{opacity:0,visibility:B==="exited"&&!u?"hidden":void 0,...vK[B],...S,...a.props.style},ref:b,...z})})});function wK(t){return Ae("MuiBackdrop",t)}ke("MuiBackdrop",["root","invisible"]);const SK=t=>{const{classes:e,invisible:n}=t;return Pe({root:["root",n&&"invisible"]},wK,e)},EK=G("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),CK=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:h={},TransitionComponent:f,transitionDuration:p,...v}=r,S={...r,component:o,invisible:a},g=SK(S),y={transition:f,root:u.Root,...h},m={...c,...d},w={slots:y,slotProps:m},[b,C]=Gn("root",{elementType:EK,externalForwardedProps:w,className:ie(g.root,s),ownerState:S}),[T,k]=Gn("transition",{elementType:_K,externalForwardedProps:w,ownerState:S});return I.jsx(T,{in:l,timeout:p,...v,...k,children:I.jsx(b,{"aria-hidden":!0,...C,classes:g,ref:n,children:i})})});function bK(t){return typeof t=="function"?t():t}function TK(t){return t?t.props.hasOwnProperty("in"):!1}const Eb=()=>{},Td=new lK;function IK(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:u,rootRef:c}=t,d=E.useRef({}),h=E.useRef(null),f=E.useRef(null),p=an(f,c),[v,S]=E.useState(!u),g=TK(a);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const m=()=>vr(h.current),w=()=>(d.current.modalRef=f.current,d.current.mount=h.current,d.current),b=()=>{Td.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},C=ga(()=>{const O=bK(e)||m().body;Td.add(w(),O),f.current&&b()}),T=()=>Td.isTopModal(w()),k=ga(O=>{h.current=O,O&&(u&&T()?b():f.current&&lu(f.current,y))}),N=E.useCallback(()=>{Td.remove(w(),y)},[y]);E.useEffect(()=>()=>{N()},[N]),E.useEffect(()=>{u?C():(!g||!i)&&N()},[u,N,g,i,C]);const _=O=>z=>{var q;(q=O.onKeyDown)==null||q.call(O,z),!(z.key!=="Escape"||z.which===229||!T())&&(n||(z.stopPropagation(),l&&l(z,"escapeKeyDown")))},x=O=>z=>{var q;(q=O.onClick)==null||q.call(O,z),z.target===z.currentTarget&&l&&l(z,"backdropClick")};return{getRootProps:(O={})=>{const z=XP(t);delete z.onTransitionEnter,delete z.onTransitionExited;const q={...z,...O};return{role:"presentation",...q,onKeyDown:_(q),ref:p}},getBackdropProps:(O={})=>{const z=O;return{"aria-hidden":!0,...z,onClick:x(z),open:u}},getTransitionProps:()=>{const O=()=>{S(!1),s&&s()},z=()=>{S(!0),o&&o(),i&&N()};return{onEnter:YC(O,(a==null?void 0:a.props.onEnter)??Eb),onExited:YC(z,(a==null?void 0:a.props.onExited)??Eb)}},rootRef:p,portalRef:k,isTopModal:T,exited:v,hasTransition:g}}function kK(t){return Ae("MuiModal",t)}ke("MuiModal",["root","hidden","backdrop"]);const xK=t=>{const{open:e,exited:n,classes:r}=t;return Pe({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},kK,r)},RK=G("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Xe(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),NK=G(CK,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),AK=E.forwardRef(function(e,n){const r=Le({name:"MuiModal",props:e}),{BackdropComponent:i=NK,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:h={},componentsProps:f={},disableAutoFocus:p=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:S=!1,disablePortal:g=!1,disableRestoreFocus:y=!1,disableScrollLock:m=!1,hideBackdrop:w=!1,keepMounted:b=!1,onBackdropClick:C,onClose:T,onTransitionEnter:k,onTransitionExited:N,open:_,slotProps:x={},slots:L={},theme:F,...B}=r,O={...r,closeAfterTransition:l,disableAutoFocus:p,disableEnforceFocus:v,disableEscapeKeyDown:S,disablePortal:g,disableRestoreFocus:y,disableScrollLock:m,hideBackdrop:w,keepMounted:b},{getRootProps:z,getBackdropProps:q,getTransitionProps:P,portalRef:A,isTopModal:W,exited:ee,hasTransition:pe}=IK({...O,rootRef:n}),Se={...O,exited:ee},me=xK(Se),Ee={};if(u.props.tabIndex===void 0&&(Ee.tabIndex="-1"),pe){const{onEnter:ge,onExited:dt}=P();Ee.onEnter=ge,Ee.onExited=dt}const Je={...B,slots:{root:h.Root,backdrop:h.Backdrop,...L},slotProps:{...f,...x}},[nt,xn]=Gn("root",{elementType:RK,externalForwardedProps:Je,getSlotProps:z,additionalProps:{ref:n,as:d},ownerState:Se,className:ie(a,me==null?void 0:me.root,!Se.open&&Se.exited&&(me==null?void 0:me.hidden))}),[rt,he]=Gn("backdrop",{elementType:i,externalForwardedProps:Je,additionalProps:s,getSlotProps:ge=>q({...ge,onClick:dt=>{C&&C(dt),ge!=null&&ge.onClick&&ge.onClick(dt)}}),className:ie(s==null?void 0:s.className,me==null?void 0:me.backdrop),ownerState:Se}),Oe=an(s==null?void 0:s.ref,he.ref);return!b&&!_&&(!pe||ee)?null:I.jsx(yK,{ref:A,container:c,disablePortal:g,children:I.jsxs(nt,{...xn,children:[!w&&i?I.jsx(rt,{...he,ref:Oe}):null,I.jsx(mK,{disableEnforceFocus:v,disableAutoFocus:p,disableRestoreFocus:y,isEnabled:W,open:_,children:E.cloneElement(u,Ee)})]})})});function PK(t){return Ae("MuiPaper",t)}ke("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const OK=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Pe(s,PK,i)},$K=G("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Xe(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),DK=E.forwardRef(function(e,n){var f;const r=Le({props:e,name:"MuiPaper"}),i=jw(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:o,elevation:a,square:l,variant:u},h=OK(d);return I.jsx($K,{as:o,ownerState:d,className:ie(h.root,s),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(f=i.vars.overlays)==null?void 0:f[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${xt("#fff",wv(a))}, ${xt("#fff",wv(a))})`}},...c.style}})});function MK(t){return Ae("MuiPopover",t)}ke("MuiPopover",["root","paper"]);function Cb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function bb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Tb(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function yg(t){return typeof t=="function"?t():t}const LK=t=>{const{classes:e}=t;return Pe({root:["root"],paper:["paper"]},MK,e)},FK=G(AK,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fO=G(DK,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),BK=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:v={},slots:S={},slotProps:g={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:m=kv,transitionDuration:w="auto",TransitionProps:{onEntering:b,...C}={},disableScrollLock:T=!1,...k}=r,N=(g==null?void 0:g.paper)??v,_=E.useRef(),x={...r,anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,externalPaperSlotProps:N,transformOrigin:y,TransitionComponent:m,transitionDuration:w,TransitionProps:C},L=LK(x),F=E.useCallback(()=>{if(l==="anchorPosition")return a;const he=yg(s),ge=(he&&he.nodeType===1?he:vr(_.current).body).getBoundingClientRect();return{top:ge.top+Cb(ge,o.vertical),left:ge.left+bb(ge,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),B=E.useCallback(he=>({vertical:Cb(he,y.vertical),horizontal:bb(he,y.horizontal)}),[y.horizontal,y.vertical]),O=E.useCallback(he=>{const Oe={width:he.offsetWidth,height:he.offsetHeight},ge=B(Oe);if(l==="none")return{top:null,left:null,transformOrigin:Tb(ge)};const dt=F();let ye=dt.top-ge.vertical,Ke=dt.left-ge.horizontal;const Rn=ye+Oe.height,ln=Ke+Oe.width,Ct=yi(yg(s)),wr=Ct.innerHeight-f,gn=Ct.innerWidth-f;if(f!==null&&ye<f){const vt=ye-f;ye-=vt,ge.vertical+=vt}else if(f!==null&&Rn>wr){const vt=Rn-wr;ye-=vt,ge.vertical+=vt}if(f!==null&&Ke<f){const vt=Ke-f;Ke-=vt,ge.horizontal+=vt}else if(ln>gn){const vt=ln-gn;Ke-=vt,ge.horizontal+=vt}return{top:`${Math.round(ye)}px`,left:`${Math.round(Ke)}px`,transformOrigin:Tb(ge)}},[s,l,F,B,f]),[z,q]=E.useState(p),P=E.useCallback(()=>{const he=_.current;if(!he)return;const Oe=O(he);Oe.top!==null&&he.style.setProperty("top",Oe.top),Oe.left!==null&&(he.style.left=Oe.left),he.style.transformOrigin=Oe.transformOrigin,q(!0)},[O]);E.useEffect(()=>(T&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)),[s,T,P]);const A=(he,Oe)=>{b&&b(he,Oe),P()},W=()=>{q(!1)};E.useEffect(()=>{p&&P()}),E.useImperativeHandle(i,()=>p?{updatePosition:()=>{P()}}:null,[p,P]),E.useEffect(()=>{if(!p)return;const he=WP(()=>{P()}),Oe=yi(s);return Oe.addEventListener("resize",he),()=>{he.clear(),Oe.removeEventListener("resize",he)}},[s,p,P]);let ee=w;w==="auto"&&!m.muiSupportAuto&&(ee=void 0);const pe=d||(s?vr(yg(s)).body:void 0),Se={slots:S,slotProps:{...g,paper:N}},[me,Ee]=Gn("paper",{elementType:fO,externalForwardedProps:Se,additionalProps:{elevation:h,className:ie(L.paper,N==null?void 0:N.className),style:z?N.style:{...N.style,opacity:0}},ownerState:x}),[Je,{slotProps:nt,...xn}]=Gn("root",{elementType:FK,externalForwardedProps:Se,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:pe,open:p},ownerState:x,className:ie(L.root,c)}),rt=an(_,Ee.ref);return I.jsx(Je,{...xn,...!bv(Je)&&{slotProps:nt,disableScrollLock:T},...k,ref:n,children:I.jsx(m,{appear:!0,in:p,onEntering:A,onExited:W,timeout:ee,...C,children:I.jsx(me,{...Ee,ref:rt,children:u})})})});function UK(t){return Ae("MuiMenu",t)}ke("MuiMenu",["root","paper","list"]);const zK={vertical:"top",horizontal:"right"},jK={vertical:"top",horizontal:"left"},VK=t=>{const{classes:e}=t;return Pe({root:["root"],paper:["paper"],list:["list"]},UK,e)},WK=G(BK,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),HK=G(fO,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qK=G(nK,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),KK=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:h,transitionDuration:f="auto",TransitionProps:{onEntering:p,...v}={},variant:S="selectedMenu",slots:g={},slotProps:y={},...m}=r,w=U8(),b={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:p,PaperProps:d,transitionDuration:f,TransitionProps:v,variant:S},C=VK(b),T=i&&!a&&c,k=E.useRef(null),N=(z,q)=>{k.current&&k.current.adjustStyleForScrollbar(z,{direction:w?"rtl":"ltr"}),p&&p(z,q)},_=z=>{z.key==="Tab"&&(z.preventDefault(),u&&u(z,"tabKeyDown"))};let x=-1;E.Children.map(s,(z,q)=>{E.isValidElement(z)&&(z.props.disabled||(S==="selectedMenu"&&z.props.selected||x===-1)&&(x=q))});const L=g.paper??HK,F=y.paper??d,B=nb({elementType:g.root,externalSlotProps:y.root,ownerState:b,className:[C.root,o]}),O=nb({elementType:L,externalSlotProps:F,ownerState:b,className:C.paper});return I.jsx(WK,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?zK:jK,slots:{paper:L,root:g.root},slotProps:{root:B,paper:O},open:c,ref:n,transitionDuration:f,TransitionProps:{onEntering:N,...v},ownerState:b,...m,classes:h,children:I.jsx(qK,{onKeyDown:_,actions:k,autoFocus:i&&(x===-1||a),autoFocusItem:T,variant:S,...l,className:ie(C.list,l.className),children:s})})});function GK(t){return Ae("MuiNativeSelect",t)}const Xw=ke("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),QK=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${K(n)}`,s&&"iconOpen",r&&"disabled"]};return Pe(a,GK,e)},pO=G("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Xw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),YK=G(pO,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:jn,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Xw.multiple}`]:e.multiple}]}})({}),mO=G("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Xw.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),XK=G(mO,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${K(n.variant)}`],n.open&&e.iconOpen]}})({}),JK=E.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:s},d=QK(c);return I.jsxs(E.Fragment,{children:[I.jsx(YK,{ownerState:c,className:ie(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:I.jsx(XK,{as:o,ownerState:c,className:d.icon})]})});function ZK(t){return Ae("MuiSelect",t)}const Il=ke("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ib;const eG=G(pO,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Il.select}`]:e.select},{[`&.${Il.select}`]:e[n.variant]},{[`&.${Il.error}`]:e.error},{[`&.${Il.multiple}`]:e.multiple}]}})({[`&.${Il.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),tG=G(mO,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${K(n.variant)}`],n.open&&e.iconOpen]}})({}),nG=G("input",{shouldForwardProp:t=>oO(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function kb(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function rG(t){return t==null||typeof t=="string"&&!t.trim()}const iG=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${K(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Pe(a,ZK,e)},sG=E.forwardRef(function(e,n){var e1;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:f=!1,IconComponent:p,inputRef:v,labelId:S,MenuProps:g={},multiple:y,name:m,onBlur:w,onChange:b,onClose:C,onFocus:T,onOpen:k,open:N,readOnly:_,renderValue:x,required:L,SelectDisplayProps:F={},tabIndex:B,type:O,value:z,variant:q="standard",...P}=e,[A,W]=vv({controlled:z,default:c,name:"Select"}),[ee,pe]=vv({controlled:N,default:u,name:"Select"}),Se=E.useRef(null),me=E.useRef(null),[Ee,Je]=E.useState(null),{current:nt}=E.useRef(N!=null),[xn,rt]=E.useState(),he=an(n,v),Oe=E.useCallback(J=>{me.current=J,J&&Je(J)},[]),ge=Ee==null?void 0:Ee.parentNode;E.useImperativeHandle(he,()=>({focus:()=>{me.current.focus()},node:Se.current,value:A}),[A]),E.useEffect(()=>{u&&ee&&Ee&&!nt&&(rt(o?null:ge.clientWidth),me.current.focus())},[Ee,o]),E.useEffect(()=>{s&&me.current.focus()},[s]),E.useEffect(()=>{if(!S)return;const J=vr(me.current).getElementById(S);if(J){const Ue=()=>{getSelection().isCollapsed&&me.current.focus()};return J.addEventListener("click",Ue),()=>{J.removeEventListener("click",Ue)}}},[S]);const dt=(J,Ue)=>{J?k&&k(Ue):C&&C(Ue),nt||(rt(o?null:ge.clientWidth),pe(J))},ye=J=>{J.button===0&&(J.preventDefault(),me.current.focus(),dt(!0,J))},Ke=J=>{dt(!1,J)},Rn=E.Children.toArray(a),ln=J=>{const Ue=Rn.find(Dt=>Dt.props.value===J.target.value);Ue!==void 0&&(W(Ue.props.value),b&&b(J,Ue))},Ct=J=>Ue=>{let Dt;if(Ue.currentTarget.hasAttribute("tabindex")){if(y){Dt=Array.isArray(A)?A.slice():[];const So=A.indexOf(J.props.value);So===-1?Dt.push(J.props.value):Dt.splice(So,1)}else Dt=J.props.value;if(J.props.onClick&&J.props.onClick(Ue),A!==Dt&&(W(Dt),b)){const So=Ue.nativeEvent||Ue,t1=new So.constructor(So.type,So);Object.defineProperty(t1,"target",{writable:!0,value:{value:Dt,name:m}}),b(t1,J)}y||dt(!1,Ue)}},wr=J=>{_||[" ","ArrowUp","ArrowDown","Enter"].includes(J.key)&&(J.preventDefault(),dt(!0,J))},gn=Ee!==null&&ee,vt=J=>{!gn&&w&&(Object.defineProperty(J,"target",{writable:!0,value:{value:A,name:m}}),w(J))};delete P["aria-invalid"];let Q,go;const yn=[];let yo=!1;(vf({value:A})||h)&&(x?Q=x(A):yo=!0);const il=Rn.map(J=>{if(!E.isValidElement(J))return null;let Ue;if(y){if(!Array.isArray(A))throw new Error(mi(2));Ue=A.some(Dt=>kb(Dt,J.props.value)),Ue&&yo&&yn.push(J.props.children)}else Ue=kb(A,J.props.value),Ue&&yo&&(go=J.props.children);return E.cloneElement(J,{"aria-selected":Ue?"true":"false",onClick:Ct(J),onKeyUp:Dt=>{Dt.key===" "&&Dt.preventDefault(),J.props.onKeyUp&&J.props.onKeyUp(Dt)},role:"option",selected:Ue,value:void 0,"data-value":J.props.value})});yo&&(y?yn.length===0?Q=null:Q=yn.reduce((J,Ue,Dt)=>(J.push(Ue),Dt<yn.length-1&&J.push(", "),J),[]):Q=go);let sl=xn;!o&&nt&&Ee&&(sl=ge.clientWidth);let vo;typeof B<"u"?vo=B:vo=d?null:0;const _o=F.id||(m?`mui-component-select-${m}`:void 0),cs={...e,variant:q,value:A,open:gn,error:f},Ge=iG(cs),wo={...g.PaperProps,...(e1=g.slotProps)==null?void 0:e1.paper},ol=HP();return I.jsxs(E.Fragment,{children:[I.jsx(eG,{as:"div",ref:Oe,tabIndex:vo,role:"combobox","aria-controls":ol,"aria-disabled":d?"true":void 0,"aria-expanded":gn?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,_o].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":L?"true":void 0,"aria-invalid":f?"true":void 0,onKeyDown:wr,onMouseDown:d||_?null:ye,onBlur:vt,onFocus:T,...F,ownerState:cs,className:ie(F.className,Ge.select,l),id:_o,children:rG(Q)?Ib||(Ib=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Q}),I.jsx(nG,{"aria-invalid":f,value:Array.isArray(A)?A.join(","):A,name:m,ref:Se,"aria-hidden":!0,onChange:ln,tabIndex:-1,disabled:d,className:Ge.nativeInput,autoFocus:s,required:L,...P,ownerState:cs}),I.jsx(tG,{as:p,className:Ge.icon,ownerState:cs}),I.jsx(KK,{id:`menu-${m||""}`,anchorEl:ge,open:gn,onClose:Ke,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...g,MenuListProps:{"aria-labelledby":S,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ol,...g.MenuListProps},slotProps:{...g.slotProps,paper:{...wo,style:{minWidth:sl,...wo!=null?wo.style:null}}},children:il})]})}),oG=jc(I.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),aG=t=>{const{classes:e}=t;return e},Jw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>jn(t)&&t!=="variant",slot:"Root"},lG=G(Gw,Jw)(""),uG=G(Yw,Jw)(""),cG=G(Qw,Jw)(""),gO=E.forwardRef(function(e,n){const r=Le({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=oG,id:d,input:h,inputProps:f,label:p,labelId:v,MenuProps:S,multiple:g=!1,native:y=!1,onClose:m,onOpen:w,open:b,renderValue:C,SelectDisplayProps:T,variant:k="outlined",...N}=r,_=y?JK:sG,x=Ci(),L=us({props:r,muiFormControl:x,states:["variant","error"]}),F=L.variant||k,B={...r,variant:F,classes:o},O=aG(B),{root:z,...q}=O,P=h||{standard:I.jsx(lG,{ownerState:B}),outlined:I.jsx(uG,{label:p,ownerState:B}),filled:I.jsx(cG,{ownerState:B})}[F],A=an(n,zc(P));return I.jsx(E.Fragment,{children:E.cloneElement(P,{inputComponent:_,inputProps:{children:s,error:L.error,IconComponent:c,variant:F,type:void 0,multiple:g,...y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:S,onClose:m,onOpen:w,open:b,renderValue:C,SelectDisplayProps:{id:d,...T}},...f,classes:f?nn(q,f.classes):q,...h?h.props.inputProps:{}},...(g&&y||u)&&F==="outlined"?{notched:!0}:{},ref:A,className:ie(P.props.className,a,O.root),...!h&&{variant:F},...N})})});gO.muiName="Select";function dG(t){return Ae("MuiTextField",t)}ke("MuiTextField",["root"]);const hG={standard:Gw,filled:Qw,outlined:Yw},fG=t=>{const{classes:e}=t;return Pe({root:["root"]},dG,e)},pG=G(qq,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),mG=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:v,InputLabelProps:S,inputProps:g,InputProps:y,inputRef:m,label:w,maxRows:b,minRows:C,multiline:T=!1,name:k,onBlur:N,onChange:_,onFocus:x,placeholder:L,required:F=!1,rows:B,select:O=!1,SelectProps:z,slots:q={},slotProps:P={},type:A,value:W,variant:ee="outlined",...pe}=r,Se={...r,autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:T,required:F,select:O,variant:ee},me=fG(Se),Ee=HP(v),Je=p&&Ee?`${Ee}-helper-text`:void 0,nt=w&&Ee?`${Ee}-label`:void 0,xn=hG[ee],rt={slots:q,slotProps:{input:y,inputLabel:S,htmlInput:g,formHelperText:h,select:z,...P}},he={},Oe=rt.slotProps.inputLabel;ee==="outlined"&&(Oe&&typeof Oe.shrink<"u"&&(he.notched=Oe.shrink),he.label=w),O&&((!z||!z.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[ge,dt]=Gn("input",{elementType:xn,externalForwardedProps:rt,additionalProps:he,ownerState:Se}),[ye,Ke]=Gn("inputLabel",{elementType:jq,externalForwardedProps:rt,ownerState:Se}),[Rn,ln]=Gn("htmlInput",{elementType:"input",externalForwardedProps:rt,ownerState:Se}),[Ct,wr]=Gn("formHelperText",{elementType:Yq,externalForwardedProps:rt,ownerState:Se}),[gn,vt]=Gn("select",{elementType:gO,externalForwardedProps:rt,ownerState:Se}),Q=I.jsx(ge,{"aria-describedby":Je,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:T,name:k,rows:B,maxRows:b,minRows:C,type:A,value:W,id:Ee,inputRef:m,onBlur:N,onChange:_,onFocus:x,placeholder:L,inputProps:ln,slots:{input:q.htmlInput?Rn:void 0},...dt});return I.jsxs(pG,{className:ie(me.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:F,color:l,variant:ee,ownerState:Se,...pe,children:[w!=null&&w!==""&&I.jsx(ye,{htmlFor:Ee,id:nt,...Ke,children:w}),O?I.jsx(gn,{"aria-describedby":Je,id:Ee,labelId:nt,value:W,input:Q,...vt,children:o}):Q,p&&I.jsx(Ct,{id:Je,...wr,children:p})]})});function gG(t){return Ae("MuiButton",t)}const Ao=ke("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),yO=E.createContext({}),vO=E.createContext(void 0),yG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${K(e)}`,`size${K(i)}`,`${s}Size${K(i)}`,`color${K(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${K(i)}`],endIcon:["icon","endIcon",`iconSize${K(i)}`]},l=Pe(a,gG,o);return{...o,...l}},_O=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],vG=G(Hw,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${K(n.color)}`],e[`size${K(n.size)}`],e[`${n.variant}Size${K(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(Xe(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ao.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ao.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ao.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ao.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(_r()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:xt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ao.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ao.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),_G=G("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${K(n.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},..._O]}),wG=G("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${K(n.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},..._O]}),xb=E.forwardRef(function(e,n){const r=E.useContext(yO),i=E.useContext(vO),s=nc(r,e),o=Le({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:v,fullWidth:S=!1,size:g="medium",startIcon:y,type:m,variant:w="text",...b}=o,C={...o,color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:S,size:g,type:m,variant:w},T=yG(C),k=y&&I.jsx(_G,{className:T.startIcon,ownerState:C,children:y}),N=p&&I.jsx(wG,{className:T.endIcon,ownerState:C,children:p}),_=i||"";return I.jsxs(vG,{ownerState:C,className:ie(r.className,T.root,c,_),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:ie(T.focusVisible,v),ref:n,type:m,...b,classes:T,children:[k,a,N]})});function SG(t){return Ae("MuiButtonGroup",t)}const oe=ke("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),EG=(t,e)=>{const{ownerState:n}=t;return[{[`& .${oe.grouped}`]:e.grouped},{[`& .${oe.grouped}`]:e[`grouped${K(n.orientation)}`]},{[`& .${oe.grouped}`]:e[`grouped${K(n.variant)}`]},{[`& .${oe.grouped}`]:e[`grouped${K(n.variant)}${K(n.orientation)}`]},{[`& .${oe.grouped}`]:e[`grouped${K(n.variant)}${K(n.color)}`]},{[`& .${oe.firstButton}`]:e.firstButton},{[`& .${oe.lastButton}`]:e.lastButton},{[`& .${oe.middleButton}`]:e.middleButton},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},CG=t=>{const{classes:e,color:n,disabled:r,disableElevation:i,fullWidth:s,orientation:o,variant:a}=t,l={root:["root",a,o,s&&"fullWidth",i&&"disableElevation",`color${K(n)}`],grouped:["grouped",`grouped${K(o)}`,`grouped${K(a)}`,`grouped${K(a)}${K(o)}`,`grouped${K(a)}${K(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Pe(l,SG,e)},bG=G("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:EG})(Xe(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${oe.lastButton},& .${oe.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${oe.lastButton},& .${oe.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${oe.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${oe.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(_r()).flatMap(([e])=>[{props:{variant:"text",color:e},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.5)`:xt(t.palette[e].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${oe.lastButton},& .${oe.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${oe.lastButton},& .${oe.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${oe.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${oe.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(_r(["dark"])).map(([e])=>({props:{variant:"contained",color:e},style:{[`& .${oe.firstButton},& .${oe.middleButton}`]:{borderColor:(t.vars||t).palette[e].dark}}}))],[`& .${oe.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),TG=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiButtonGroup"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:d=!1,fullWidth:h=!1,orientation:f="horizontal",size:p="medium",variant:v="outlined",...S}=r,g={...r,color:o,component:a,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:h,orientation:f,size:p,variant:v},y=CG(g),m=E.useMemo(()=>({className:y.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:d,fullWidth:h,size:p,variant:v}),[o,l,u,c,d,h,p,v,y.grouped]),w=QP(i),b=w.length,C=T=>{const k=T===0,N=T===b-1;return k&&N?"":k?y.firstButton:N?y.lastButton:y.middleButton};return I.jsx(bG,{as:a,role:"group",className:ie(y.root,s),ref:n,ownerState:g,...S,children:I.jsx(yO.Provider,{value:m,children:w.map((T,k)=>I.jsx(vO.Provider,{value:C(k),children:T},k))})})});function IG(t){return Ae("MuiTypography",t)}ke("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const kG={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},xG=A7(),RG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${K(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Pe(a,IG,o)},NG=G("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${K(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Xe(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(_r()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${K(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Rb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Nb=E.forwardRef(function(e,n){const{color:r,...i}=Le({props:e,name:"MuiTypography"}),s=!kG[r],o=xG({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:f="body1",variantMapping:p=Rb,...v}=o,S={...o,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:h,variant:f,variantMapping:p},g=u||(h?"p":p[f]||Rb[f])||"span",y=RG(S);return I.jsx(NG,{as:g,ref:n,className:ie(y.root,l),...v,ownerState:S,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...v.style}})});function AG(t){return Ae("PrivateSwitchBase",t)}ke("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const PG=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${K(i)}`],input:["input"]};return Pe(s,AG,e)},OG=G(Hw)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),$G=G("input",{shouldForwardProp:jn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),DG=E.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:d,id:h,inputProps:f,inputRef:p,name:v,onBlur:S,onChange:g,onFocus:y,readOnly:m,required:w=!1,tabIndex:b,type:C,value:T,...k}=e,[N,_]=vv({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),x=Ci(),L=A=>{y&&y(A),x&&x.onFocus&&x.onFocus(A)},F=A=>{S&&S(A),x&&x.onBlur&&x.onBlur(A)},B=A=>{if(A.nativeEvent.defaultPrevented)return;const W=A.target.checked;_(W),g&&g(A,W)};let O=l;x&&typeof O>"u"&&(O=x.disabled);const z=C==="checkbox"||C==="radio",q={...e,checked:N,disabled:O,disableFocusRipple:u,edge:c},P=PG(q);return I.jsxs(OG,{component:"span",className:ie(P.root,o),centerRipple:!0,focusRipple:!u,disabled:O,tabIndex:null,role:void 0,onFocus:L,onBlur:F,ownerState:q,ref:n,...k,children:[I.jsx($G,{autoFocus:r,checked:i,defaultChecked:a,className:P.input,disabled:O,id:z?h:void 0,name:v,onChange:B,readOnly:m,ref:p,required:w,ownerState:q,tabIndex:b,type:C,...C==="checkbox"&&T===void 0?{}:{value:T},...f}),N?s:d]})}),MG=jc(I.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),LG=jc(I.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),FG=jc(I.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function BG(t){return Ae("MuiCheckbox",t)}const vg=ke("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),UG=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s={root:["root",n&&"indeterminate",`color${K(r)}`,`size${K(i)}`]},o=Pe(s,BG,e);return{...e,...o}},zG=G(DG,{shouldForwardProp:t=>jn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${K(n.size)}`],n.color!=="default"&&e[`color${K(n.color)}`]]}})(Xe(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:xt(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(_r()).map(([e])=>({props:{color:e},style:{[`&.${vg.checked}, &.${vg.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${vg.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),jG=I.jsx(LG,{}),VG=I.jsx(MG,{}),WG=I.jsx(FG,{}),HG=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiCheckbox"}),{checkedIcon:i=jG,color:s="primary",icon:o=VG,indeterminate:a=!1,indeterminateIcon:l=WG,inputProps:u,size:c="medium",disableRipple:d=!1,className:h,...f}=r,p=a?l:o,v=a?l:i,S={...r,disableRipple:d,color:s,indeterminate:a,size:c},g=UG(S);return I.jsx(zG,{type:"checkbox",inputProps:{"data-indeterminate":a,...u},icon:E.cloneElement(p,{fontSize:p.props.fontSize??c}),checkedIcon:E.cloneElement(v,{fontSize:v.props.fontSize??c}),ownerState:S,ref:n,className:ie(g.root,h),disableRipple:d,...f,classes:g})});function qG(t){return Ae("MuiFormControlLabel",t)}const Bl=ke("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),KG=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,o={root:["root",n&&"disabled",`labelPlacement${K(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Pe(o,qG,e)},GG=G("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Bl.label}`]:e.label},e.root,e[`labelPlacement${K(n.labelPlacement)}`]]}})(Xe(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Bl.disabled}`]:{cursor:"default"},[`& .${Bl.label}`]:{[`&.${Bl.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),QG=G("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Xe(({theme:t})=>({[`&.${Bl.error}`]:{color:(t.vars||t).palette.error.main}}))),YG=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:o={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:h="end",name:f,onChange:p,required:v,slots:S={},slotProps:g={},value:y,...m}=r,w=Ci(),b=l??a.props.disabled??(w==null?void 0:w.disabled),C=v??a.props.required,T={disabled:b,required:C};["checked","name","onChange","value","inputRef"].forEach(O=>{typeof a.props[O]>"u"&&typeof r[O]<"u"&&(T[O]=r[O])});const k=us({props:r,muiFormControl:w,states:["error"]}),N={...r,disabled:b,labelPlacement:h,required:C,error:k.error},_=KG(N),x={slots:S,slotProps:{...o,...g}},[L,F]=Gn("typography",{elementType:Nb,externalForwardedProps:x,ownerState:N});let B=d;return B!=null&&B.type!==Nb&&!u&&(B=I.jsx(L,{component:"span",...F,className:ie(_.label,F==null?void 0:F.className),children:B})),I.jsxs(GG,{className:ie(_.root,s),ownerState:N,ref:n,...m,children:[E.cloneElement(a,T),C?I.jsxs("div",{children:[B,I.jsxs(QG,{ownerState:N,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}):B]})});function XG(t){return Ae("MuiFormGroup",t)}ke("MuiFormGroup",["root","row","error"]);const JG=t=>{const{classes:e,row:n,error:r}=t;return Pe({root:["root",n&&"row",r&&"error"]},XG,e)},ZG=G("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),eQ=E.forwardRef(function(e,n){const r=Le({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...o}=r,a=Ci(),l=us({props:r,muiFormControl:a,states:["error"]}),u={...r,row:s,error:l.error},c=JG(u);return I.jsx(ZG,{className:ie(c.root,i),ownerState:u,ref:n,...o})}),tQ=jc(I.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");async function nQ(t,e){try{const n=/https:\/\/docs\.google\.com\/spreadsheets\/d\/([a-zA-Z0-9_-]+)/,r=t.email.match(n);console.log("Spreadsheet ID: ",r[1]);let i;const s=await e.getIdToken(!0),o=await fetch("https://us-central1-mail-maker-1b4d9.cloudfunctions.net/getSheetsKey",{method:"GET",headers:{Authorization:s}});o.ok?console.log("Authorized!"):console.error("Unauthorized"),i=await o.text(),Object.freeze(i);const u=(await(await fetch("https://sheets.googleapis.com/v4/spreadsheets/"+r[1]+"/values/"+t.range+"?key="+i,{method:"GET",headers:{Accept:"application/json"}})).json()).values;let c;for(let d=0;d<u.length;d++)for(let h=0;h<u[d].length;h++)d==0&&h==0?c=u[0][0]+", ":c=c+u[d][h]+", ";return console.log("Sending to: ",c),c}catch{return console.error("Error calling gapi:"),""}}async function rQ(t,e){try{const n=/https:\/\/docs\.google\.com\/document\/d\/([a-zA-Z0-9_-]+)/,r=t.templateLink.match(n);console.log("Template ID: ",r[1]);const i=localStorage.getItem("token"),o=await(await fetch("https://docs.googleapis.com/v1/documents/"+r[1],{method:"GET",headers:{Authorization:"Bearer "+i,Accept:"application/json"}})).json();let a="",l=[];console.log("Loaded",o.title),o.body.content.forEach(function(u){u.paragraph&&(u.paragraph.elements.forEach(function(c){if(c.textRun){const d=c.textRun.content,h=c.textRun.textStyle;let f=d;const p=[...f.matchAll(/\\(.*?)\\/g)];if(p.length!=0){let v=f,S=0,g=[];p.forEach(m=>{const w=v.slice(S,m.index);w&&g.push({type:"text",value:w}),g.push({type:"match",value:m[1]}),S=m.index+m[0].length,e(m[1])}),h.bold&&(a+="<b>"),h.italic&&(a+="<i>"),h.underline&&(a+="<u>");let y;g.some(m=>m.type==="text")&&(y=g.filter(m=>m.type==="text").map(m=>m.value),a+=y.shift()),l.push(a),a="",h.underline&&(a+="</u>"),h.italic&&(a+="</i>"),h.bold&&(a+="</b>"),y!=null&&y.forEach(m=>{a+=m,l.push(a),a=""})}else h.bold&&(f="<b>"+f+"</b>"),h.italic&&(f="<i>"+f+"</i>"),h.underline&&(f="<u>"+f+"</u>"),h.link&&(f='<a href="'+h.link.url+'" target="_blank">'+f+"</a>"),a+=f}}),a+="<br>")}),l.push(a),localStorage.setItem("messageArr",JSON.stringify(l))}catch{return console.error("Error reading template:"),""}}const iQ=async(t,e,n,r)=>{console.log("Sheet: ",e);let i;e?i=await nQ():i=t.email;let s;if(n=="template"){const o=JSON.parse(localStorage.getItem("messageArr"));console.log(o),s=`Content-Type: text/html; charset=UTF-8 \r
To: `+i+`\r
Subject: `+t.subject+`\r
\r
`;for(let a=0;a<o.length-1;a++)s+=o[a],s+=r[a].value;s+=o[o.length-1],console.log(s)}else s=`Content-Type: text/html; charset=UTF-8 \r
To: `+i+`\r
Subject: `+t.subject+`\r
\r
`+t.body;try{const a={token:localStorage.getItem("token"),body:s},l=await fetch("https://sendemail-niisnxz5da-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok){const u=await l;return console.log("Email sent:",u),!0}else{const u=await l;return console.error("Error sending email:",u),!1}}catch(o){return console.error("Error calling Firebase function:",o),!1}},sQ=async(t,e,n,r)=>{let i=JSON.parse(localStorage.getItem("savedTemplates"));const s={email:t.email,sheet:e,range:t.range,subject:t.subject,templateStatus:n,templateLink:t.templateLink,templateName:t.templateName},o=i.findIndex(a=>a.templateName==t.templateName);o!=-1?i[o]=s:i.push(s),localStorage.setItem("savedTemplates",JSON.stringify(i)),console.log("New templates: ",localStorage.getItem("savedTemplates")),await Zw(r)},oQ=async(t,e)=>{try{if(t.templates!=null)console.log("Received templates:",t.templates),localStorage.setItem("savedTemplates",t.templates);else{console.log("new user"),localStorage.removeItem("savedTemplates");const n={email:"",sheet:!1,range:"",subject:"",templateStatus:"template",templateLink:"",templateName:"Template name"};let r=[];r.push(n),localStorage.setItem("savedTemplates",JSON.stringify(r)),await Zw(e),console.log(r)}}catch(n){console.error("error calling firestore:",n)}},Zw=async t=>{try{await Qj(t,{templates:localStorage.getItem("savedTemplates")}),console.log("JSON data stored successfully!")}catch(e){console.error("Error storing data:",e)}},Ab=(t,e,n,r,i,s)=>{const o=JSON.parse(localStorage.getItem("savedTemplates")).find(a=>a.templateName==e);n(o),r(o.sheet),i(o.templateStatus),Object.assign(s,o)},aQ=(t,e,n,r)=>{const i=JSON.parse(localStorage.getItem("savedTemplates")).find(o=>o.templateName==e);n(null);let s=JSON.parse(localStorage.getItem("savedTemplates"));s=s.filter(o=>o.templateName!=i.templateName),localStorage.setItem("savedTemplates",JSON.stringify(s)),Zw(r)},Pb=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(f=>f(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,a);return a},lQ=t=>t?Pb(t):Pb,uQ=t=>t;function cQ(t,e=uQ){const n=Qn.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Qn.useDebugValue(n),n}const Ob=t=>{const e=lQ(t),n=r=>cQ(e,r);return Object.assign(n,e),n},dQ=t=>t?Ob(t):Ob,hQ=dQ(t=>({formValues:{email:"",subject:"",body:"",range:"",templateName:""},formFields:[],sheet:!1,templateStatus:"template",currentTemplate:null,buttonText:"send !!!",setTemplateStatus:e=>{t({templateStatus:e})},setCurrentTemplate:e=>{t({currentTemplate:e})},setButtonText:e=>{t({buttonText:e})},setSheet:e=>{t({sheet:e})},handleFormChange:e=>{const{name:n,value:r}=e.target;t(i=>({formValues:{...i.formValues,[n]:r}}))},addFormField:e=>{t(n=>({formFields:[...n.formFields,{id:(n.formFields.length+1).toString(),value:"",label:e}]}))},handleFormFieldChange:(e,n)=>{t(r=>({formFields:r.formFields.map(s=>s.id===e?{...s,value:n.target.value,label:s.label}:s)}))},handleSheetChange:e=>{t({sheet:e.target.checked})},handleTemplateChange:(e,n)=>{t({templateStatus:n})}})),fQ=t=>t.signOut().then(()=>console.log("signed out")).then(localStorage.removeItem("savedTemplates")),wO=async t=>{const e=new xr;e.addScope("https://www.googleapis.com/auth/gmail.send"),e.addScope("https://www.googleapis.com/auth/documents.readonly"),LL(t,e).then(n=>{const r=xr.credentialFromResult(n);localStorage.setItem("token",r.accessToken)})};function pQ(){const{status:t,data:e}=jV();if(t==="loading")return I.jsx("p",{children:"loading !!!"});const{signedIn:n,user:r}=e;return n?I.jsx(gQ,{user:r}):I.jsx(yQ,{})}function mQ(){const t=cP(),e=xF(t),n=Dj(t);return I.jsx(tW,{sdk:e,children:I.jsx(nW,{sdk:n,children:I.jsx(pQ,{})})})}function gQ({user:t}){const e=yw(),{formValues:n,formFields:r,sheet:i,templateStatus:s,currentTemplate:o,buttonText:a,handleFormChange:l,addFormField:u,handleFormFieldChange:c,handleSheetChange:d,handleTemplateChange:h,setTemplateStatus:f,setCurrentTemplate:p,setButtonText:v,setSheet:S}=hQ(),g=C=>{C.preventDefault()},y=rW(),m=Oj(y,"users",t.uid),{data:w,status:b}=eW(m);return E.useEffect(()=>{b=="success"&&t&&!localStorage.savedTemplates&&oQ(w,m)},[wO,t,b]),I.jsxs("div",{children:[I.jsx("nav",{children:I.jsxs("div",{className:"navitems",children:[I.jsx("div",{className:"left",children:I.jsx("a",{href:"/",className:"home-link",children:"logo"})}),I.jsxs("div",{className:"right",children:[I.jsxs("p",{className:"rightitem",children:["hi ",t.displayName.split(" ")[0].toLowerCase()," !!!! (",t.email,")"]}),I.jsx("img",{src:t.photoURL,alt:"user image",className:"profile-pic"})]})]})}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("h1",{className:"draftText",children:"draft your email here !!"}),I.jsx("br",{}),I.jsx("p",{children:"Your saved templates:"}),I.jsx("br",{}),I.jsx("div",{children:localStorage.getItem("savedTemplates")&&I.jsxs(TG,{variant:"outlined","aria-label":"Templates",children:[JSON.parse(localStorage.getItem("savedTemplates")).filter(C=>C.templateName!="Template name").map((C,T)=>I.jsx(xb,{onClick:k=>Ab(k,C.templateName,p,S,f,n),children:C.templateName},T)),I.jsx(xb,{"aria-label":"add",onClick:C=>Ab(C,"Template name",p,S,f,n),children:I.jsx(tQ,{})})]})}),I.jsx("br",{}),I.jsx("br",{}),o&&I.jsxs("div",{className:"emailBox",children:[I.jsx("p",{children:"1. Add your recipients or link a public google email sheet below!"}),I.jsxs(Ii,{component:"form",sx:{display:"flex",flexDirection:"row","& > :not(style)":{m:1,width:"25ch"},alignItems:"center",justifyContent:"space-between"},noValidate:!0,autoComplete:"off",children:[I.jsx(fs,{name:"email",label:"email",id:"outlined",value:n.email,onChange:l}),I.jsx(eQ,{children:I.jsx(YG,{control:I.jsx(HG,{onChange:d}),label:"Google Sheet",sx:{display:"flex",justifyContent:"center"}})})]}),i&&I.jsx(Ii,{component:"form",sx:{"& > :not(style)":{m:1,width:"52ch"}},noValidate:!0,autoComplete:"off",children:I.jsx(fs,{name:"range",label:"Range (e.g. A1:A2)",id:"outlined",value:n.range,onChange:l})}),I.jsx(Ii,{component:"form",sx:{"& > :not(style)":{m:1,width:"52ch"}},noValidate:!0,autoComplete:"off",children:I.jsx(fs,{name:"subject",label:"subject",id:"outlined",value:n.subject,onChange:l})}),I.jsx("p",{children:"2. Upload a template or fill out the body!"}),I.jsx("br",{}),I.jsxs(lq,{value:s,exclusive:!0,onChange:h,variant:"outlined",children:[I.jsx(hb,{value:"template",children:"use template"}),I.jsx(hb,{value:"write",children:"write yourself"})]}),s=="template"&&I.jsxs("form",{onSubmit:g,children:[I.jsx("br",{}),I.jsx("p",{children:'Add a link to a template document! (doesn"t need to be public)'}),I.jsxs(Ii,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[I.jsx(fs,{name:"templateLink",label:"Template Link",id:"outlined",value:n.templateLink,onChange:l}),I.jsx("button",{type:"button",onClick:async()=>{await rQ(n,u)},style:{width:"10ch",marginLeft:"3ch",marginTop:"1.5ch"},children:"Load!"})]}),r.length!=0&&I.jsxs(Ii,{component:"form",sx:{display:"flex",flexDirection:"row","& > :not(style)":{m:1,width:"25ch"},alignItems:"center",justifyContent:"space-between"},noValidate:!0,autoComplete:"off",children:[I.jsx("p",{children:"Input fields detected!"}),I.jsx(Ii,{component:"form",sx:{"& > :not(style)":{display:"flex",flexDirection:"column",m:2,width:"25ch"}},noValidate:!0,autoComplete:"off",children:r.map(C=>I.jsx(fs,{name:C.id,label:C.label,id:"outlined",value:C.value,onChange:T=>c(C.id,T)},C.id))})]})]}),s=="write"&&I.jsxs("form",{onSubmit:g,children:[I.jsx("br",{}),I.jsx("p",{children:"Draft email below!"}),I.jsx(Ii,{component:"form",sx:{"& > :not(style)":{m:1,width:"52ch"}},noValidate:!0,autoComplete:"off",children:I.jsx(fs,{name:"body",id:"outlined-multiline-static",label:"body",multiline:!0,rows:4,onChange:l})})]}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("p",{children:"3. send !!"}),I.jsx("button",{onClick:()=>v(iQ(n,i,s,r)?"sent !!!":"error sending"),children:a}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("p",{children:"Save template?"}),I.jsxs(Ii,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[I.jsx(fs,{name:"templateName",label:"Template Name",id:"outlined",value:n.templateName,onChange:l}),I.jsx("button",{type:"button",onClick:()=>sQ(n,i,s,m),style:{width:"10ch",marginLeft:"3ch",marginTop:"1.5ch"},children:"Save!"})]}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("button",{onClick:C=>aQ(C,o.templateName,p,m),className:"removeTemplate",children:"Remove template"})]}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("button",{onClick:()=>fQ(e),className:"signOutButton",children:"sign out !!"})]})}function yQ(){const t=yw();return I.jsxs("div",{children:[I.jsx("h1",{className:"draftText",children:"mail maker !!!!"}),I.jsx("br",{}),I.jsx("h3",{children:'give a template, and we"ll mass send emails!'}),I.jsx("br",{}),I.jsx("button",{onClick:()=>wO(t),className:"signInButton",children:"sign in !!! (requires google account access) "}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("h3",{children:"NOTE"}),I.jsxs("p",{children:["Google will warn you that this is an unverified app. This is because our app will gain permission to send emails through your account. We will ",I.jsx("b",{children:"only"})," use this power to send out group emails through your account and ",I.jsx("b",{children:"nothing else."})," Please continue with the app to be able to use it. It is hard for me to get verified because of the hard requirements (I need to make a privacy policy !!!! )"]})]})}function fs({name:t,label:e,id:n,value:r,onChange:i,multiline:s=!1,rows:o=4}){return I.jsx(mG,{name:t,label:e,id:n,value:r,onChange:i,multiline:s,rows:o})}const SO={apiKey:"AIzaSyDruhafsII5ugYyEaitPWlfFQyUZpXr4ro",authDomain:"mail-maker-1b4d9.firebaseapp.com",projectId:"mail-maker-1b4d9",storageBucket:"mail-maker-1b4d9.firebasestorage.app",messagingSenderId:"440165704568",appId:"1:440165704568:web:66e5b19b938b9b69c0de8d",measurementId:"G-FSHGMFJHMF"};x0(SO);KI(document.getElementById("root")).render(I.jsx(E.StrictMode,{children:I.jsx(UV,{firebaseConfig:SO,children:I.jsx(mQ,{})})}));
